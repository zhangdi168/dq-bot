{"level":"info","time":"2022-05-28 00:29:21","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0513208,"trace_id":"24f31dd57dd65d381cb5","trace_info":{"trace_id":"24f31dd57dd65d381cb5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin qUIZp80+xeOa0NPvsT5MAuU8VLrs8VMknj/qBcdxQRo=","Authorization-Date":"2022-05-28 00:29:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["24f31dd57dd65d381cb5"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0513208},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0513208},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/project/golang/dq-bot/internal/router/interceptor/check_login.go:30\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-28 00:29:23","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.6098732,"trace_id":"d239874dbbf04bb5eccc","trace_info":{"trace_id":"d239874dbbf04bb5eccc","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin YYjYORIqnjy9uPS2oAkYKAxtA/kmgwmAPkymN71FB9Q=","Authorization-Date":"2022-05-28 00:29:22","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d239874dbbf04bb5eccc"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.6098732},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:29:22","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0924629},{"timestamp":"2022-05-28 00:29:23","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0936931},{"timestamp":"2022-05-28 00:29:23","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0916401},{"timestamp":"2022-05-28 00:29:23","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0909052},{"timestamp":"2022-05-28 00:29:23","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0910205}],"redis":[{"timestamp":"2022-05-28 00:29:22","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0499035},{"timestamp":"2022-05-28 00:29:23","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.050373},{"timestamp":"2022-05-28 00:29:23","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0493802}],"success":true,"cost_seconds":0.6098732}}
{"level":"info","time":"2022-05-28 00:29:23","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2687338,"trace_id":"a98ba8a804fb281b320b","trace_info":{"trace_id":"a98ba8a804fb281b320b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin H3vO9+9NxsWQV/YGfn/opEctBJ8jrtZtDKyXpuBTzl4=","Authorization-Date":"2022-05-28 00:29:23","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a98ba8a804fb281b320b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2687338},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:29:23","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.09039}],"redis":[{"timestamp":"2022-05-28 00:29:23","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0495307},{"timestamp":"2022-05-28 00:29:23","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0787823}],"success":true,"cost_seconds":0.2687338}}
{"level":"info","time":"2022-05-28 00:29:24","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4574149,"trace_id":"eedab5858e15eae56ecf","trace_info":{"trace_id":"eedab5858e15eae56ecf","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin dsdm5sgwlEjq/P9KcnVkHxYsnu2kmwHjCw43XbswTzo=","Authorization-Date":"2022-05-28 00:29:23","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eedab5858e15eae56ecf"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4574149},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:29:24","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0908342},{"timestamp":"2022-05-28 00:29:24","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0905169}],"redis":[{"timestamp":"2022-05-28 00:29:23","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0452099},{"timestamp":"2022-05-28 00:29:23","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0463539}],"success":true,"cost_seconds":0.4574149}}
{"level":"info","time":"2022-05-30 00:32:20","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5773025,"trace_id":"4d4a09be213dcafc8de0","trace_info":{"trace_id":"4d4a09be213dcafc8de0","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin ATDSz1d1jAOOtUKU37X8DYsB2bBrdUfU1C0m0kAjjbY=","Authorization-Date":"2022-05-30 00:32:19","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4d4a09be213dcafc8de0"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5773025},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 00:32:19","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0908664},{"timestamp":"2022-05-30 00:32:19","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0877649},{"timestamp":"2022-05-30 00:32:19","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0880868},{"timestamp":"2022-05-30 00:32:20","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.087506},{"timestamp":"2022-05-30 00:32:20","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.088629}],"redis":[{"timestamp":"2022-05-30 00:32:19","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0439663},{"timestamp":"2022-05-30 00:32:19","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0439416},{"timestamp":"2022-05-30 00:32:20","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0444666}],"success":true,"cost_seconds":0.5773025}}
{"level":"info","time":"2022-05-30 00:32:20","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2174807,"trace_id":"472596085b45fea8a61e","trace_info":{"trace_id":"472596085b45fea8a61e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin IZnbqtda0MqkVKLSaZXBS25TqHSbntXAdFDZNAq3kUg=","Authorization-Date":"2022-05-30 00:32:20","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["472596085b45fea8a61e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2174807},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 00:32:20","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0871023}],"redis":[{"timestamp":"2022-05-30 00:32:20","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0433139},{"timestamp":"2022-05-30 00:32:20","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0433935}],"success":true,"cost_seconds":0.2174807}}
{"level":"info","time":"2022-05-30 00:32:27","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.406902,"trace_id":"52b56b58e8819d8d5ca6","trace_info":{"trace_id":"52b56b58e8819d8d5ca6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin fd1GIYhdEw+gcJHmv5UZGxaKKIp65UOpn9+IGGBtwjQ=","Authorization-Date":"2022-05-30 00:32:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["52b56b58e8819d8d5ca6"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.406902},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 00:32:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0985561},{"timestamp":"2022-05-30 00:32:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0866017}],"redis":[{"timestamp":"2022-05-30 00:32:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0437796},{"timestamp":"2022-05-30 00:32:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0449486}],"success":true,"cost_seconds":0.406902}}
{"level":"info","time":"2022-05-30 00:32:31","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4797257,"trace_id":"fd36067bd26a82475966","trace_info":{"trace_id":"fd36067bd26a82475966","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin MbXkrQ4huUrO7VoNJATcmgea7MR+tPBrducGWbUp3Ms=","Authorization-Date":"2022-05-30 00:32:30","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fd36067bd26a82475966"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4797257},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 00:32:31","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0881638},{"timestamp":"2022-05-30 00:32:31","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0861845}],"redis":[{"timestamp":"2022-05-30 00:32:30","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.04277},{"timestamp":"2022-05-30 00:32:31","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.043783}],"success":true,"cost_seconds":0.4797257}}
{"level":"info","time":"2022-05-30 00:32:32","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3062452,"trace_id":"8bcbeef8c8fbc0b3acec","trace_info":{"trace_id":"8bcbeef8c8fbc0b3acec","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin XjB28jy0RyLGMt7xqEVU4vlLaC5o3052abbhnVKat+o=","Authorization-Date":"2022-05-30 00:32:32","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8bcbeef8c8fbc0b3acec"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3062452},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 00:32:32","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0867404}],"redis":[{"timestamp":"2022-05-30 00:32:32","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438581},{"timestamp":"2022-05-30 00:32:32","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0437009}],"success":true,"cost_seconds":0.3062452}}
{"level":"info","time":"2022-05-30 00:32:36","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/cache/search","http_code":200,"business_code":0,"success":true,"cost_seconds":0.354374,"trace_id":"2e9b3199ec0714701037","trace_info":{"trace_id":"2e9b3199ec0714701037","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin GpdlIKZE2xmr8vucA6wJU/bWVXWwDyL+AZz4JqBhjGI=","Authorization-Date":"2022-05-30 00:32:35","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2e9b3199ec0714701037"],"Vary":["Origin"]},"body":{"val":"{\"Id\":1,\"Nickname\":\"清尘\",\"QqId\":\"7972694712745373968\",\"Avatar\":\"7972694712745373968\",\"CreateAt\":\"0001-01-01T00:00:00Z\",\"UpdateAt\":\"0001-01-01T00:00:00Z\"}","ttl":"-1ns"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.354374},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 00:32:36","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0472117},{"timestamp":"2022-05-30 00:32:36","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0437735},{"timestamp":"2022-05-30 00:32:36","handle":"get","key":"user_info:7972694712745373968","cost_seconds":0.0435826}],"success":true,"cost_seconds":0.354374}}
{"level":"info","time":"2022-05-30 00:32:38","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"PATCH","path":"/api/tool/cache/clear","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3069251,"trace_id":"16c3f9473b180b2beea7","trace_info":{"trace_id":"16c3f9473b180b2beea7","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/tool/cache/clear","header":{"Authorization":"admin hvZkK2Gzq7NxBMZANq1L4bQECIXYtYLrV+I0HDkWxpY=","Authorization-Date":"2022-05-30 00:32:38","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["16c3f9473b180b2beea7"],"Vary":["Origin"]},"body":{"bool":true},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3069251},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 00:32:38","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.043848},{"timestamp":"2022-05-30 00:32:38","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0441817},{"timestamp":"2022-05-30 00:32:38","handle":"del","key":"user_info:7972694712745373968","cost_seconds":0.0434814}],"success":true,"cost_seconds":0.3069251}}
{"level":"info","time":"2022-05-30 00:32:54","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/cache/search","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3510401,"trace_id":"ae04a059740ac6904ff5","trace_info":{"trace_id":"ae04a059740ac6904ff5","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin J2tzkrConEw9Ymv4xJxdUeukUKluI/LNXgN2je9XKeM=","Authorization-Date":"2022-05-30 00:32:53","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ae04a059740ac6904ff5"],"Vary":["Origin"]},"body":{"val":"{\"Id\":1,\"Nickname\":\"清尘\",\"QqId\":\"7972694712745373968\",\"Avatar\":\"7972694712745373968\",\"CreateAt\":\"0001-01-01T00:00:00Z\",\"UpdateAt\":\"0001-01-01T00:00:00Z\"}","ttl":"-1ns"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3510401},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 00:32:53","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438187},{"timestamp":"2022-05-30 00:32:53","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0438068},{"timestamp":"2022-05-30 00:32:54","handle":"get","key":"user_info:7972694712745373968","cost_seconds":0.0435415}],"success":true,"cost_seconds":0.3510401}}
{"level":"info","time":"2022-05-30 14:49:28","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0005008,"trace_id":"1a6a4f00328ab193f1a8","trace_info":{"trace_id":"1a6a4f00328ab193f1a8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin w4TJA6QY/ZpzDrlo5dCv0ocL9d3116Yc4dLRdtiKB3Y=","Authorization-Date":"2022-05-30 14:49:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1a6a4f00328ab193f1a8"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0005008},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0005008},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:21\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-30 14:49:31","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4773238,"trace_id":"efc38bee459420ea97e9","trace_info":{"trace_id":"efc38bee459420ea97e9","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin j3nonQoF4K6VWXhps0/e2X22yWPzsxK+k8vZRq/uAeY=","Authorization-Date":"2022-05-30 14:49:30","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["efc38bee459420ea97e9"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4773238},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 14:49:30","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0769237},{"timestamp":"2022-05-30 14:49:30","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0722108},{"timestamp":"2022-05-30 14:49:30","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0713441},{"timestamp":"2022-05-30 14:49:30","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0702287},{"timestamp":"2022-05-30 14:49:31","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0742905}],"redis":[{"timestamp":"2022-05-30 14:49:30","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0408684},{"timestamp":"2022-05-30 14:49:30","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0342859},{"timestamp":"2022-05-30 14:49:31","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0361143}],"success":true,"cost_seconds":0.4773238}}
{"level":"info","time":"2022-05-30 14:49:31","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1830868,"trace_id":"ef204c0434f964de748b","trace_info":{"trace_id":"ef204c0434f964de748b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 1AQGjoK9jYfqPY2ziHAINa8zmWq0xfd9+yyps3zB9Zw=","Authorization-Date":"2022-05-30 14:49:31","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ef204c0434f964de748b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1830868},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 14:49:31","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.06959}],"redis":[{"timestamp":"2022-05-30 14:49:31","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0367312},{"timestamp":"2022-05-30 14:49:31","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0408106}],"success":true,"cost_seconds":0.1830868}}
{"level":"info","time":"2022-05-30 14:49:38","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/cache/search","http_code":400,"business_code":10109,"success":false,"cost_seconds":0.2216724,"trace_id":"4848ebbd91eef30c54df","trace_info":{"trace_id":"4848ebbd91eef30c54df","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin PMgPbfnKv08bGJ7l2NS9VvhoBnWE9dHkEIIk6vBss+g=","Authorization-Date":"2022-05-30 14:49:37","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968%E7%BC%93"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4848ebbd91eef30c54df"],"Vary":["Origin"]},"body":null,"business_code":10109,"business_code_msg":"缓存不存在","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.2216724},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 14:49:37","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0361384},{"timestamp":"2022-05-30 14:49:38","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0386264}],"success":false,"cost_seconds":0.2216724}}
{"level":"info","time":"2022-05-30 14:49:42","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/cache/search","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2954932,"trace_id":"cdb3b12afc300c199b04","trace_info":{"trace_id":"cdb3b12afc300c199b04","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin diW3iMDiqlAB1b+T8kxtNxhc4xAe2JrzaGR9V2SymVQ=","Authorization-Date":"2022-05-30 14:49:42","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cdb3b12afc300c199b04"],"Vary":["Origin"]},"body":{"val":"{\"Id\":1,\"Nickname\":\"清尘\",\"QqId\":\"7972694712745373968\",\"Avatar\":\"7972694712745373968\",\"CreateAt\":\"0001-01-01T00:00:00Z\",\"UpdateAt\":\"0001-01-01T00:00:00Z\"}","ttl":"-1ns"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2954932},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 14:49:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0371431},{"timestamp":"2022-05-30 14:49:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0375098},{"timestamp":"2022-05-30 14:49:42","handle":"get","key":"user_info:7972694712745373968","cost_seconds":0.0370243}],"success":true,"cost_seconds":0.2954932}}
{"level":"info","time":"2022-05-30 14:49:44","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"PATCH","path":"/api/tool/cache/clear","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2480028,"trace_id":"b0de937e2956d1e2514b","trace_info":{"trace_id":"b0de937e2956d1e2514b","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/tool/cache/clear","header":{"Authorization":"admin IEBJo8Xc0O1K/1aRcrV0P53lD6WEhI97AdyCs5E9tR8=","Authorization-Date":"2022-05-30 14:49:44","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b0de937e2956d1e2514b"],"Vary":["Origin"]},"body":{"bool":true},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2480028},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 14:49:44","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0352439},{"timestamp":"2022-05-30 14:49:44","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0351512},{"timestamp":"2022-05-30 14:49:44","handle":"del","key":"user_info:7972694712745373968","cost_seconds":0.0352327}],"success":true,"cost_seconds":0.2480028}}
{"level":"info","time":"2022-05-30 16:00:37","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/cache/search","http_code":400,"business_code":10109,"success":false,"cost_seconds":0.231512,"trace_id":"70c0565c2bfb9e24e5c3","trace_info":{"trace_id":"70c0565c2bfb9e24e5c3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin fX7VznJ0ZMeSYp9oUMUGo/kfIH7doU3wfK8bL3d2rX0=","Authorization-Date":"2022-05-30 16:00:36","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968%E7%BC%93"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["70c0565c2bfb9e24e5c3"],"Vary":["Origin"]},"body":null,"business_code":10109,"business_code_msg":"缓存不存在","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.231512},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 16:00:36","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0390883},{"timestamp":"2022-05-30 16:00:37","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0363517}],"success":false,"cost_seconds":0.231512}}
{"level":"info","time":"2022-05-30 16:00:46","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/cache/search","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2984447,"trace_id":"a30fdc93b13be75d7191","trace_info":{"trace_id":"a30fdc93b13be75d7191","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin lXJe2BmYJvyQ7JEA6VEGbpaIe0M4haxGHN6xVrA/p68=","Authorization-Date":"2022-05-30 16:00:46","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=user_info%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a30fdc93b13be75d7191"],"Vary":["Origin"]},"body":{"val":"null","ttl":"-1ns"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2984447},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 16:00:46","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0357867},{"timestamp":"2022-05-30 16:00:46","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0368992},{"timestamp":"2022-05-30 16:00:46","handle":"get","key":"user_info:7972694712745373968","cost_seconds":0.0374065}],"success":true,"cost_seconds":0.2984447}}
{"level":"info","time":"2022-05-30 16:00:54","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/cache/search","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3094498,"trace_id":"8cdf9802cca1a81c1716","trace_info":{"trace_id":"8cdf9802cca1a81c1716","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin wnsRtq5PiOMRfCxpB/qNr2xxvMVsXtJZiXSTR3xoQJU=","Authorization-Date":"2022-05-30 16:00:54","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=userinfo%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8cdf9802cca1a81c1716"],"Vary":["Origin"]},"body":{"val":"{\"Id\":7,\"Nickname\":\"https://qqchannel-profile-1251316161.file.myqcloud.com/1653297104bca5220598b483a6?t=1653297104\",\"QqId\":\"7972694712745373968\",\"Avatar\":\"https://qqchannel-profile-1251316161.file.myqcloud.com/1653297104bca5220598b483a6?t=1653297104\",\"CreateAt\":\"2022-05-30T15:58:56+08:00\",\"UpdateAt\":\"2022-05-30T15:58:56+08:00\"}","ttl":"-1ns"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3094498},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 16:00:54","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0372312},{"timestamp":"2022-05-30 16:00:54","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0384491},{"timestamp":"2022-05-30 16:00:54","handle":"get","key":"userinfo:7972694712745373968","cost_seconds":0.0374915}],"success":true,"cost_seconds":0.3094498}}
{"level":"info","time":"2022-05-30 16:00:56","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"PATCH","path":"/api/tool/cache/clear","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2589862,"trace_id":"4f3e6d513a6bd11ef4a5","trace_info":{"trace_id":"4f3e6d513a6bd11ef4a5","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/tool/cache/clear","header":{"Authorization":"admin i66rZjIgHnZWV0X2a1elG/oi49/tz6Kna1nKX8KkuWI=","Authorization-Date":"2022-05-30 16:00:56","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=userinfo%3A7972694712745373968"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4f3e6d513a6bd11ef4a5"],"Vary":["Origin"]},"body":{"bool":true},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2589862},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 16:00:56","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0371793},{"timestamp":"2022-05-30 16:00:56","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.037125},{"timestamp":"2022-05-30 16:00:56","handle":"del","key":"userinfo:7972694712745373968","cost_seconds":0.0364255}],"success":true,"cost_seconds":0.2589862}}
{"level":"fatal","time":"2022-05-30 17:38:03","caller":"dq-bot/main.go:78","msg":"http server startup err","domain":"dq-bot[fat]","error":"listen tcp :9999: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."}
{"level":"info","time":"2022-05-30 17:38:17","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4514648,"trace_id":"95897ff70e559303c96d","trace_info":{"trace_id":"95897ff70e559303c96d","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin g+WI6cD5Wsi3PJNu5MQAmuanbbFxbsm3cCSvQSpUKAQ=","Authorization-Date":"2022-05-30 17:38:16","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["95897ff70e559303c96d"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4514648},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 17:38:16","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0707725},{"timestamp":"2022-05-30 17:38:16","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0691537},{"timestamp":"2022-05-30 17:38:16","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0681311},{"timestamp":"2022-05-30 17:38:16","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0677687},{"timestamp":"2022-05-30 17:38:17","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0687067}],"redis":[{"timestamp":"2022-05-30 17:38:16","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0355913},{"timestamp":"2022-05-30 17:38:16","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0359392},{"timestamp":"2022-05-30 17:38:17","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0354016}],"success":true,"cost_seconds":0.4514648}}
{"level":"info","time":"2022-05-30 17:38:17","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1819209,"trace_id":"2a8c7f4780ae919e2931","trace_info":{"trace_id":"2a8c7f4780ae919e2931","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin mX1NpkpMsYJOwUSd5PHh9o6JKTi1qoDBY8O3tgCA2KQ=","Authorization-Date":"2022-05-30 17:38:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2a8c7f4780ae919e2931"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1819209},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 17:38:17","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0691212}],"redis":[{"timestamp":"2022-05-30 17:38:17","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0376159},{"timestamp":"2022-05-30 17:38:17","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.037993}],"success":true,"cost_seconds":0.1819209}}
{"level":"info","time":"2022-05-30 23:08:26","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2244313,"trace_id":"74e8a291f1be735f8708","trace_info":{"trace_id":"74e8a291f1be735f8708","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Rp27LUaQTZlNKQqv/6rkrClpf/7yqxn3YkyUX1lM0yA=","Authorization-Date":"2022-05-30 23:08:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["74e8a291f1be735f8708"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2244313},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:08:26","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0938062}],"redis":[{"timestamp":"2022-05-30 23:08:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0426428},{"timestamp":"2022-05-30 23:08:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0438826}],"success":true,"cost_seconds":0.2244313}}
{"level":"info","time":"2022-05-30 23:08:28","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.219438,"trace_id":"1ba0e365919382d8d90c","trace_info":{"trace_id":"1ba0e365919382d8d90c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Xr4zbSJc1QTQHGlzL2Z9VgozHgC9+AXMjpNKPWM3glA=","Authorization-Date":"2022-05-30 23:08:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1ba0e365919382d8d90c"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.219438},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:08:28","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0897608}],"redis":[{"timestamp":"2022-05-30 23:08:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438815},{"timestamp":"2022-05-30 23:08:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0428847}],"success":true,"cost_seconds":0.219438}}
{"level":"info","time":"2022-05-30 23:08:35","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3955855,"trace_id":"10967cb1d43e7ae018b9","trace_info":{"trace_id":"10967cb1d43e7ae018b9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin JmFSdTrTzfEMFXbXht0ihHJ0LBj+aMUtMonQM8KEEJE=","Authorization-Date":"2022-05-30 23:08:34","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["10967cb1d43e7ae018b9"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3955855},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:08:35","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0903048},{"timestamp":"2022-05-30 23:08:35","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.08931}],"redis":[{"timestamp":"2022-05-30 23:08:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438827},{"timestamp":"2022-05-30 23:08:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0439058}],"success":true,"cost_seconds":0.3955855}}
{"level":"error","time":"2022-05-30 23:10:35","caller":"core/core.go:372","msg":"got panichtml/template: \"keywords_list.html\" is undefined","domain":"dq-bot[fat]","panic":"html/template: \"keywords_list.html\" is undefined","stack":"goroutine 49 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:371 +0x14c\npanic({0xb60300, 0xc000072f80})\n\tC:/Program Files/Go/src/runtime/panic.go:1038 +0x215\ngithub.com/gin-gonic/gin.(*Context).Render(0xc000632100, 0xc8, {0x165b8a0, 0xc00061e540})\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:914 +0x105\ngithub.com/gin-gonic/gin.(*Context).HTML(0xc000632100, 0xcae15a, {0xc00063e0c0, 0xc9e1cf}, {0x0, 0x0})\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:923 +0x6d\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*context).HTML(0x2f73760, {0xcae15a, 0xc75c40}, {0x0, 0x0})\n\tD:/project/golang/dq-bot/internal/pkg/core/context.go:260 +0x5d\ngithub.com/zhangdi168/dq-bot/internal/router.setRenderRouter.func17({0x16913e0, 0xc00061c038})\n\tD:/project/golang/dq-bot/internal/render/keywords/keywords.go:27 +0x37\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc000632100)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc000632100)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc000632100)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524 +0x2ae\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc000632100)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0002051e0, 0xc000632100)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0002051e0, {0x165d140, 0xc0006442a0}, 0xc000632300)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0, {0x165d140, 0xc0006442a0}, 0x128f75)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231 +0x26\nnet/http.serverHandler.ServeHTTP({0xc00061e1e0}, {0x165d140, 0xc0006442a0}, 0xc000632300)\n\tC:/Program Files/Go/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0004f8140, {0x1665838, 0xc00048f0e0})\n\tC:/Program Files/Go/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3033 +0x4e8\n"}
{"level":"error","time":"2022-05-30 23:10:58","caller":"core/core.go:372","msg":"got panichtml/template: \"keywords_list.html\" is undefined","domain":"dq-bot[fat]","panic":"html/template: \"keywords_list.html\" is undefined","stack":"goroutine 167 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:371 +0x14c\npanic({0x1660300, 0xc00061b2b0})\n\tC:/Program Files/Go/src/runtime/panic.go:1038 +0x215\ngithub.com/gin-gonic/gin.(*Context).Render(0xc001c26700, 0xc8, {0x215b8e0, 0xc001c5cfc0})\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:914 +0x105\ngithub.com/gin-gonic/gin.(*Context).HTML(0xc001c26700, 0x17ae15e, {0xc001c00588, 0x179e1d3}, {0x0, 0x0})\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:923 +0x6d\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*context).HTML(0x179dc2b, {0x17ae15e, 0x1775c40}, {0x0, 0x0})\n\tD:/project/golang/dq-bot/internal/pkg/core/context.go:260 +0x5d\ngithub.com/zhangdi168/dq-bot/internal/render/keywords.(*handler).List.func1({0x2191440, 0xc001c04168})\n\tD:/project/golang/dq-bot/internal/render/keywords/keywords.go:28 +0x5e\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc001c26700)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc001c26700)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc001c26700)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524 +0x2ae\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc001c26700)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0004eeb60, 0xc001c26700)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0004eeb60, {0x215d180, 0xc001c52540}, 0xc001c26500)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0, {0x215d180, 0xc001c52540}, 0xc28f75)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231 +0x26\nnet/http.serverHandler.ServeHTTP({0xc001c5ce10}, {0x215d180, 0xc001c52540}, 0xc001c26500)\n\tC:/Program Files/Go/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc000675ae0, {0x2165878, 0xc001a3e6c0})\n\tC:/Program Files/Go/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3033 +0x4e8\n"}
{"level":"error","time":"2022-05-30 23:11:04","caller":"core/core.go:372","msg":"got panichtml/template: \"keywords_list.html\" is undefined","domain":"dq-bot[fat]","panic":"html/template: \"keywords_list.html\" is undefined","stack":"goroutine 121 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:371 +0x14c\npanic({0x1a60300, 0xc00018a120})\n\tC:/Program Files/Go/src/runtime/panic.go:1038 +0x215\ngithub.com/gin-gonic/gin.(*Context).Render(0xc001b8a200, 0xc8, {0x255b8e0, 0xc000086480})\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:914 +0x105\ngithub.com/gin-gonic/gin.(*Context).HTML(0xc001b8a200, 0x1bae15f, {0xc0000d8090, 0x1b9e1cf}, {0x0, 0x0})\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:923 +0x6d\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*context).HTML(0x1ba2734, {0x1bae15f, 0x1b75c40}, {0x0, 0x0})\n\tD:/project/golang/dq-bot/internal/pkg/core/context.go:260 +0x5d\ngithub.com/zhangdi168/dq-bot/internal/render/keywords.(*handler).List.func1({0x2591440, 0xc000090038})\n\tD:/project/golang/dq-bot/internal/render/keywords/keywords.go:28 +0x5e\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc001b8a200)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc001b8a200)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc001b8a200)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524 +0x2ae\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc001b8a200)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000503040, 0xc001b8a200)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000503040, {0x255d180, 0xc001b94000}, 0xc001b8a000)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0, {0x255d180, 0xc001b94000}, 0x1028f75)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231 +0x26\nnet/http.serverHandler.ServeHTTP({0xc0000862d0}, {0x255d180, 0xc001b94000}, 0xc001b8a000)\n\tC:/Program Files/Go/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0005223c0, {0x2565878, 0xc0005db560})\n\tC:/Program Files/Go/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3033 +0x4e8\n"}
{"level":"info","time":"2022-05-30 23:13:36","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2273882,"trace_id":"6e310f28d38676dea3cc","trace_info":{"trace_id":"6e310f28d38676dea3cc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin rmDEcdJKLoqmmjDYJhML76lWkFhjvZZZkFdmSk1OM7c=","Authorization-Date":"2022-05-30 23:13:36","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6e310f28d38676dea3cc"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2273882},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:13:36","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0885414}],"redis":[{"timestamp":"2022-05-30 23:13:36","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0456144},{"timestamp":"2022-05-30 23:13:36","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0463918}],"success":true,"cost_seconds":0.2273882}}
{"level":"info","time":"2022-05-30 23:13:39","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3202106,"trace_id":"808d1e74a11271670faa","trace_info":{"trace_id":"808d1e74a11271670faa","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin /GjiX7YWuE5ecKy4c7Ku+7oIrxLFeDt0IRPoScoiodc=","Authorization-Date":"2022-05-30 23:13:38","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["808d1e74a11271670faa"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3202106},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:13:39","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0890075}],"redis":[{"timestamp":"2022-05-30 23:13:38","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0458289},{"timestamp":"2022-05-30 23:13:39","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0457682}],"success":true,"cost_seconds":0.3202106}}
{"level":"info","time":"2022-05-30 23:13:57","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3224007,"trace_id":"776242721753a910f9e4","trace_info":{"trace_id":"776242721753a910f9e4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin EWyznwv4+1EIR5PHrRbyBrq8NJdx02gaMT8GxQxUyLY=","Authorization-Date":"2022-05-30 23:13:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["776242721753a910f9e4"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3224007},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:13:57","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.08884}],"redis":[{"timestamp":"2022-05-30 23:13:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0459323},{"timestamp":"2022-05-30 23:13:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0489161}],"success":true,"cost_seconds":0.3224007}}
{"level":"info","time":"2022-05-30 23:14:55","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4079985,"trace_id":"650dac454de666a726b4","trace_info":{"trace_id":"650dac454de666a726b4","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Authorization":"admin Y1B+X41aObjtSncPr1D7Mk0fQv2RwguvojRPGRb+mFo=","Authorization-Date":"2022-05-30 23:14:55","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"level=-1&name=%E5%85%B3%E9%94%AE%E8%AF%8D&icon=&link=%2Fkeywords%2Flist&id="},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["650dac454de666a726b4"],"Vary":["Origin"]},"body":{"id":26},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4079985},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:14:55","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:27","sql":"INSERT INTO `menu` (`pid`,`name`,`link`,`icon`,`level`,`sort`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES (0,'关键词','/keywords/list','',1,0,1,-1,'2022-05-30 23:14:55.849','admin','2022-05-30 23:14:55.849','')","rows_affected":1,"cost_seconds":0.1334209}],"redis":[{"timestamp":"2022-05-30 23:14:55","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.046565},{"timestamp":"2022-05-30 23:14:55","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0457187}],"success":true,"cost_seconds":0.4079985}}
{"level":"info","time":"2022-05-30 23:14:57","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3204258,"trace_id":"dec3bbbdaced0819c27d","trace_info":{"trace_id":"dec3bbbdaced0819c27d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 3GMqSKm2kJy7TiWwLgI4SB+bFWG0ucjP6hyXT46OPrQ=","Authorization-Date":"2022-05-30 23:14:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dec3bbbdaced0819c27d"],"Vary":["Origin"]},"body":{"list":[{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3204258},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:14:57","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.088611}],"redis":[{"timestamp":"2022-05-30 23:14:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0468342},{"timestamp":"2022-05-30 23:14:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0473965}],"success":true,"cost_seconds":0.3204258}}
{"level":"info","time":"2022-05-30 23:15:00","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2722814,"trace_id":"dbbd9c6d9b7209d6b533","trace_info":{"trace_id":"dbbd9c6d9b7209d6b533","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin NkIVZFewx/zsP+fjLu3QeXCPAnPaP6nv66H+e8JQ3hY=","Authorization-Date":"2022-05-30 23:15:00","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dbbd9c6d9b7209d6b533"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2722814},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:00","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0882934}],"redis":[{"timestamp":"2022-05-30 23:15:00","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0457012},{"timestamp":"2022-05-30 23:15:00","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0925739}],"success":true,"cost_seconds":0.2722814}}
{"level":"info","time":"2022-05-30 23:15:00","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3833347,"trace_id":"eaaac64ccb18b5c59534","trace_info":{"trace_id":"eaaac64ccb18b5c59534","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 7BxjYpDDuTpRWnN4h/jqeM6XRYqX/B2/iHTtl9WFpM8=","Authorization-Date":"2022-05-30 23:15:00","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eaaac64ccb18b5c59534"],"Vary":["Origin"]},"body":{"list":[{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3833347},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:00","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0894021}],"redis":[{"timestamp":"2022-05-30 23:15:00","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0494538},{"timestamp":"2022-05-30 23:15:00","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0493517}],"success":true,"cost_seconds":0.3833347}}
{"level":"info","time":"2022-05-30 23:15:14","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3356518,"trace_id":"3327ddfa16ef7c39faee","trace_info":{"trace_id":"3327ddfa16ef7c39faee","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin xVX5DXGhmGlC+Luvg4+eud/GSxxlcVvp/k2DZrbHs+k=","Authorization-Date":"2022-05-30 23:15:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3327ddfa16ef7c39faee"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"/keywords/list","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3356518},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:14","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.088217}],"redis":[{"timestamp":"2022-05-30 23:15:14","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0492481},{"timestamp":"2022-05-30 23:15:14","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.049053}],"success":true,"cost_seconds":0.3356518}}
{"level":"info","time":"2022-05-30 23:15:16","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3308571,"trace_id":"521580141a2506c78ba3","trace_info":{"trace_id":"521580141a2506c78ba3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin YcXZPY1dT9itpiXwYmO8Rg8N+zgIqPx6UIFQ6hIqXGo=","Authorization-Date":"2022-05-30 23:15:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["521580141a2506c78ba3"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"/keywords/list","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3308571},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:16","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.0889142}],"redis":[{"timestamp":"2022-05-30 23:15:15","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0474525},{"timestamp":"2022-05-30 23:15:16","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0484493}],"success":true,"cost_seconds":0.3308571}}
{"level":"info","time":"2022-05-30 23:15:17","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3348487,"trace_id":"eeac9f8a3f74e7574d0d","trace_info":{"trace_id":"eeac9f8a3f74e7574d0d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin YP4+g4k9Ef1DqNIXkTPy9NeLh0dk1W+x0W9YOtsgoLQ=","Authorization-Date":"2022-05-30 23:15:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eeac9f8a3f74e7574d0d"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"/keywords/list","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3348487},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:17","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.0887203}],"redis":[{"timestamp":"2022-05-30 23:15:17","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0478929},{"timestamp":"2022-05-30 23:15:17","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0491751}],"success":true,"cost_seconds":0.3348487}}
{"level":"info","time":"2022-05-30 23:15:25","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4065552,"trace_id":"228b2381600b6ed180c5","trace_info":{"trace_id":"228b2381600b6ed180c5","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Authorization":"admin od0GweBhazN3TOfJxMuRMcN4rGLe/8L/N2GvoJXp6mE=","Authorization-Date":"2022-05-30 23:15:24","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"level=26&name=%E5%88%97%E8%A1%A8&icon=&link=%2Fkeywords%2Flist&id="},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["228b2381600b6ed180c5"],"Vary":["Origin"]},"body":{"id":27},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4065552},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:25","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:27","sql":"INSERT INTO `menu` (`pid`,`name`,`link`,`icon`,`level`,`sort`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES (26,'列表','/keywords/list','',2,0,1,-1,'2022-05-30 23:15:25.161','admin','2022-05-30 23:15:25.161','')","rows_affected":1,"cost_seconds":0.1227953}],"redis":[{"timestamp":"2022-05-30 23:15:24","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0492742},{"timestamp":"2022-05-30 23:15:25","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0485564}],"success":true,"cost_seconds":0.4065552}}
{"level":"info","time":"2022-05-30 23:15:26","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3325575,"trace_id":"5e1bb08d2c86fedfc4f7","trace_info":{"trace_id":"5e1bb08d2c86fedfc4f7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin fbsOlI8ziGPIu6A9mqRbNzL6RPpKVhnpTRPRktN77/4=","Authorization-Date":"2022-05-30 23:15:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5e1bb08d2c86fedfc4f7"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3325575},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:26","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0898391}],"redis":[{"timestamp":"2022-05-30 23:15:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0483933},{"timestamp":"2022-05-30 23:15:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0492516}],"success":true,"cost_seconds":0.3325575}}
{"level":"info","time":"2022-05-30 23:15:31","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3304975,"trace_id":"71db8ee63d23fcb243b4","trace_info":{"trace_id":"71db8ee63d23fcb243b4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin uTtEWOA6kaqO9ts3k/Xp3gQd74CBiOfNdWNRjjvEThU=","Authorization-Date":"2022-05-30 23:15:30","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["71db8ee63d23fcb243b4"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"/keywords/list","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3304975},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:31","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.087848}],"redis":[{"timestamp":"2022-05-30 23:15:30","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0474189},{"timestamp":"2022-05-30 23:15:30","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.049353}],"success":true,"cost_seconds":0.3304975}}
{"level":"info","time":"2022-05-30 23:15:32","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3313798,"trace_id":"60776c44488b01db9317","trace_info":{"trace_id":"60776c44488b01db9317","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin Sy1qfLD+t4c7AJ233BXvqJKNMLXgAIXKEKZ3D+Ve0Pw=","Authorization-Date":"2022-05-30 23:15:32","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["60776c44488b01db9317"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"/keywords/list","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3313798},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:32","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.0886145}],"redis":[{"timestamp":"2022-05-30 23:15:32","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0483779},{"timestamp":"2022-05-30 23:15:32","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0491404}],"success":true,"cost_seconds":0.3313798}}
{"level":"info","time":"2022-05-30 23:15:34","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3318221,"trace_id":"0fddc77b8cb1b3ccf51d","trace_info":{"trace_id":"0fddc77b8cb1b3ccf51d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin XDJEIzsBB4O5etWENfD8A+sOpfhlEoxzj7RYwVzgfRg=","Authorization-Date":"2022-05-30 23:15:34","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0fddc77b8cb1b3ccf51d"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"/keywords/list","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3318221},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:34","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.089098}],"redis":[{"timestamp":"2022-05-30 23:15:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0488068},{"timestamp":"2022-05-30 23:15:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0493469}],"success":true,"cost_seconds":0.3318221}}
{"level":"info","time":"2022-05-30 23:15:38","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4087428,"trace_id":"abac5fd81d2461b47d5f","trace_info":{"trace_id":"abac5fd81d2461b47d5f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Authorization":"admin bQ9JuvIlSgPwQlByr6qqgteBm7mAaSzTUGjQLPiwI5g=","Authorization-Date":"2022-05-30 23:15:37","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"level=-1&name=%E5%85%B3%E9%94%AE%E8%AF%8D&icon=&link=&id=N7A9w7GwXZqb"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["abac5fd81d2461b47d5f"],"Vary":["Origin"]},"body":{"id":26},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4087428},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `icon`='',`link`='',`name`='关键词',`updated_user`='admin',`updated_at`='2022-05-30 23:15:37.974' WHERE id = 26","rows_affected":1,"cost_seconds":0.1251964}],"redis":[{"timestamp":"2022-05-30 23:15:37","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0485325},{"timestamp":"2022-05-30 23:15:37","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0491435}],"success":true,"cost_seconds":0.4087428}}
{"level":"info","time":"2022-05-30 23:15:39","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3321501,"trace_id":"afe816a69fd1f46b8e15","trace_info":{"trace_id":"afe816a69fd1f46b8e15","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin Zubtd4pC7LnFMqQ/+1yEQzihY+q5EOca2rgsoUnYHjI=","Authorization-Date":"2022-05-30 23:15:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["afe816a69fd1f46b8e15"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3321501},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:39","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0905287}],"redis":[{"timestamp":"2022-05-30 23:15:39","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0474244},{"timestamp":"2022-05-30 23:15:39","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.049215}],"success":true,"cost_seconds":0.3321501}}
{"level":"info","time":"2022-05-30 23:15:55","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2334211,"trace_id":"e401d676ef3e3abb721e","trace_info":{"trace_id":"e401d676ef3e3abb721e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin JSnoJu8uQtob3J5BO3f645FV7k8ZsUpMVCH1/Xmz9CQ=","Authorization-Date":"2022-05-30 23:15:54","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e401d676ef3e3abb721e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2334211},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:15:55","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0879774}],"redis":[{"timestamp":"2022-05-30 23:15:54","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0493925},{"timestamp":"2022-05-30 23:15:55","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0483808}],"success":true,"cost_seconds":0.2334211}}
{"level":"info","time":"2022-05-30 23:16:01","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2329895,"trace_id":"645ce4367f05902488de","trace_info":{"trace_id":"645ce4367f05902488de","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin lAng2ViSnZ1L3XhITQRQQnpOSEUAyh1SVXfecBG1PWw=","Authorization-Date":"2022-05-30 23:16:00","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["645ce4367f05902488de"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2329895},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:16:01","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0882277}],"redis":[{"timestamp":"2022-05-30 23:16:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0480081},{"timestamp":"2022-05-30 23:16:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.04887}],"success":true,"cost_seconds":0.2329895}}
{"level":"info","time":"2022-05-30 23:16:08","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5191211,"trace_id":"182afcbe89b4d22ea6a5","trace_info":{"trace_id":"182afcbe89b4d22ea6a5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 2rwKHpCMrccHlhYXpfSwMhsubezrGnCxegXxSWC6Io0=","Authorization-Date":"2022-05-30 23:16:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["182afcbe89b4d22ea6a5"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5191211},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:16:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.088065},{"timestamp":"2022-05-30 23:16:08","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0907845}],"redis":[{"timestamp":"2022-05-30 23:16:07","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0485507},{"timestamp":"2022-05-30 23:16:07","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.049261}],"success":true,"cost_seconds":0.5191211}}
{"level":"info","time":"2022-05-30 23:16:08","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3325405,"trace_id":"83bf479bc8739332792b","trace_info":{"trace_id":"83bf479bc8739332792b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin kkhsMPCu6W0104ZIKGSTqxH1pCiHqS5ljHdgQvcS0mI=","Authorization-Date":"2022-05-30 23:16:08","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["83bf479bc8739332792b"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3325405},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:16:08","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0887467}],"redis":[{"timestamp":"2022-05-30 23:16:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0483033},{"timestamp":"2022-05-30 23:16:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.048805}],"success":true,"cost_seconds":0.3325405}}
{"level":"info","time":"2022-05-30 23:16:16","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2309958,"trace_id":"ab2fde5ba2c7536cd9bb","trace_info":{"trace_id":"ab2fde5ba2c7536cd9bb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin PbicT5SKyj0wMz0Dv3l9Gj/768JqkY1wE6Et5yFGq5I=","Authorization-Date":"2022-05-30 23:16:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ab2fde5ba2c7536cd9bb"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2309958},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:16:16","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0877259}],"redis":[{"timestamp":"2022-05-30 23:16:16","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.047623},{"timestamp":"2022-05-30 23:16:16","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0484041}],"success":true,"cost_seconds":0.2309958}}
{"level":"info","time":"2022-05-30 23:16:16","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3247794,"trace_id":"fd7ba5c5ae38e2b66809","trace_info":{"trace_id":"fd7ba5c5ae38e2b66809","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin UCnj/VJvUsV6M8B9t0sJN88EyUfttp+zP2FAnVbOM8c=","Authorization-Date":"2022-05-30 23:16:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fd7ba5c5ae38e2b66809"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3247794},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:16:16","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0893844}],"redis":[{"timestamp":"2022-05-30 23:16:16","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0464652},{"timestamp":"2022-05-30 23:16:16","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0497468}],"success":true,"cost_seconds":0.3247794}}
{"level":"info","time":"2022-05-30 23:16:27","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2247654,"trace_id":"3736b2d1b5a09928f360","trace_info":{"trace_id":"3736b2d1b5a09928f360","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin eBr9fNcG5gVt9jlnhrdY55YBtwOZQUToIi8BWr55quo=","Authorization-Date":"2022-05-30 23:16:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3736b2d1b5a09928f360"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2247654},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:16:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.087561}],"redis":[{"timestamp":"2022-05-30 23:16:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0460179},{"timestamp":"2022-05-30 23:16:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0458714}],"success":true,"cost_seconds":0.2247654}}
{"level":"info","time":"2022-05-30 23:16:27","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3320949,"trace_id":"91d53669125280635b45","trace_info":{"trace_id":"91d53669125280635b45","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 1yvAjxog5BZuQWj2GhVAsfqMTQUi+e0SYVmmXcbJwjg=","Authorization-Date":"2022-05-30 23:16:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["91d53669125280635b45"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3320949},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:16:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0884719}],"redis":[{"timestamp":"2022-05-30 23:16:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0485241},{"timestamp":"2022-05-30 23:16:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0493636}],"success":true,"cost_seconds":0.3320949}}
{"level":"info","time":"2022-05-30 23:17:04","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2296915,"trace_id":"f2f380c93ece531764c5","trace_info":{"trace_id":"f2f380c93ece531764c5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin WlSv5OzmzY92PLHPm2jUxTBx03U+U3pZn1tjFebwWNs=","Authorization-Date":"2022-05-30 23:17:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f2f380c93ece531764c5"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2296915},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:04","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0882829}],"redis":[{"timestamp":"2022-05-30 23:17:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0473893},{"timestamp":"2022-05-30 23:17:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0454162}],"success":true,"cost_seconds":0.2296915}}
{"level":"info","time":"2022-05-30 23:17:04","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3345748,"trace_id":"2080ec377a1d65524492","trace_info":{"trace_id":"2080ec377a1d65524492","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin HLEvViip2WR3qcjZyLfM5bOYX3YUks6SUH3Zr+Dz57M=","Authorization-Date":"2022-05-30 23:17:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2080ec377a1d65524492"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3345748},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:04","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0918738}],"redis":[{"timestamp":"2022-05-30 23:17:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0480655},{"timestamp":"2022-05-30 23:17:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0492893}],"success":true,"cost_seconds":0.3345748}}
{"level":"info","time":"2022-05-30 23:17:42","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5242069,"trace_id":"30dbdf3288c0f08241c3","trace_info":{"trace_id":"30dbdf3288c0f08241c3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin QPFGa0rtiEldt+024sgNL1vzaSKz00efGhmvy4QUUVE=","Authorization-Date":"2022-05-30 23:17:41","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["30dbdf3288c0f08241c3"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5242069},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:41","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.089181},{"timestamp":"2022-05-30 23:17:42","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0888771}],"redis":[{"timestamp":"2022-05-30 23:17:41","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.048245},{"timestamp":"2022-05-30 23:17:41","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0533484}],"success":true,"cost_seconds":0.5242069}}
{"level":"info","time":"2022-05-30 23:17:42","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3349487,"trace_id":"1e1c633e38585e7d332b","trace_info":{"trace_id":"1e1c633e38585e7d332b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin I1yGXDo9FFkK5UNTWiBCgKLEOhKGvh3ioZGIKeL7DYA=","Authorization-Date":"2022-05-30 23:17:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1e1c633e38585e7d332b"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3349487},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:42","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0893546}],"redis":[{"timestamp":"2022-05-30 23:17:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0484141},{"timestamp":"2022-05-30 23:17:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0512649}],"success":true,"cost_seconds":0.3349487}}
{"level":"info","time":"2022-05-30 23:17:43","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3453893,"trace_id":"34bc8ed89bd4ebab7a25","trace_info":{"trace_id":"34bc8ed89bd4ebab7a25","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin V6gNzQCOuKkgwrdstAtR8F2jX9tnKZamPfa1uHfytc0=","Authorization-Date":"2022-05-30 23:17:43","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["34bc8ed89bd4ebab7a25"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3453893},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:43","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0901367}],"redis":[{"timestamp":"2022-05-30 23:17:43","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0593507},{"timestamp":"2022-05-30 23:17:43","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0489956}],"success":true,"cost_seconds":0.3453893}}
{"level":"info","time":"2022-05-30 23:17:44","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3349324,"trace_id":"2d50aa583b89ca52a246","trace_info":{"trace_id":"2d50aa583b89ca52a246","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 4+xSK4blw2rwslNhYlvbMhs+Q+/jutITSsZOwXIkiQ0=","Authorization-Date":"2022-05-30 23:17:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2d50aa583b89ca52a246"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3349324},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0915488}],"redis":[{"timestamp":"2022-05-30 23:17:44","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0493322},{"timestamp":"2022-05-30 23:17:44","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0501745}],"success":true,"cost_seconds":0.3349324}}
{"level":"info","time":"2022-05-30 23:17:56","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1489938,"trace_id":"c101cf8a7f708a7b6f30","trace_info":{"trace_id":"c101cf8a7f708a7b6f30","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin 3AikCp6hM/OO42/ezyWXGMONCBpIBesnoXZ3XTjVTcI=","Authorization-Date":"2022-05-30 23:17:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c101cf8a7f708a7b6f30"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1489938},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 23:17:56","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0484899},{"timestamp":"2022-05-30 23:17:56","handle":"del","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0515328}],"success":true,"cost_seconds":0.1489938}}
{"level":"info","time":"2022-05-30 23:17:58","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5993469,"trace_id":"3cee358eb408ea4617f6","trace_info":{"trace_id":"3cee358eb408ea4617f6","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin hML2x7JT5BwBNvpUOZRmQ/AyC0DM0eaN0gQpYNMijAQ=","Authorization-Date":"2022-05-30 23:17:57","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3cee358eb408ea4617f6"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5993469},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:57","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0881489},{"timestamp":"2022-05-30 23:17:58","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0881258},{"timestamp":"2022-05-30 23:17:58","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0906374},{"timestamp":"2022-05-30 23:17:58","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0938986},{"timestamp":"2022-05-30 23:17:58","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0905641}],"redis":[{"timestamp":"2022-05-30 23:17:57","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0483814},{"timestamp":"2022-05-30 23:17:58","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0489343},{"timestamp":"2022-05-30 23:17:58","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0503768}],"success":true,"cost_seconds":0.5993469}}
{"level":"info","time":"2022-05-30 23:17:58","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2364299,"trace_id":"95a38555463e5eb0cf67","trace_info":{"trace_id":"95a38555463e5eb0cf67","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin i2bYwf+8ZHz9qsE8N3/eog2nb6qy3feQbTQSqvLU6EI=","Authorization-Date":"2022-05-30 23:17:58","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["95a38555463e5eb0cf67"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2364299},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:17:58","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0897422}],"redis":[{"timestamp":"2022-05-30 23:17:58","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.048667},{"timestamp":"2022-05-30 23:17:58","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0493762}],"success":true,"cost_seconds":0.2364299}}
{"level":"info","time":"2022-05-30 23:18:08","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5275374,"trace_id":"6548ed0d644a2ffe26b8","trace_info":{"trace_id":"6548ed0d644a2ffe26b8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin XPYKETtxrObGOeX2p7FumE2pVoulvMGnUtZMWk9zzk8=","Authorization-Date":"2022-05-30 23:18:08","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6548ed0d644a2ffe26b8"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5275374},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:18:08","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0890062},{"timestamp":"2022-05-30 23:18:08","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0878832}],"redis":[{"timestamp":"2022-05-30 23:18:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0482826},{"timestamp":"2022-05-30 23:18:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0555254}],"success":true,"cost_seconds":0.5275374}}
{"level":"info","time":"2022-05-30 23:18:13","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.527942,"trace_id":"1d6f85a7cb1b1ef2f793","trace_info":{"trace_id":"1d6f85a7cb1b1ef2f793","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin j1ym/N6BziKqVBGOjeWAYcNvXtKmjLsqN1hk1uCbFvU=","Authorization-Date":"2022-05-30 23:18:13","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1d6f85a7cb1b1ef2f793"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.527942},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:18:13","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0881249},{"timestamp":"2022-05-30 23:18:13","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0889222}],"redis":[{"timestamp":"2022-05-30 23:18:13","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0584159},{"timestamp":"2022-05-30 23:18:13","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0513529}],"success":true,"cost_seconds":0.527942}}
{"level":"info","time":"2022-05-30 23:18:15","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3413493,"trace_id":"a3387aac579aa3fd3934","trace_info":{"trace_id":"a3387aac579aa3fd3934","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin fMAXDVGPN0Ydy5d9jb7DR+0jJLADr+M3Z69eLjg5pDg=","Authorization-Date":"2022-05-30 23:18:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a3387aac579aa3fd3934"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3413493},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:18:15","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0922675}],"redis":[{"timestamp":"2022-05-30 23:18:15","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0483036},{"timestamp":"2022-05-30 23:18:15","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0492449}],"success":true,"cost_seconds":0.3413493}}
{"level":"info","time":"2022-05-30 23:24:05","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.1002385,"trace_id":"aa0112ae1f314d06c713","trace_info":{"trace_id":"aa0112ae1f314d06c713","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin zgXAAQvjf0Hg9UlFY4TQ4XuiAK3luB0y6A7a5P0NNT8=","Authorization-Date":"2022-05-30 23:24:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["aa0112ae1f314d06c713"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.1002385},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.1002385},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/project/golang/dq-bot/internal/router/interceptor/check_login.go:30\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-30 23:24:07","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5867031,"trace_id":"79a492212aeecf43e00e","trace_info":{"trace_id":"79a492212aeecf43e00e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin JQVvMk7CWbj+MqfHh0t04frCytCzVMnGDS9OXulIVBA=","Authorization-Date":"2022-05-30 23:24:07","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["79a492212aeecf43e00e"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5867031},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:24:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0881136},{"timestamp":"2022-05-30 23:24:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0883187},{"timestamp":"2022-05-30 23:24:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0880725},{"timestamp":"2022-05-30 23:24:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0877385},{"timestamp":"2022-05-30 23:24:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0896986}],"redis":[{"timestamp":"2022-05-30 23:24:07","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0483839},{"timestamp":"2022-05-30 23:24:07","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0483018},{"timestamp":"2022-05-30 23:24:07","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.047387}],"success":true,"cost_seconds":0.5867031}}
{"level":"info","time":"2022-05-30 23:24:08","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2316533,"trace_id":"05c253db47b9420682d7","trace_info":{"trace_id":"05c253db47b9420682d7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 2Sjq/bmBEqf9vg5I5C8DOT+E8d/RAMRxBIx9EyDA1ws=","Authorization-Date":"2022-05-30 23:24:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["05c253db47b9420682d7"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2316533},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:24:08","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0881018}],"redis":[{"timestamp":"2022-05-30 23:24:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0477729},{"timestamp":"2022-05-30 23:24:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0473885}],"success":true,"cost_seconds":0.2316533}}
{"level":"info","time":"2022-05-30 23:26:01","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2446027,"trace_id":"aa5ef5ec9dc9b2b01d7a","trace_info":{"trace_id":"aa5ef5ec9dc9b2b01d7a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin yqK2ZWykr1MYmnz+W/34sf+vfq/A0tS9DknfsmqGFX4=","Authorization-Date":"2022-05-30 23:26:01","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["aa5ef5ec9dc9b2b01d7a"],"Vary":["Origin"]},"body":{"list":[{"db_name":"dqbot168"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2446027},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 23:26:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0526163},{"timestamp":"2022-05-30 23:26:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0476531}],"success":true,"cost_seconds":0.2446027}}
{"level":"info","time":"2022-05-30 23:26:01","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2872147,"trace_id":"d812324e4c4a4e5a7aca","trace_info":{"trace_id":"d812324e4c4a4e5a7aca","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin wp9oNl/QXjy/V8asw7VxT8lWbGzd0W05HcZsC5mHFjs=","Authorization-Date":"2022-05-30 23:26:01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d812324e4c4a4e5a7aca"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2872147},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 23:26:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0475649},{"timestamp":"2022-05-30 23:26:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0478992}],"success":true,"cost_seconds":0.2872147}}
{"level":"info","time":"2022-05-30 23:26:14","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/data/mysql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3381716,"trace_id":"33b7acb9f820d4d26b0e","trace_info":{"trace_id":"33b7acb9f820d4d26b0e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/mysql","header":{"Authorization":"admin Ei+1wD4FGqiyeY34ujp3MHi+k/R4HbVJvi/2JAchYb4=","Authorization-Date":"2022-05-30 23:26:13","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168&table_name=cron_task&sql=explain+SELECT+*+FROM+%60cron_task%60+ORDER+BY+1+DESC"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["33b7acb9f820d4d26b0e"],"Vary":["Origin"]},"body":{"cols":["id","select_type","table","type","possible_keys","key","key_len","ref","rows","Extra"],"cols_info":[{"column_name":"id","column_comment":"主键"},{"column_name":"name","column_comment":"任务名称"},{"column_name":"spec","column_comment":"crontab 表达式"},{"column_name":"command","column_comment":"执行命令"},{"column_name":"protocol","column_comment":"执行方式 1:shell 2:http"},{"column_name":"http_method","column_comment":"http 请求方式 1:get 2:post"},{"column_name":"timeout","column_comment":"超时时间(单位:秒)"},{"column_name":"retry_times","column_comment":"重试次数"},{"column_name":"retry_interval","column_comment":"重试间隔(单位:秒)"},{"column_name":"notify_status","column_comment":"执行结束是否通知 1:不通知 2:失败通知 3:结束通知 4:结果关键字匹配通知"},{"column_name":"notify_type","column_comment":"通知类型 1:邮件 2:webhook"},{"column_name":"notify_receiver_email","column_comment":"通知者邮箱地址(多个用,分割)"},{"column_name":"notify_keyword","column_comment":"通知匹配关键字(多个用,分割)"},{"column_name":"remark","column_comment":"备注"},{"column_name":"is_used","column_comment":"是否启用 1:是  -1:否"},{"column_name":"created_at","column_comment":"创建时间"},{"column_name":"created_user","column_comment":"创建人"},{"column_name":"updated_at","column_comment":"更新时间"},{"column_name":"updated_user","column_comment":"更新人"}],"list":[{"Extra":"","id":"1","key":"PRIMARY","key_len":"4","possible_keys":"","ref":"","rows":"1","select_type":"SIMPLE","table":"cron_task","type":"index"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3381716},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 23:26:13","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0482992},{"timestamp":"2022-05-30 23:26:13","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0478726}],"success":true,"cost_seconds":0.3381716}}
{"level":"info","time":"2022-05-30 23:26:20","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/tool/data/mysql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3407295,"trace_id":"4e74200cd032058dd234","trace_info":{"trace_id":"4e74200cd032058dd234","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/mysql","header":{"Authorization":"admin 1719GzDcbQ8yyWfgXaGS+lrUzN30Bs74cjZV7O77dYE=","Authorization-Date":"2022-05-30 23:26:19","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168&table_name=cron_task&sql=SELECT+*+FROM+%60cron_task%60+ORDER+BY+1+DESC"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4e74200cd032058dd234"],"Vary":["Origin"]},"body":{"cols":["id","name","spec","command","protocol","http_method","timeout","retry_times","retry_interval","notify_status","notify_type","notify_receiver_email","notify_keyword","remark","is_used","created_at","created_user","updated_at","updated_user"],"cols_info":[{"column_name":"id","column_comment":"主键"},{"column_name":"name","column_comment":"任务名称"},{"column_name":"spec","column_comment":"crontab 表达式"},{"column_name":"command","column_comment":"执行命令"},{"column_name":"protocol","column_comment":"执行方式 1:shell 2:http"},{"column_name":"http_method","column_comment":"http 请求方式 1:get 2:post"},{"column_name":"timeout","column_comment":"超时时间(单位:秒)"},{"column_name":"retry_times","column_comment":"重试次数"},{"column_name":"retry_interval","column_comment":"重试间隔(单位:秒)"},{"column_name":"notify_status","column_comment":"执行结束是否通知 1:不通知 2:失败通知 3:结束通知 4:结果关键字匹配通知"},{"column_name":"notify_type","column_comment":"通知类型 1:邮件 2:webhook"},{"column_name":"notify_receiver_email","column_comment":"通知者邮箱地址(多个用,分割)"},{"column_name":"notify_keyword","column_comment":"通知匹配关键字(多个用,分割)"},{"column_name":"remark","column_comment":"备注"},{"column_name":"is_used","column_comment":"是否启用 1:是  -1:否"},{"column_name":"created_at","column_comment":"创建时间"},{"column_name":"created_user","column_comment":"创建人"},{"column_name":"updated_at","column_comment":"更新时间"},{"column_name":"updated_user","column_comment":"更新人"}],"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3407295},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-30 23:26:20","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0478137},{"timestamp":"2022-05-30 23:26:20","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0493627}],"success":true,"cost_seconds":0.3407295}}
{"level":"info","time":"2022-05-30 23:26:27","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5258673,"trace_id":"9e1d4b19261f006e5b22","trace_info":{"trace_id":"9e1d4b19261f006e5b22","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin SnNu6p2YxzVBXUf8G3VuFfUsmU7EaBTo8nuiWd4kAfE=","Authorization-Date":"2022-05-30 23:26:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9e1d4b19261f006e5b22"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5258673},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:26:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0958483},{"timestamp":"2022-05-30 23:26:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0951299}],"redis":[{"timestamp":"2022-05-30 23:26:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0476608},{"timestamp":"2022-05-30 23:26:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.048766}],"success":true,"cost_seconds":0.5258673}}
{"level":"info","time":"2022-05-30 23:26:27","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5257361,"trace_id":"6fda8e8693317e8fa0c6","trace_info":{"trace_id":"6fda8e8693317e8fa0c6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin kuIpxY+wIbk5IBnckvfSnNmcVHCU17foBZNROZtEAT4=","Authorization-Date":"2022-05-30 23:26:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6fda8e8693317e8fa0c6"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5257361},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:26:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0950516},{"timestamp":"2022-05-30 23:26:27","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0949501}],"redis":[{"timestamp":"2022-05-30 23:26:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0477065},{"timestamp":"2022-05-30 23:26:27","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0479242}],"success":true,"cost_seconds":0.5257361}}
{"level":"info","time":"2022-05-30 23:26:28","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3366947,"trace_id":"86707addeff6c1447a70","trace_info":{"trace_id":"86707addeff6c1447a70","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin UAYLbDq/ck8MWxvV9Uuv37qR5xroGg4NQFGW8iV4pqI=","Authorization-Date":"2022-05-30 23:26:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["86707addeff6c1447a70"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3366947},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:26:28","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.09612}],"redis":[{"timestamp":"2022-05-30 23:26:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0480258},{"timestamp":"2022-05-30 23:26:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0485334}],"success":true,"cost_seconds":0.3366947}}
{"level":"info","time":"2022-05-30 23:26:31","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4294385,"trace_id":"1135223f3c736d772358","trace_info":{"trace_id":"1135223f3c736d772358","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin kND5s95fn5tqaVD2mR0wWfrdg7CHpZKCUsQWQ2SrWNQ=","Authorization-Date":"2022-05-30 23:26:31","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1135223f3c736d772358"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4294385},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:26:31","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0960049},{"timestamp":"2022-05-30 23:26:31","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0949653}],"redis":[{"timestamp":"2022-05-30 23:26:31","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0479672},{"timestamp":"2022-05-30 23:26:31","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0468435}],"success":true,"cost_seconds":0.4294385}}
{"level":"info","time":"2022-05-30 23:26:42","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2431792,"trace_id":"84a63dec0db5f63bbeb2","trace_info":{"trace_id":"84a63dec0db5f63bbeb2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin CDX5T4SxCjxpY2U5PoZt6rl8aYxbUiM8i4rGiiLJOBc=","Authorization-Date":"2022-05-30 23:26:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["84a63dec0db5f63bbeb2"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2431792},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-30 23:26:42","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0956879}],"redis":[{"timestamp":"2022-05-30 23:26:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0515},{"timestamp":"2022-05-30 23:26:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0473837}],"success":true,"cost_seconds":0.2431792}}
{"level":"info","time":"2022-05-31 00:17:21","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4418305,"trace_id":"c88853c38b95d97f23f8","trace_info":{"trace_id":"c88853c38b95d97f23f8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin CGCWdxlnohBEBhLKvjqHE+SKOQGdEo2RtYq+4ICyDd0=","Authorization-Date":"2022-05-31 00:17:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c88853c38b95d97f23f8"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4418305},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:17:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.2711}],"redis":[{"timestamp":"2022-05-31 00:17:21","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.042643},{"timestamp":"2022-05-31 00:17:21","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0421359}],"success":true,"cost_seconds":0.4418305}}
{"level":"info","time":"2022-05-31 00:17:28","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2183398,"trace_id":"66f25b02d9e8c7471eba","trace_info":{"trace_id":"66f25b02d9e8c7471eba","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin RCIyQJg9zs3414/+EVv0a3SwsLl7a0G2cgrObgyHCEU=","Authorization-Date":"2022-05-31 00:17:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["66f25b02d9e8c7471eba"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2183398},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:17:28","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0907064}],"redis":[{"timestamp":"2022-05-31 00:17:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0426476},{"timestamp":"2022-05-31 00:17:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0432933}],"success":true,"cost_seconds":0.2183398}}
{"level":"fatal","time":"2022-05-31 00:23:42","caller":"dq-bot/main.go:78","msg":"http server startup err","domain":"dq-bot[fat]","error":"listen tcp :9999: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."}
{"level":"fatal","time":"2022-05-31 00:23:57","caller":"dq-bot/main.go:78","msg":"http server startup err","domain":"dq-bot[fat]","error":"listen tcp :9999: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."}
{"level":"fatal","time":"2022-05-31 00:24:04","caller":"dq-bot/main.go:78","msg":"http server startup err","domain":"dq-bot[fat]","error":"listen tcp :9999: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."}
{"level":"fatal","time":"2022-05-31 00:24:29","caller":"dq-bot/main.go:78","msg":"http server startup err","domain":"dq-bot[fat]","error":"listen tcp :9999: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."}
{"level":"fatal","time":"2022-05-31 00:24:38","caller":"dq-bot/main.go:78","msg":"http server startup err","domain":"dq-bot[fat]","error":"listen tcp :9999: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."}
{"level":"info","time":"2022-05-31 00:24:57","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2062673,"trace_id":"73e460539dd8c64d66f0","trace_info":{"trace_id":"73e460539dd8c64d66f0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin loHQ1K90s6G/tvdEFQaAoDos2HJV14HSozvvaMcZcX4=","Authorization-Date":"2022-05-31 00:24:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["73e460539dd8c64d66f0"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2062673},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:24:57","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0854339}],"redis":[{"timestamp":"2022-05-31 00:24:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0399552},{"timestamp":"2022-05-31 00:24:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.040398}],"success":true,"cost_seconds":0.2062673}}
{"level":"info","time":"2022-05-31 00:25:04","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1208698,"trace_id":"df89424d13dc082c2e17","trace_info":{"trace_id":"df89424d13dc082c2e17","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin YYQjvAc3eZ5lZQ+EOGMhHtnkIufxdKybIw2j0CPy1I4=","Authorization-Date":"2022-05-31 00:25:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["df89424d13dc082c2e17"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1208698},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-31 00:25:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0409824},{"timestamp":"2022-05-31 00:25:04","handle":"del","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0395904}],"success":true,"cost_seconds":0.1208698}}
{"level":"info","time":"2022-05-31 00:28:24","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":198.9030251,"trace_id":"c8cce98064c3d3457dff","trace_info":{"trace_id":"c8cce98064c3d3457dff","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin kn9A0wPdWM2xcIW8Z6Z9iP4fBcG+/0dGatHSnOk+6hY=","Authorization-Date":"2022-05-31 00:25:05","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c8cce98064c3d3457dff"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":198.9030251},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:25:05","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0829071},{"timestamp":"2022-05-31 00:27:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0886907},{"timestamp":"2022-05-31 00:28:01","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0805404},{"timestamp":"2022-05-31 00:28:24","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0801775},{"timestamp":"2022-05-31 00:28:24","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.080338}],"redis":[{"timestamp":"2022-05-31 00:25:05","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0404039},{"timestamp":"2022-05-31 00:28:24","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0421362},{"timestamp":"2022-05-31 00:28:24","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0403978}],"success":true,"cost_seconds":198.9030251}}
{"level":"info","time":"2022-05-31 00:28:25","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2014287,"trace_id":"51f4925e5148f013a2cb","trace_info":{"trace_id":"51f4925e5148f013a2cb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin XOoG5CtVVe7N978gAkIO0mNUn+M3yigfapfxekiE/sg=","Authorization-Date":"2022-05-31 00:28:24","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["51f4925e5148f013a2cb"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2014287},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:28:24","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.080511}],"redis":[{"timestamp":"2022-05-31 00:28:24","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0396521},{"timestamp":"2022-05-31 00:28:25","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0403981}],"success":true,"cost_seconds":0.2014287}}
{"level":"info","time":"2022-05-31 00:28:33","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.287583,"trace_id":"2693f6bc4e27f721fd1a","trace_info":{"trace_id":"2693f6bc4e27f721fd1a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin Swbr5FOnI+KDs6rKkiuGVpJ8eqhw8zAycu1q/TXDU3Q=","Authorization-Date":"2022-05-31 00:28:32","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2693f6bc4e27f721fd1a"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.287583},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:28:33","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0823878}],"redis":[{"timestamp":"2022-05-31 00:28:33","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0396508},{"timestamp":"2022-05-31 00:28:33","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0423329}],"success":true,"cost_seconds":0.287583}}
{"level":"info","time":"2022-05-31 00:28:42","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu_action?id=oLB9E0jwzQq8","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3673,"trace_id":"790b7914faaf12e48e3d","trace_info":{"trace_id":"790b7914faaf12e48e3d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu_action?id=oLB9E0jwzQq8","header":{"Authorization":"admin thxwwtca9bIB5zGJxcA6qAfTpEZGxtLACElw6rMKenQ=","Authorization-Date":"2022-05-31 00:28:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["790b7914faaf12e48e3d"],"Vary":["Origin"]},"body":{"menu_name":"列表","list":[]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3673},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:28:42","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 27 LIMIT 1","rows_affected":1,"cost_seconds":0.0810981},{"timestamp":"2022-05-31 00:28:42","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id = 27 ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0831832}],"redis":[{"timestamp":"2022-05-31 00:28:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0402734},{"timestamp":"2022-05-31 00:28:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0414342}],"success":true,"cost_seconds":0.3673}}
{"level":"info","time":"2022-05-31 00:28:47","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2864677,"trace_id":"4527e5f73dd3190afe76","trace_info":{"trace_id":"4527e5f73dd3190afe76","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin oBwTHwzSLWNp/P87MwwPdyyIheRJGx60MyfcWD3c9No=","Authorization-Date":"2022-05-31 00:28:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4527e5f73dd3190afe76"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2864677},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:28:47","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.081292}],"redis":[{"timestamp":"2022-05-31 00:28:46","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0394675},{"timestamp":"2022-05-31 00:28:47","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0414556}],"success":true,"cost_seconds":0.2864677}}
{"level":"info","time":"2022-05-31 00:28:50","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu_action?id=yZ5V1jp6OoWr","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3673332,"trace_id":"fa0af768c6144690e9bf","trace_info":{"trace_id":"fa0af768c6144690e9bf","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu_action?id=yZ5V1jp6OoWr","header":{"Authorization":"admin cjohiFKLAM36wgdUHw8GIyZcDl4HXGOO06wxiYh5CoI=","Authorization-Date":"2022-05-31 00:28:49","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fa0af768c6144690e9bf"],"Vary":["Origin"]},"body":{"menu_name":"告警邮箱","list":[{"hash_id":"PbGW1e369RMm","menu_id":2,"method":"PATCH","api":"/api/config/email"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3673332},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:28:50","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 2 LIMIT 1","rows_affected":1,"cost_seconds":0.0811162},{"timestamp":"2022-05-31 00:28:50","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id = 2 ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0821684}],"redis":[{"timestamp":"2022-05-31 00:28:49","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0394498},{"timestamp":"2022-05-31 00:28:49","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0408525}],"success":true,"cost_seconds":0.3673332}}
{"level":"info","time":"2022-05-31 00:29:01","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.291388,"trace_id":"447b847e277f3b397cc8","trace_info":{"trace_id":"447b847e277f3b397cc8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin yZ00UyrQ09Rl7k31y/+WswELgEYGAQJRH8UURG1PjsU=","Authorization-Date":"2022-05-31 00:29:01","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["447b847e277f3b397cc8"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.291388},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:01","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0817711}],"redis":[{"timestamp":"2022-05-31 00:29:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0403474},{"timestamp":"2022-05-31 00:29:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0439632}],"success":true,"cost_seconds":0.291388}}
{"level":"info","time":"2022-05-31 00:29:05","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu_action?id=ly0Q6Yxwvrm8","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3650404,"trace_id":"46bfb891f3aa37781ab6","trace_info":{"trace_id":"46bfb891f3aa37781ab6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu_action?id=ly0Q6Yxwvrm8","header":{"Authorization":"admin ZzHGosHs+rx/11+VqhgQLfMFFrQF+K9sLVTLLJKQ7tE=","Authorization-Date":"2022-05-31 00:29:05","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["46bfb891f3aa37781ab6"],"Vary":["Origin"]},"body":{"menu_name":"生成数据表 CURD","list":[{"hash_id":"Am4g1XN6RGb8","menu_id":5,"method":"POST","api":"/generator/gorm/execute"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3650404},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:05","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 5 LIMIT 1","rows_affected":1,"cost_seconds":0.0804539},{"timestamp":"2022-05-31 00:29:05","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id = 5 ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0802246}],"redis":[{"timestamp":"2022-05-31 00:29:05","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0413342},{"timestamp":"2022-05-31 00:29:05","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0414088}],"success":true,"cost_seconds":0.3650404}}
{"level":"info","time":"2022-05-31 00:29:11","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4449091,"trace_id":"d07a1c2fa33b7f44e5c1","trace_info":{"trace_id":"d07a1c2fa33b7f44e5c1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 6lY4r/tpgsh+xIetzEpS7H9ftbkhMWH7RCXYXa9SDts=","Authorization-Date":"2022-05-31 00:29:10","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d07a1c2fa33b7f44e5c1"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4449091},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:11","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0798335},{"timestamp":"2022-05-31 00:29:11","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0798376}],"redis":[{"timestamp":"2022-05-31 00:29:11","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0394435},{"timestamp":"2022-05-31 00:29:11","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0400589}],"success":true,"cost_seconds":0.4449091}}
{"level":"info","time":"2022-05-31 00:29:12","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2830756,"trace_id":"c9cb9762aadf62b24265","trace_info":{"trace_id":"c9cb9762aadf62b24265","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin F09DE3jeUFOB1dds5sVuPV2nMHhuvz/evpdkH7DukQw=","Authorization-Date":"2022-05-31 00:29:12","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c9cb9762aadf62b24265"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2830756},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:12","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0809461}],"redis":[{"timestamp":"2022-05-31 00:29:12","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.039446},{"timestamp":"2022-05-31 00:29:12","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0410403}],"success":true,"cost_seconds":0.2830756}}
{"level":"info","time":"2022-05-31 00:29:12","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2848886,"trace_id":"2024ab0fe87ba99a408c","trace_info":{"trace_id":"2024ab0fe87ba99a408c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin F09DE3jeUFOB1dds5sVuPV2nMHhuvz/evpdkH7DukQw=","Authorization-Date":"2022-05-31 00:29:12","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2024ab0fe87ba99a408c"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2848886},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:12","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0811146}],"redis":[{"timestamp":"2022-05-31 00:29:12","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0402591},{"timestamp":"2022-05-31 00:29:12","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0414005}],"success":true,"cost_seconds":0.2848886}}
{"level":"info","time":"2022-05-31 00:29:21","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu_action?id=ABa26kNw4oYz","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3642589,"trace_id":"399e31a14dbba906c2c8","trace_info":{"trace_id":"399e31a14dbba906c2c8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu_action?id=ABa26kNw4oYz","header":{"Authorization":"admin nkDECZRrWjfvkax/jEwTtM5DD3W2bn54GaOGUsogWDo=","Authorization-Date":"2022-05-31 00:29:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["399e31a14dbba906c2c8"],"Vary":["Origin"]},"body":{"menu_name":"管理员","list":[{"hash_id":"D7vg1Zj1ArMo","menu_id":11,"method":"PATCH","api":"/api/admin/offline"},{"hash_id":"oLB9E0jwzQq8","menu_id":11,"method":"POST","api":"/api/admin/menu"},{"hash_id":"N7A9w7GwXZqb","menu_id":11,"method":"GET","api":"/api/admin/menu/*"},{"hash_id":"PY7jEJXwyMnb","menu_id":11,"method":"GET","api":"/admin/action/*"},{"hash_id":"LqmpEgKE5jaJ","menu_id":11,"method":"DELETE","api":"/api/admin/*"},{"hash_id":"MWKd6K91vNql","menu_id":11,"method":"PATCH","api":"/api/admin/reset_password/*"},{"hash_id":"XDAa64qEpylB","menu_id":11,"method":"PATCH","api":"/api/admin/used"},{"hash_id":"YXoJ65y6xlbR","menu_id":11,"method":"GET","api":"/api/admin"},{"hash_id":"VJMGw9413ez0","menu_id":11,"method":"POST","api":"/api/admin"},{"hash_id":"A20NEdK69Dk8","menu_id":11,"method":"GET","api":"/admin/add"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3642589},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 11 LIMIT 1","rows_affected":1,"cost_seconds":0.0808373},{"timestamp":"2022-05-31 00:29:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id = 11 ORDER BY id DESC ","rows_affected":10,"cost_seconds":0.0794019}],"redis":[{"timestamp":"2022-05-31 00:29:21","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0403595},{"timestamp":"2022-05-31 00:29:21","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.041229}],"success":true,"cost_seconds":0.3642589}}
{"level":"info","time":"2022-05-31 00:29:36","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4485349,"trace_id":"d92277a1f024e2950f60","trace_info":{"trace_id":"d92277a1f024e2950f60","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin B7Ov/zcgWyFVt5driqdkj+7hk1HpzAM/tWRdTDi27pU=","Authorization-Date":"2022-05-31 00:29:35","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d92277a1f024e2950f60"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4485349},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:36","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0813254},{"timestamp":"2022-05-31 00:29:36","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0800167}],"redis":[{"timestamp":"2022-05-31 00:29:36","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0395979},{"timestamp":"2022-05-31 00:29:36","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0417393}],"success":true,"cost_seconds":0.4485349}}
{"level":"info","time":"2022-05-31 00:29:38","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/menu/zjON6am6eMdR","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4522503,"trace_id":"ff7b37eac16b339ede32","trace_info":{"trace_id":"ff7b37eac16b339ede32","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/menu/zjON6am6eMdR","header":{"Authorization":"admin FGjaO3T1xp2G8eVZBs03gUfFEceFshIVm9HvC9F+oaQ=","Authorization-Date":"2022-05-31 00:29:38","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ff7b37eac16b339ede32"],"Vary":["Origin"]},"body":{"list":[{"id":27,"pid":26,"name":"列表","is_have":0},{"id":26,"pid":0,"name":"关键词","is_have":0},{"id":1,"pid":0,"name":"配置信息","is_have":1},{"id":4,"pid":0,"name":"代码生成器","is_have":1},{"id":7,"pid":0,"name":"授权调用方","is_have":1},{"id":10,"pid":0,"name":"系统管理员","is_have":1},{"id":13,"pid":0,"name":"查询小助手","is_have":1},{"id":16,"pid":0,"name":"实用工具箱","is_have":1},{"id":2,"pid":1,"name":"告警邮箱","is_have":1},{"id":3,"pid":1,"name":"错误码","is_have":1},{"id":5,"pid":4,"name":"生成数据表 CURD","is_have":1},{"id":6,"pid":4,"name":"生成控制器方法","is_have":1},{"id":8,"pid":7,"name":"调用方","is_have":1},{"id":9,"pid":7,"name":"使用说明","is_have":1},{"id":24,"pid":23,"name":"任务列表","is_have":1},{"id":11,"pid":10,"name":"管理员","is_have":1},{"id":12,"pid":10,"name":"菜单管理","is_have":1},{"id":14,"pid":13,"name":"查询缓存","is_have":1},{"id":15,"pid":13,"name":"查询数据","is_have":1},{"id":22,"pid":16,"name":"服务升级","is_have":1},{"id":17,"pid":16,"name":"Hashids","is_have":1},{"id":18,"pid":16,"name":"调用日志","is_have":1},{"id":19,"pid":16,"name":"接口文档","is_have":1},{"id":20,"pid":16,"name":"GraphQL","is_have":1},{"id":21,"pid":16,"name":"接口指标","is_have":1},{"id":25,"pid":16,"name":"WebSocket","is_have":1}],"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4522503},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0810853},{"timestamp":"2022-05-31 00:29:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0818248},{"timestamp":"2022-05-31 00:29:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0810422}],"redis":[{"timestamp":"2022-05-31 00:29:38","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0413654},{"timestamp":"2022-05-31 00:29:38","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.041746}],"success":true,"cost_seconds":0.4522503}}
{"level":"info","time":"2022-05-31 00:29:47","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":5.0414419,"trace_id":"2d32153d11b6d7269cd0","trace_info":{"trace_id":"2d32153d11b6d7269cd0","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/menu","header":{"Authorization":"admin QcGdlSONQDQgJJJeHZkJnTln5Ap0rbVx+S+ZfR3yTIA=","Authorization-Date":"2022-05-31 00:29:42","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"id=zjON6am6eMdR&actions=26%2C27%2C1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%2C10%2C11%2C12%2C13%2C14%2C15%2C16%2C22%2C17%2C18%2C19%2C20%2C21%2C25"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2d32153d11b6d7269cd0"],"Vary":["Origin"]},"body":{"id":1},"http_code":200,"http_code_msg":"OK","cost_seconds":5.0414419},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:42","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:73","sql":"DELETE FROM `admin_menu` WHERE admin_id = 1","rows_affected":25,"cost_seconds":0.1402661},{"timestamp":"2022-05-31 00:29:43","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,26,'2022-05-31 00:29:42.993','admin')","rows_affected":1,"cost_seconds":0.1427505},{"timestamp":"2022-05-31 00:29:43","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,27,'2022-05-31 00:29:43.18','admin')","rows_affected":1,"cost_seconds":0.1399191},{"timestamp":"2022-05-31 00:29:43","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,1,'2022-05-31 00:29:43.368','admin')","rows_affected":1,"cost_seconds":0.1421363},{"timestamp":"2022-05-31 00:29:43","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,2,'2022-05-31 00:29:43.555','admin')","rows_affected":1,"cost_seconds":0.1393693},{"timestamp":"2022-05-31 00:29:43","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,3,'2022-05-31 00:29:43.739','admin')","rows_affected":1,"cost_seconds":0.1385102},{"timestamp":"2022-05-31 00:29:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,4,'2022-05-31 00:29:43.924','admin')","rows_affected":1,"cost_seconds":0.1389259},{"timestamp":"2022-05-31 00:29:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,5,'2022-05-31 00:29:44.108','admin')","rows_affected":1,"cost_seconds":0.1391187},{"timestamp":"2022-05-31 00:29:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,6,'2022-05-31 00:29:44.292','admin')","rows_affected":1,"cost_seconds":0.1403066},{"timestamp":"2022-05-31 00:29:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,7,'2022-05-31 00:29:44.482','admin')","rows_affected":1,"cost_seconds":0.1493209},{"timestamp":"2022-05-31 00:29:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,8,'2022-05-31 00:29:44.676','admin')","rows_affected":1,"cost_seconds":0.1430121},{"timestamp":"2022-05-31 00:29:45","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,9,'2022-05-31 00:29:44.864','admin')","rows_affected":1,"cost_seconds":0.1389445},{"timestamp":"2022-05-31 00:29:45","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,10,'2022-05-31 00:29:45.05','admin')","rows_affected":1,"cost_seconds":0.1425841},{"timestamp":"2022-05-31 00:29:45","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,11,'2022-05-31 00:29:45.238','admin')","rows_affected":1,"cost_seconds":0.1422118},{"timestamp":"2022-05-31 00:29:45","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,12,'2022-05-31 00:29:45.425','admin')","rows_affected":1,"cost_seconds":0.1399354},{"timestamp":"2022-05-31 00:29:45","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,13,'2022-05-31 00:29:45.61','admin')","rows_affected":1,"cost_seconds":0.1397889},{"timestamp":"2022-05-31 00:29:45","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,14,'2022-05-31 00:29:45.795','admin')","rows_affected":1,"cost_seconds":0.1429944},{"timestamp":"2022-05-31 00:29:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,15,'2022-05-31 00:29:45.983','admin')","rows_affected":1,"cost_seconds":0.1403176},{"timestamp":"2022-05-31 00:29:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,16,'2022-05-31 00:29:46.168','admin')","rows_affected":1,"cost_seconds":0.1411781},{"timestamp":"2022-05-31 00:29:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,22,'2022-05-31 00:29:46.354','admin')","rows_affected":1,"cost_seconds":0.139738},{"timestamp":"2022-05-31 00:29:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,17,'2022-05-31 00:29:46.539','admin')","rows_affected":1,"cost_seconds":0.1404919},{"timestamp":"2022-05-31 00:29:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,18,'2022-05-31 00:29:46.723','admin')","rows_affected":1,"cost_seconds":0.1393606},{"timestamp":"2022-05-31 00:29:47","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,19,'2022-05-31 00:29:46.907','admin')","rows_affected":1,"cost_seconds":0.1407783},{"timestamp":"2022-05-31 00:29:47","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,20,'2022-05-31 00:29:47.093','admin')","rows_affected":1,"cost_seconds":0.1394142},{"timestamp":"2022-05-31 00:29:47","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,21,'2022-05-31 00:29:47.277','admin')","rows_affected":1,"cost_seconds":0.1387996},{"timestamp":"2022-05-31 00:29:47","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (1,25,'2022-05-31 00:29:47.461','admin')","rows_affected":1,"cost_seconds":0.1385953}],"redis":[{"timestamp":"2022-05-31 00:29:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0404498},{"timestamp":"2022-05-31 00:29:42","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.041308}],"success":true,"cost_seconds":5.0414419}}
{"level":"info","time":"2022-05-31 00:29:54","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5416124,"trace_id":"6e5b60386efc20cd4a7f","trace_info":{"trace_id":"6e5b60386efc20cd4a7f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin fNFn+Bu2vVYhCiEWyM0RpWWdOp7uqcJEc2sBTlLFILs=","Authorization-Date":"2022-05-31 00:29:54","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6e5b60386efc20cd4a7f"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5416124},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:54","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0873933},{"timestamp":"2022-05-31 00:29:54","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0827188}],"redis":[{"timestamp":"2022-05-31 00:29:54","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0457508},{"timestamp":"2022-05-31 00:29:54","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0463952}],"success":true,"cost_seconds":0.5416124}}
{"level":"info","time":"2022-05-31 00:29:56","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.234913,"trace_id":"e46f916a29d41885bb1f","trace_info":{"trace_id":"e46f916a29d41885bb1f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 0xwK9EbHZ+i99CKjcqR2w1IFPODVjaqnaB3L/RQ7C3c=","Authorization-Date":"2022-05-31 00:29:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e46f916a29d41885bb1f"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.234913},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:56","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0795927}],"redis":[{"timestamp":"2022-05-31 00:29:56","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0468208},{"timestamp":"2022-05-31 00:29:56","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0455722}],"success":true,"cost_seconds":0.234913}}
{"level":"info","time":"2022-05-31 00:29:56","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.53867,"trace_id":"746c67b89ac6fb180fc8","trace_info":{"trace_id":"746c67b89ac6fb180fc8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin iTmL1fHIj2KEd8IP9sU6GX54bzw6Ulu7tMytNcmmWEk=","Authorization-Date":"2022-05-31 00:29:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["746c67b89ac6fb180fc8"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.53867},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:29:56","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0809814},{"timestamp":"2022-05-31 00:29:56","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0800781}],"redis":[{"timestamp":"2022-05-31 00:29:56","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0465082},{"timestamp":"2022-05-31 00:29:56","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0468431}],"success":true,"cost_seconds":0.53867}}
{"level":"info","time":"2022-05-31 00:30:01","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1401489,"trace_id":"99e1aa7c2b455716845a","trace_info":{"trace_id":"99e1aa7c2b455716845a","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin ssF+BSjeaD/N9dEKVqqFiDnr3yRT6xlmvQBTN07+H6k=","Authorization-Date":"2022-05-31 00:30:01","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["99e1aa7c2b455716845a"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1401489},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-31 00:30:01","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0471218},{"timestamp":"2022-05-31 00:30:01","handle":"del","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0465442}],"success":true,"cost_seconds":0.1401489}}
{"level":"info","time":"2022-05-31 00:30:11","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":8.7338284,"trace_id":"2407cc5f3479f1b72487","trace_info":{"trace_id":"2407cc5f3479f1b72487","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin PPqRwPwtkZkRsq4UYGmtzJShWlmrnh1AMODpzhLPB9k=","Authorization-Date":"2022-05-31 00:30:02","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2407cc5f3479f1b72487"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":8.7338284},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:30:02","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0800783},{"timestamp":"2022-05-31 00:30:10","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0804485},{"timestamp":"2022-05-31 00:30:11","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.081329},{"timestamp":"2022-05-31 00:30:11","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0802848},{"timestamp":"2022-05-31 00:30:11","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,21,20,19,18,17,22,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,27,26) ","rows_affected":40,"cost_seconds":0.0884871}],"redis":[{"timestamp":"2022-05-31 00:30:02","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0493761},{"timestamp":"2022-05-31 00:30:11","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":27,\"pid\":26,\"name\":\"列表\",\"link\":\"/keywords/list\",\"icon\":\"\"},{\"id\":26,\"pid\":0,\"name\":\"关键词\",\"link\":\"\",\"icon\":\"\"},{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0473796},{"timestamp":"2022-05-31 00:30:11","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.046382}],"success":true,"cost_seconds":8.7338284}}
{"level":"info","time":"2022-05-31 00:30:11","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2258372,"trace_id":"1a5752c82b310fd1480c","trace_info":{"trace_id":"1a5752c82b310fd1480c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin ty5z71qUH/JGUBKXgHhG7iF4cLFJhwBYvQsFqLaUAGg=","Authorization-Date":"2022-05-31 00:30:11","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1a5752c82b310fd1480c"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":""},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2258372},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:30:11","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0799797}],"redis":[{"timestamp":"2022-05-31 00:30:11","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0471213},{"timestamp":"2022-05-31 00:30:11","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0477699}],"success":true,"cost_seconds":0.2258372}}
{"level":"info","time":"2022-05-31 00:30:23","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3198339,"trace_id":"b48b7061deea7ed6522d","trace_info":{"trace_id":"b48b7061deea7ed6522d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin yHHRA3KOeUkfzwTivB8xZusU25FiY73SW3cQsE+YuAU=","Authorization-Date":"2022-05-31 00:30:22","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b48b7061deea7ed6522d"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3198339},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:30:23","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.082031}],"redis":[{"timestamp":"2022-05-31 00:30:22","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0471456},{"timestamp":"2022-05-31 00:30:23","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0469343}],"success":true,"cost_seconds":0.3198339}}
{"level":"info","time":"2022-05-31 00:30:33","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/zjON6am6eMdR","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3161904,"trace_id":"b76ce0f2c12f36867cd1","trace_info":{"trace_id":"b76ce0f2c12f36867cd1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/zjON6am6eMdR","header":{"Authorization":"admin eO5e73zwSd770v4KztCk04dgblIP6xp0klAT/8BCYBA=","Authorization-Date":"2022-05-31 00:30:32","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b76ce0f2c12f36867cd1"],"Vary":["Origin"]},"body":{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3161904},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:30:33","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0816434}],"redis":[{"timestamp":"2022-05-31 00:30:33","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0470741},{"timestamp":"2022-05-31 00:30:33","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0467566}],"success":true,"cost_seconds":0.3161904}}
{"level":"info","time":"2022-05-31 00:33:58","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3241339,"trace_id":"fbc245d6ebf5d47b40e2","trace_info":{"trace_id":"fbc245d6ebf5d47b40e2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin ewQCwujMcRb6DtJyWVkTvrXnBUo7ZhIOr4bzU876qwc=","Authorization-Date":"2022-05-31 00:33:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fbc245d6ebf5d47b40e2"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3241339},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:33:58","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.079788}],"redis":[{"timestamp":"2022-05-31 00:33:58","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0478718},{"timestamp":"2022-05-31 00:33:58","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0468746}],"success":true,"cost_seconds":0.3241339}}
{"level":"info","time":"2022-05-31 00:34:03","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4249669,"trace_id":"24b536827d14ecbe1c07","trace_info":{"trace_id":"24b536827d14ecbe1c07","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Authorization":"admin fZdivONN8BwJYG7o+7bBK2tn6hHUhrwuotUV8vx1ics=","Authorization-Date":"2022-05-31 00:34:03","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"level=-1&name=%E5%85%B3%E9%94%AE%E8%AF%8D&icon=library_books&link=&id=N7A9w7GwXZqb"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["24b536827d14ecbe1c07"],"Vary":["Origin"]},"body":{"id":26},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4249669},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:03","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `icon`='library_books',`link`='',`name`='关键词',`updated_user`='admin',`updated_at`='2022-05-31 00:34:03.588' WHERE id = 26","rows_affected":1,"cost_seconds":0.1422158}],"redis":[{"timestamp":"2022-05-31 00:34:03","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0458777},{"timestamp":"2022-05-31 00:34:03","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.047874}],"success":true,"cost_seconds":0.4249669}}
{"level":"info","time":"2022-05-31 00:34:05","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3202982,"trace_id":"af21291a6ce4a5cfd8e4","trace_info":{"trace_id":"af21291a6ce4a5cfd8e4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin Qc+5dxTUe50nKStM3WVVRWQatr0ANkj1rZgizYqz4N0=","Authorization-Date":"2022-05-31 00:34:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["af21291a6ce4a5cfd8e4"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"library_books","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3202982},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:05","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0831601}],"redis":[{"timestamp":"2022-05-31 00:34:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0470638},{"timestamp":"2022-05-31 00:34:05","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0468612}],"success":true,"cost_seconds":0.3202982}}
{"level":"info","time":"2022-05-31 00:34:06","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2246709,"trace_id":"92fda6e4507c20f56cdd","trace_info":{"trace_id":"92fda6e4507c20f56cdd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin MQrpcRTUBG8OxNQTRv3kaydyzH9B1JtSYo/tl7ERCfc=","Authorization-Date":"2022-05-31 00:34:06","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["92fda6e4507c20f56cdd"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":""},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2246709},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:06","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0810671}],"redis":[{"timestamp":"2022-05-31 00:34:06","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0494582},{"timestamp":"2022-05-31 00:34:06","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0473891}],"success":true,"cost_seconds":0.2246709}}
{"level":"info","time":"2022-05-31 00:34:09","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":3.3455579,"trace_id":"1f2013d0c8a5545d19f6","trace_info":{"trace_id":"1f2013d0c8a5545d19f6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 9qhITqNU5lfDroy5bsLQk4ApHmhdLWtWVq14J0AlYJw=","Authorization-Date":"2022-05-31 00:34:06","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1f2013d0c8a5545d19f6"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"library_books","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":3.3455579},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:09","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0826493}],"redis":[{"timestamp":"2022-05-31 00:34:09","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0471073},{"timestamp":"2022-05-31 00:34:09","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0470564}],"success":true,"cost_seconds":3.3455579}}
{"level":"info","time":"2022-05-31 00:34:12","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.140673,"trace_id":"cab25b70ff94192601c5","trace_info":{"trace_id":"cab25b70ff94192601c5","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin a/mvNWdO6UOpUQbbkRb3OmyBj4aWufNVP78SkgBoWuo=","Authorization-Date":"2022-05-31 00:34:12","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cab25b70ff94192601c5"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.140673},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-31 00:34:12","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0472295},{"timestamp":"2022-05-31 00:34:12","handle":"del","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.046874}],"success":true,"cost_seconds":0.140673}}
{"level":"info","time":"2022-05-31 00:34:14","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5496326,"trace_id":"445b6f7e937904b199d2","trace_info":{"trace_id":"445b6f7e937904b199d2","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin P+B164+Hs+qU2ufzIXAHeuyjsqkgMYx9zTH4OnjzaSI=","Authorization-Date":"2022-05-31 00:34:14","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["445b6f7e937904b199d2"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5496326},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:14","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0821518},{"timestamp":"2022-05-31 00:34:14","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0803466},{"timestamp":"2022-05-31 00:34:14","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0809341},{"timestamp":"2022-05-31 00:34:14","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0811224},{"timestamp":"2022-05-31 00:34:14","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,21,20,19,18,17,22,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,27,26) ","rows_affected":40,"cost_seconds":0.0825967}],"redis":[{"timestamp":"2022-05-31 00:34:14","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0474287},{"timestamp":"2022-05-31 00:34:14","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":27,\"pid\":26,\"name\":\"列表\",\"link\":\"/keywords/list\",\"icon\":\"\"},{\"id\":26,\"pid\":0,\"name\":\"关键词\",\"link\":\"\",\"icon\":\"library_books\"},{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0468865},{"timestamp":"2022-05-31 00:34:14","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0473853}],"success":true,"cost_seconds":0.5496326}}
{"level":"info","time":"2022-05-31 00:34:14","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2204359,"trace_id":"ca9237e210a28dc8f9d8","trace_info":{"trace_id":"ca9237e210a28dc8f9d8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin AqDmh4F65vCcTRWkRZs8YwsiU962+93q0+0KmPhzNwE=","Authorization-Date":"2022-05-31 00:34:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ca9237e210a28dc8f9d8"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"library_books"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2204359},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:14","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0813501}],"redis":[{"timestamp":"2022-05-31 00:34:14","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0468748},{"timestamp":"2022-05-31 00:34:14","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0463832}],"success":true,"cost_seconds":0.2204359}}
{"level":"info","time":"2022-05-31 00:34:49","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3975959,"trace_id":"4b59f64e1fb604ebcbc2","trace_info":{"trace_id":"4b59f64e1fb604ebcbc2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin hw8/eIw7GnL11OzIn+aZVKS+dPuYHU8IdYtEwzKtseI=","Authorization-Date":"2022-05-31 00:34:49","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4b59f64e1fb604ebcbc2"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3975959},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:49","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0809055},{"timestamp":"2022-05-31 00:34:49","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0799876}],"redis":[{"timestamp":"2022-05-31 00:34:49","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0469213},{"timestamp":"2022-05-31 00:34:49","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0474119}],"success":true,"cost_seconds":0.3975959}}
{"level":"info","time":"2022-05-31 00:34:53","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3491095,"trace_id":"9b151a3fb1095e396e5d","trace_info":{"trace_id":"9b151a3fb1095e396e5d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin zVqYkZl4oCJ1NHsEE8nQpqffWuLCpONDl9FejhifvQw=","Authorization-Date":"2022-05-31 00:34:53","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9b151a3fb1095e396e5d"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"library_books","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3491095},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:34:53","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0823009}],"redis":[{"timestamp":"2022-05-31 00:34:53","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.045279},{"timestamp":"2022-05-31 00:34:53","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0439043}],"success":true,"cost_seconds":0.3491095}}
{"level":"info","time":"2022-05-31 00:35:04","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/oLB9E0jwzQq8","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3017257,"trace_id":"f6c9b53ce729d27527b1","trace_info":{"trace_id":"f6c9b53ce729d27527b1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/oLB9E0jwzQq8","header":{"Authorization":"admin 4bngtjMZe6pQrrLE/3IyH5y7LbU+l8kTfavgzeSqljU=","Authorization-Date":"2022-05-31 00:35:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f6c9b53ce729d27527b1"],"Vary":["Origin"]},"body":{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3017257},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:04","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 27 LIMIT 1","rows_affected":1,"cost_seconds":0.0812812}],"redis":[{"timestamp":"2022-05-31 00:35:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438537},{"timestamp":"2022-05-31 00:35:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0438739}],"success":true,"cost_seconds":0.3017257}}
{"level":"info","time":"2022-05-31 00:35:08","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4113028,"trace_id":"6cc3806a57ed6ac03700","trace_info":{"trace_id":"6cc3806a57ed6ac03700","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Authorization":"admin UtekIpqVsr2QF4MwKFxvx6fysgEIvsbP3uYVe8YIhF0=","Authorization-Date":"2022-05-31 00:35:08","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"level=26&name=%E5%88%97%E8%A1%A8&icon=mdi-audiobook&link=%2Fkeywords%2Flist&id=oLB9E0jwzQq8"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6cc3806a57ed6ac03700"],"Vary":["Origin"]},"body":{"id":27},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4113028},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:08","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `icon`='mdi-audiobook',`link`='/keywords/list',`name`='列表',`updated_user`='admin',`updated_at`='2022-05-31 00:35:08.686' WHERE id = 27","rows_affected":1,"cost_seconds":0.1428047}],"redis":[{"timestamp":"2022-05-31 00:35:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0478918},{"timestamp":"2022-05-31 00:35:08","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0442168}],"success":true,"cost_seconds":0.4113028}}
{"level":"info","time":"2022-05-31 00:35:10","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.301924,"trace_id":"b27d727f6aba3558cb8f","trace_info":{"trace_id":"b27d727f6aba3558cb8f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin omhBl9/ooz5gKwlQoUXfIMuas0Rik2x0ye9X36DpFBQ=","Authorization-Date":"2022-05-31 00:35:10","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b27d727f6aba3558cb8f"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"mdi-audiobook","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"library_books","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.301924},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:10","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0814801}],"redis":[{"timestamp":"2022-05-31 00:35:10","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.044262},{"timestamp":"2022-05-31 00:35:10","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0438815}],"success":true,"cost_seconds":0.301924}}
{"level":"info","time":"2022-05-31 00:35:15","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/oLB9E0jwzQq8","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3006221,"trace_id":"22e6f7a3ecde72370824","trace_info":{"trace_id":"22e6f7a3ecde72370824","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/oLB9E0jwzQq8","header":{"Authorization":"admin j1RPJD4T0LoJFj/eI/umCoVkk8gwMPnJVVpuEZ96lk4=","Authorization-Date":"2022-05-31 00:35:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["22e6f7a3ecde72370824"],"Vary":["Origin"]},"body":{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":"mdi-audiobook"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3006221},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:15","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 27 LIMIT 1","rows_affected":1,"cost_seconds":0.0803455}],"redis":[{"timestamp":"2022-05-31 00:35:15","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0439908},{"timestamp":"2022-05-31 00:35:15","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0437749}],"success":true,"cost_seconds":0.3006221}}
{"level":"info","time":"2022-05-31 00:35:16","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/oLB9E0jwzQq8","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3008727,"trace_id":"877ac99c2163cafdcfa5","trace_info":{"trace_id":"877ac99c2163cafdcfa5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/oLB9E0jwzQq8","header":{"Authorization":"admin GmtWwUIOcGyNVjrb5D1iamfu+ezuS3S7dmRDQUpr0Xk=","Authorization-Date":"2022-05-31 00:35:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["877ac99c2163cafdcfa5"],"Vary":["Origin"]},"body":{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":"mdi-audiobook"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3008727},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:16","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 27 LIMIT 1","rows_affected":1,"cost_seconds":0.0807022}],"redis":[{"timestamp":"2022-05-31 00:35:16","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438632},{"timestamp":"2022-05-31 00:35:16","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0439077}],"success":true,"cost_seconds":0.3008727}}
{"level":"info","time":"2022-05-31 00:35:19","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4127148,"trace_id":"042149f8bf59edd1db06","trace_info":{"trace_id":"042149f8bf59edd1db06","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Authorization":"admin Q0EtzOTtqAVhLku70d4Hku0zeBV5TJRV9zG3sAKAD60=","Authorization-Date":"2022-05-31 00:35:19","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"level=26&name=%E5%88%97%E8%A1%A8&icon=&link=%2Fkeywords%2Flist&id=oLB9E0jwzQq8"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["042149f8bf59edd1db06"],"Vary":["Origin"]},"body":{"id":27},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4127148},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:19","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `icon`='',`link`='/keywords/list',`name`='列表',`updated_user`='admin',`updated_at`='2022-05-31 00:35:19.485' WHERE id = 27","rows_affected":1,"cost_seconds":0.1394554}],"redis":[{"timestamp":"2022-05-31 00:35:19","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0451719},{"timestamp":"2022-05-31 00:35:19","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0490361}],"success":true,"cost_seconds":0.4127148}}
{"level":"info","time":"2022-05-31 00:35:21","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3019417,"trace_id":"9b8412e7d225a711e84d","trace_info":{"trace_id":"9b8412e7d225a711e84d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin oSYGJMzaMBh3Lrn1u36oO92cqNN/6ybN9DDkATX76qw=","Authorization-Date":"2022-05-31 00:35:20","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9b8412e7d225a711e84d"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"library_books","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3019417},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0814457}],"redis":[{"timestamp":"2022-05-31 00:35:20","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438152},{"timestamp":"2022-05-31 00:35:20","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0439423}],"success":true,"cost_seconds":0.3019417}}
{"level":"info","time":"2022-05-31 00:35:22","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3090627,"trace_id":"10e4168049b8c1331c0b","trace_info":{"trace_id":"10e4168049b8c1331c0b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin AlspCH619gI/HsUrWZqNmiMgf/uTUU6B+FetjyMUHkU=","Authorization-Date":"2022-05-31 00:35:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["10e4168049b8c1331c0b"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"","icon":"library_books"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3090627},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:22","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.0819725}],"redis":[{"timestamp":"2022-05-31 00:35:22","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0508522},{"timestamp":"2022-05-31 00:35:22","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0449074}],"success":true,"cost_seconds":0.3090627}}
{"level":"info","time":"2022-05-31 00:35:23","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu/N7A9w7GwXZqb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3008856,"trace_id":"ea53425170768bbc5472","trace_info":{"trace_id":"ea53425170768bbc5472","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/N7A9w7GwXZqb","header":{"Authorization":"admin W19iKKr2YKWUERlgPvCjCrjs432NIb0qrRd1L34Qo04=","Authorization-Date":"2022-05-31 00:35:23","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ea53425170768bbc5472"],"Vary":["Origin"]},"body":{"id":26,"pid":0,"name":"关键词","link":"","icon":"library_books"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3008856},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:23","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 26 LIMIT 1","rows_affected":1,"cost_seconds":0.0808083}],"redis":[{"timestamp":"2022-05-31 00:35:23","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0436597},{"timestamp":"2022-05-31 00:35:23","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0437607}],"success":true,"cost_seconds":0.3008856}}
{"level":"info","time":"2022-05-31 00:35:25","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4047964,"trace_id":"7b1eb056d8aa3aeba218","trace_info":{"trace_id":"7b1eb056d8aa3aeba218","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Authorization":"admin nua92FuXkW1IO0Rdgip1SMhSx1z5zZ9d1brm5TsdGTE=","Authorization-Date":"2022-05-31 00:35:24","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"level=-1&name=%E5%85%B3%E9%94%AE%E8%AF%8D&icon=mdi-audiobook&link=&id=N7A9w7GwXZqb"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7b1eb056d8aa3aeba218"],"Vary":["Origin"]},"body":{"id":26},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4047964},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:25","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `icon`='mdi-audiobook',`link`='',`name`='关键词',`updated_user`='admin',`updated_at`='2022-05-31 00:35:24.995' WHERE id = 26","rows_affected":1,"cost_seconds":0.1403694}],"redis":[{"timestamp":"2022-05-31 00:35:24","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0439896},{"timestamp":"2022-05-31 00:35:24","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0436735}],"success":true,"cost_seconds":0.4047964}}
{"level":"info","time":"2022-05-31 00:35:26","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3033269,"trace_id":"7df2c57abb9aa21ecc53","trace_info":{"trace_id":"7df2c57abb9aa21ecc53","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin lt6tWhW0p0il12konbXCATjcuNTmc55HYveIw1R9ur0=","Authorization-Date":"2022-05-31 00:35:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7df2c57abb9aa21ecc53"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"mdi-audiobook","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3033269},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:26","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0822438}],"redis":[{"timestamp":"2022-05-31 00:35:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0438838},{"timestamp":"2022-05-31 00:35:26","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0444003}],"success":true,"cost_seconds":0.3033269}}
{"level":"info","time":"2022-05-31 00:35:28","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2668074,"trace_id":"637cbb4b45e28cbb27b9","trace_info":{"trace_id":"637cbb4b45e28cbb27b9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Fl03+rjhU8nd0GRFB1ENmaIrIbbFTLb/HQCvqF+UctM=","Authorization-Date":"2022-05-31 00:35:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["637cbb4b45e28cbb27b9"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"library_books"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2668074},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:28","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0809526}],"redis":[{"timestamp":"2022-05-31 00:35:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0432137},{"timestamp":"2022-05-31 00:35:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0980773}],"success":true,"cost_seconds":0.2668074}}
{"level":"info","time":"2022-05-31 00:35:28","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3534295,"trace_id":"31b6184d1273c674bc47","trace_info":{"trace_id":"31b6184d1273c674bc47","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin g/obZK4HmOgxK/menr+Mm1Z8rkrBInXLXamNJyrVsFM=","Authorization-Date":"2022-05-31 00:35:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["31b6184d1273c674bc47"],"Vary":["Origin"]},"body":{"list":[{"id":27,"hashid":"oLB9E0jwzQq8","pid":26,"name":"列表","link":"/keywords/list","icon":"","is_used":1,"sort":0},{"id":26,"hashid":"N7A9w7GwXZqb","pid":0,"name":"关键词","link":"","icon":"mdi-audiobook","is_used":1,"sort":0},{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3534295},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:28","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0819571}],"redis":[{"timestamp":"2022-05-31 00:35:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0452019},{"timestamp":"2022-05-31 00:35:28","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0450305}],"success":true,"cost_seconds":0.3534295}}
{"level":"info","time":"2022-05-31 00:35:32","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1384013,"trace_id":"2f37bcdc06a4540b00c3","trace_info":{"trace_id":"2f37bcdc06a4540b00c3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin qNwrtiSULdy7Hi0NlCexBweNng7+tFtnhT2zMtgEEkA=","Authorization-Date":"2022-05-31 00:35:32","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2f37bcdc06a4540b00c3"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1384013},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-31 00:35:32","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0449087},{"timestamp":"2022-05-31 00:35:32","handle":"del","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0488434}],"success":true,"cost_seconds":0.1384013}}
{"level":"info","time":"2022-05-31 00:35:34","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5475961,"trace_id":"e55bbd6bec19ea1fd37d","trace_info":{"trace_id":"e55bbd6bec19ea1fd37d","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin PSDMj0OzicLOtBrIwcG36hEn4MiieyWXGnEQiOnd530=","Authorization-Date":"2022-05-31 00:35:33","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e55bbd6bec19ea1fd37d"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5475961},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:33","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0863857},{"timestamp":"2022-05-31 00:35:33","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0813226},{"timestamp":"2022-05-31 00:35:34","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":26,"cost_seconds":0.0803164},{"timestamp":"2022-05-31 00:35:34","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0804568},{"timestamp":"2022-05-31 00:35:34","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,21,20,19,18,17,22,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,27,26) ","rows_affected":40,"cost_seconds":0.0820714}],"redis":[{"timestamp":"2022-05-31 00:35:33","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0463836},{"timestamp":"2022-05-31 00:35:34","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":27,\"pid\":26,\"name\":\"列表\",\"link\":\"/keywords/list\",\"icon\":\"\"},{\"id\":26,\"pid\":0,\"name\":\"关键词\",\"link\":\"\",\"icon\":\"mdi-audiobook\"},{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0443877},{"timestamp":"2022-05-31 00:35:34","handle":"set","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0453901}],"success":true,"cost_seconds":0.5475961}}
{"level":"info","time":"2022-05-31 00:35:34","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.216396,"trace_id":"9150df99559ba1db9d2e","trace_info":{"trace_id":"9150df99559ba1db9d2e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Z+BteUpxaZaL4yEfU2J31XwR+5NXkc3CUfftbls9fS8=","Authorization-Date":"2022-05-31 00:35:34","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9150df99559ba1db9d2e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.216396},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:35:34","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0811472}],"redis":[{"timestamp":"2022-05-31 00:35:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.044598},{"timestamp":"2022-05-31 00:35:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0453923}],"success":true,"cost_seconds":0.216396}}
{"level":"info","time":"2022-05-31 00:39:34","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2429487,"trace_id":"ea873c1749de2e50194a","trace_info":{"trace_id":"ea873c1749de2e50194a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin vBUQqnPsFJviI1Uu3uL5t5HMRrcor3qYkMIAtaLQ5uw=","Authorization-Date":"2022-05-31 00:39:34","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ea873c1749de2e50194a"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2429487},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:39:34","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.1009807}],"redis":[{"timestamp":"2022-05-31 00:39:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0458568},{"timestamp":"2022-05-31 00:39:34","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0499838}],"success":true,"cost_seconds":0.2429487}}
{"level":"info","time":"2022-05-31 00:41:37","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2173813,"trace_id":"d3317817298ab07dc8ce","trace_info":{"trace_id":"d3317817298ab07dc8ce","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 6hMf1rQ+aEV1O2ZM04DAJSBOCYzrowvQ42LdkJGCxt8=","Authorization-Date":"2022-05-31 00:41:37","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d3317817298ab07dc8ce"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2173813},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:41:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0832084}],"redis":[{"timestamp":"2022-05-31 00:41:37","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0432507},{"timestamp":"2022-05-31 00:41:37","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0443879}],"success":true,"cost_seconds":0.2173813}}
{"level":"info","time":"2022-05-31 00:44:02","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.220811,"trace_id":"c405b10eaa769ae59436","trace_info":{"trace_id":"c405b10eaa769ae59436","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Rp3+w9HVECv1me5p14dacUxyY+XhGuBnc2vUrvjXxio=","Authorization-Date":"2022-05-31 00:44:02","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c405b10eaa769ae59436"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.220811},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:44:02","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0943362}],"redis":[{"timestamp":"2022-05-31 00:44:02","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0410678},{"timestamp":"2022-05-31 00:44:02","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0414011}],"success":true,"cost_seconds":0.220811}}
{"level":"info","time":"2022-05-31 00:44:53","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2234043,"trace_id":"717c2ee59c62b43f1a39","trace_info":{"trace_id":"717c2ee59c62b43f1a39","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin rUIS9OToeJ5W91pjGIhEVt3DD3JO7d3jZ7UltkGttgw=","Authorization-Date":"2022-05-31 00:44:50","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["717c2ee59c62b43f1a39"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2234043},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:44:53","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0893249}],"redis":[{"timestamp":"2022-05-31 00:44:53","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0447105},{"timestamp":"2022-05-31 00:44:53","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0447151}],"success":true,"cost_seconds":0.2234043}}
{"level":"info","time":"2022-05-31 00:45:31","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2228698,"trace_id":"55ab942e30dbc8a15d31","trace_info":{"trace_id":"55ab942e30dbc8a15d31","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 6t2NfeJzgSq94MTruKeMQsa1ml7ZljLaAr2SdK6Ibek=","Authorization-Date":"2022-05-31 00:45:31","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["55ab942e30dbc8a15d31"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2228698},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:45:31","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0898024}],"redis":[{"timestamp":"2022-05-31 00:45:31","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0441328},{"timestamp":"2022-05-31 00:45:31","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0443871}],"success":true,"cost_seconds":0.2228698}}
{"level":"info","time":"2022-05-31 00:48:04","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.219583,"trace_id":"3131b8f9a2fb5998683e","trace_info":{"trace_id":"3131b8f9a2fb5998683e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin v+D3vY7scJCpN2nN9I8OGPkpKqLHIqOkgDIpZ+MRBO0=","Authorization-Date":"2022-05-31 00:48:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3131b8f9a2fb5998683e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.219583},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:48:04","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.084131}],"redis":[{"timestamp":"2022-05-31 00:48:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0435515},{"timestamp":"2022-05-31 00:48:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0493752}],"success":true,"cost_seconds":0.219583}}
{"level":"info","time":"2022-05-31 00:48:07","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2374073,"trace_id":"fd5a339e791042559b87","trace_info":{"trace_id":"fd5a339e791042559b87","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin jQeypld9eqhFjaQK1U2yFjIomYrpPmHQJ3gQyPlCkAM=","Authorization-Date":"2022-05-31 00:48:06","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fd5a339e791042559b87"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2374073},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:48:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0853663}],"redis":[{"timestamp":"2022-05-31 00:48:07","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0497232},{"timestamp":"2022-05-31 00:48:07","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0503778}],"success":true,"cost_seconds":0.2374073}}
{"level":"info","time":"2022-05-31 00:49:18","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2373058,"trace_id":"2ce4e63b60f3d381b041","trace_info":{"trace_id":"2ce4e63b60f3d381b041","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin aYSagFBOB3350rxbEnM/otzfqyUzcGOB1Nx9biKgccs=","Authorization-Date":"2022-05-31 00:49:18","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2ce4e63b60f3d381b041"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2373058},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:49:18","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0842383}],"redis":[{"timestamp":"2022-05-31 00:49:18","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0508638},{"timestamp":"2022-05-31 00:49:18","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0513696}],"success":true,"cost_seconds":0.2373058}}
{"level":"info","time":"2022-05-31 00:49:22","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2320502,"trace_id":"e6c635aef597f823b393","trace_info":{"trace_id":"e6c635aef597f823b393","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin q0LR1IOrSZ+w1euX8bsAq5XiiSGDzG3j0IJlNC/Vh7M=","Authorization-Date":"2022-05-31 00:49:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e6c635aef597f823b393"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2320502},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:49:22","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.09558}],"redis":[{"timestamp":"2022-05-31 00:49:21","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0456514},{"timestamp":"2022-05-31 00:49:22","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0459518}],"success":true,"cost_seconds":0.2320502}}
{"level":"info","time":"2022-05-31 00:52:15","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2232646,"trace_id":"a4bc7f1c74e46b532f63","trace_info":{"trace_id":"a4bc7f1c74e46b532f63","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin P89pmSwnJLHJRhNlXuuv6zeoFM4JrYXBfAXmY2EAf8c=","Authorization-Date":"2022-05-31 00:52:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a4bc7f1c74e46b532f63"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2232646},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:52:15","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0833017}],"redis":[{"timestamp":"2022-05-31 00:52:14","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.050949},{"timestamp":"2022-05-31 00:52:15","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0438824}],"success":true,"cost_seconds":0.2232646}}
{"level":"info","time":"2022-05-31 00:53:33","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2134512,"trace_id":"6dda0efe03a1bf1489bd","trace_info":{"trace_id":"6dda0efe03a1bf1489bd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin r5xh7a1VmLfLbZsVs1r4zoIYdoVKDV4D8j4DqdSX9LQ=","Authorization-Date":"2022-05-31 00:53:32","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6dda0efe03a1bf1489bd"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2134512},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:53:33","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.1014337}],"redis":[{"timestamp":"2022-05-31 00:53:32","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0368345},{"timestamp":"2022-05-31 00:53:33","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0374061}],"success":true,"cost_seconds":0.2134512}}
{"level":"info","time":"2022-05-31 00:53:57","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2349709,"trace_id":"352a4e04bb18c334d2f7","trace_info":{"trace_id":"352a4e04bb18c334d2f7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin pEjZLPmvIM/ynUaLD0LhiE2tX6+btYtRlvKbgDGtbV4=","Authorization-Date":"2022-05-31 00:53:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["352a4e04bb18c334d2f7"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2349709},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:53:57","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0909224}],"redis":[{"timestamp":"2022-05-31 00:53:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0476219},{"timestamp":"2022-05-31 00:53:57","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0473798}],"success":true,"cost_seconds":0.2349709}}
{"level":"info","time":"2022-05-31 00:56:02","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2251334,"trace_id":"799e395b425450377024","trace_info":{"trace_id":"799e395b425450377024","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin tO7WS57pA6NPdoK3xY4BxzMj/0CkGNKe5Ep4s4XcqCI=","Authorization-Date":"2022-05-31 00:55:59","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["799e395b425450377024"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2251334},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:56:02","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0769366}],"redis":[{"timestamp":"2022-05-31 00:56:02","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0490343},{"timestamp":"2022-05-31 00:56:02","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0492739}],"success":true,"cost_seconds":0.2251334}}
{"level":"info","time":"2022-05-31 00:56:04","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2244133,"trace_id":"79c4703979304b74a2e9","trace_info":{"trace_id":"79c4703979304b74a2e9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin n+cgZ9BYptW2WvqURyXUghPpbsN4Q1x603LjhlxvqGI=","Authorization-Date":"2022-05-31 00:56:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["79c4703979304b74a2e9"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2244133},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 00:56:04","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0747997}],"redis":[{"timestamp":"2022-05-31 00:56:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0493731},{"timestamp":"2022-05-31 00:56:04","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0503732}],"success":true,"cost_seconds":0.2244133}}
{"level":"info","time":"2022-05-31 00:56:07","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin","http_code":400,"business_code":10103,"success":false,"cost_seconds":0.2519607,"trace_id":"e7fd51f53ed61393c7d9","trace_info":{"trace_id":"e7fd51f53ed61393c7d9","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin +mHnr5/nn1zKCDKxbsSY0Uxgi+l6yLQcgZSZAHtfpOI=","Authorization-Date":"2022-05-31 00:56:07","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"test=1"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e7fd51f53ed61393c7d9"],"Vary":["Origin"]},"body":null,"business_code":10103,"business_code_msg":"Username为必填字段;Nickname为必填字段;Mobile为必填字段;Password为必填字段;","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.2519607},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-31 00:56:07","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0488696},{"timestamp":"2022-05-31 00:56:07","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0499933}],"success":false,"cost_seconds":0.2519607},"error":"Key: 'createRequest.Username' Error:Field validation for 'Username' failed on the 'required' tag\nKey: 'createRequest.Nickname' Error:Field validation for 'Nickname' failed on the 'required' tag\nKey: 'createRequest.Mobile' Error:Field validation for 'Mobile' failed on the 'required' tag\nKey: 'createRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","errorVerbose":"Key: 'createRequest.Username' Error:Field validation for 'Username' failed on the 'required' tag\nKey: 'createRequest.Nickname' Error:Field validation for 'Nickname' failed on the 'required' tag\nKey: 'createRequest.Mobile' Error:Field validation for 'Mobile' failed on the 'required' tag\nKey: 'createRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/project/golang/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/admin.(*handler).Create.func1\n\tD:/project/golang/dq-bot/internal/api/admin/func_create.go:45\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-31 00:56:12","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin","http_code":400,"business_code":10103,"success":false,"cost_seconds":0.2477917,"trace_id":"6c70e7208585b10febe7","trace_info":{"trace_id":"6c70e7208585b10febe7","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin sxpCsDzp/N0PSXZJ3GUyxY2i++5Q/TMYmTiFEWspFWY=","Authorization-Date":"2022-05-31 00:56:12","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"test=1"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6c70e7208585b10febe7"],"Vary":["Origin"]},"body":null,"business_code":10103,"business_code_msg":"Username为必填字段;Nickname为必填字段;Mobile为必填字段;Password为必填字段;","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.2477917},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-31 00:56:12","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0488631},{"timestamp":"2022-05-31 00:56:12","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0493216}],"success":false,"cost_seconds":0.2477917},"error":"Key: 'createRequest.Username' Error:Field validation for 'Username' failed on the 'required' tag\nKey: 'createRequest.Nickname' Error:Field validation for 'Nickname' failed on the 'required' tag\nKey: 'createRequest.Mobile' Error:Field validation for 'Mobile' failed on the 'required' tag\nKey: 'createRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","errorVerbose":"Key: 'createRequest.Username' Error:Field validation for 'Username' failed on the 'required' tag\nKey: 'createRequest.Nickname' Error:Field validation for 'Nickname' failed on the 'required' tag\nKey: 'createRequest.Mobile' Error:Field validation for 'Mobile' failed on the 'required' tag\nKey: 'createRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/project/golang/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/admin.(*handler).Create.func1\n\tD:/project/golang/dq-bot/internal/api/admin/func_create.go:45\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-31 02:12:18","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2176848,"trace_id":"38bbd4c672e0b8c9da71","trace_info":{"trace_id":"38bbd4c672e0b8c9da71","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin HYLMrtAcSlIvJaGwoNkOpk6x/t+0nmi3SHMjUyg2O28=","Authorization-Date":"2022-05-31 02:12:18","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["38bbd4c672e0b8c9da71"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":27,"pid":26,"name":"列表","link":"/keywords/list","icon":""},{"id":26,"pid":0,"name":"关键词","link":"","icon":"mdi-audiobook"},{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2176848},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-31 02:12:18","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0882689}],"redis":[{"timestamp":"2022-05-31 02:12:18","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0428348},{"timestamp":"2022-05-31 02:12:18","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0433981}],"success":true,"cost_seconds":0.2176848}}
{"level":"info","time":"2022-05-31 02:12:21","caller":"core/core.go:510","msg":"trace-log","domain":"dq-bot[fat]","method":"POST","path":"/api/admin","http_code":400,"business_code":10103,"success":false,"cost_seconds":0.2169926,"trace_id":"437edac4ba04416088cb","trace_info":{"trace_id":"437edac4ba04416088cb","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin vR/Mi7+e/8IEz8/YM4/PMrgChtgEDoYGYEwwxyVZISo=","Authorization-Date":"2022-05-31 02:12:21","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"test=1"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["437edac4ba04416088cb"],"Vary":["Origin"]},"body":null,"business_code":10103,"business_code_msg":"Username为必填字段;Nickname为必填字段;Mobile为必填字段;Password为必填字段;","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.2169926},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-31 02:12:21","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0425798},{"timestamp":"2022-05-31 02:12:21","handle":"get","key":"dq-bot:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0440455}],"success":false,"cost_seconds":0.2169926},"error":"Key: 'createRequest.Username' Error:Field validation for 'Username' failed on the 'required' tag\nKey: 'createRequest.Nickname' Error:Field validation for 'Nickname' failed on the 'required' tag\nKey: 'createRequest.Mobile' Error:Field validation for 'Mobile' failed on the 'required' tag\nKey: 'createRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","errorVerbose":"Key: 'createRequest.Username' Error:Field validation for 'Username' failed on the 'required' tag\nKey: 'createRequest.Nickname' Error:Field validation for 'Nickname' failed on the 'required' tag\nKey: 'createRequest.Mobile' Error:Field validation for 'Mobile' failed on the 'required' tag\nKey: 'createRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/project/golang/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/admin.(*handler).Create.func1\n\tD:/project/golang/dq-bot/internal/api/admin/func_create.go:45\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
