{"level":"error","time":"2022-05-22 18:20:48","caller":"core/core.go:371","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 28 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:370 +0x14c\npanic({0x162f440, 0x396d890})\n\tC:/Program Files/Go/src/runtime/panic.go:1038 +0x215\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin(0xc00059a460, {0x20f58e0, 0xc00008ede8})\n\tD:/project/golang/dq-bot/internal/router/interceptor/check_login.go:26 +0x2fc\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1({0x20f58e0, 0xc00008ede8})\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:133 +0x27\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:212 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:541 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:523 +0x2ae\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:327 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0001741a0, 0xc0000c8900)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0001741a0, {0x20c62b0, 0xc00016d500}, 0xc0000c9c00)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0, {0x20c62b0, 0xc00016d500}, 0xc98e75)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:232 +0x26\nnet/http.serverHandler.ServeHTTP({0xc000364090}, {0x20c62b0, 0xc00016d500}, 0xc0000c9c00)\n\tC:/Program Files/Go/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc001a0c000, {0x20cdab8, 0xc001a08060})\n\tC:/Program Files/Go/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3033 +0x4e8\n"}
{"level":"error","time":"2022-05-22 18:20:48","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-05-22 18:20:48","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.0006196,"trace_id":"eafb6f6f356240e674b6","trace_info":{"trace_id":"eafb6f6f356240e674b6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 9qjsa/gmcG1wcoeXn8myhwGUh+USr+DrdUvs8v/yAow=","Authorization-Date":"2022-05-22 18:20:48","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eafb6f6f356240e674b6"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0006196},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0006196}}
{"level":"error","time":"2022-05-22 18:21:08","caller":"core/core.go:371","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 28 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:370 +0x14c\npanic({0x162f440, 0x396d890})\n\tC:/Program Files/Go/src/runtime/panic.go:1038 +0x215\ngithub.com/zhangdi168/dq-bot/internal/services/admin.(*service).Detail(0xc00029d400, {0x20f58e0, 0xc000290f70}, 0xc00035cb40)\n\tD:/project/golang/dq-bot/internal/services/admin/service_detail.go:47 +0xa0c\ngithub.com/zhangdi168/dq-bot/internal/api/admin.(*handler).Login.func1({0x20f58e0, 0xc000290f70})\n\tD:/project/golang/dq-bot/internal/api/admin/func_login.go:56 +0x2d8\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:212 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:541 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:523 +0x2ae\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc0000c8900)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:327 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0001741a0, 0xc0000c8900)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0001741a0, {0x20c62b0, 0xc001cacb60}, 0xc001c77500)\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0, {0x20c62b0, 0xc001cacb60}, 0x0)\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:232 +0x26\nnet/http.serverHandler.ServeHTTP({0x20c4068}, {0x20c62b0, 0xc001cacb60}, 0xc001c77500)\n\tC:/Program Files/Go/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc001a0c000, {0x20cdab8, 0xc001a08060})\n\tC:/Program Files/Go/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3033 +0x4e8\n"}
{"level":"error","time":"2022-05-22 18:21:08","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-05-22 18:21:08","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.0002092,"trace_id":"8ea8b994d4e7f2188c3f","trace_info":{"trace_id":"8ea8b994d4e7f2188c3f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin Jr2h9sBon60pZWZ/PLhXX8qAXtO85Ff2oZRhL3AaSZo=","Authorization-Date":"2022-05-22 18:21:08","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8ea8b994d4e7f2188c3f"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0002092},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0002092}}
{"level":"info","time":"2022-05-22 18:21:21","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0108019,"trace_id":"443dce89209ed4f75e4f","trace_info":{"trace_id":"443dce89209ed4f75e4f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin S9erNkv1mzHwxafFsEXyEUtpFZRxYNDXyKoM/VlG+Zc=","Authorization-Date":"2022-05-22 18:21:21","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["443dce89209ed4f75e4f"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0108019},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 18:21:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0024328},{"timestamp":"2022-05-22 18:21:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.002349},{"timestamp":"2022-05-22 18:21:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0009974},{"timestamp":"2022-05-22 18:21:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0},{"timestamp":"2022-05-22 18:21:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0019948}],"redis":[{"timestamp":"2022-05-22 18:21:21","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0005142},{"timestamp":"2022-05-22 18:21:21","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0},{"timestamp":"2022-05-22 18:21:21","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0}],"success":true,"cost_seconds":0.0108019}}
{"level":"info","time":"2022-05-22 18:21:21","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0,"trace_id":"2f1c1fce476342acd70e","trace_info":{"trace_id":"2f1c1fce476342acd70e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin KgJOR+npq6Kos+OvUA/6OIG4743w4P0udGG2z0AafmU=","Authorization-Date":"2022-05-22 18:21:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2f1c1fce476342acd70e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 18:21:21","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-22 18:21:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 18:21:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0}}
{"level":"error","time":"2022-05-22 19:06:52","caller":"dq-bot/main.go:96","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2022-05-22 19:06:52","caller":"dq-bot/main.go:100","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2022-05-22 19:07:40","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0029377,"trace_id":"ddea33391d0903e3b926","trace_info":{"trace_id":"ddea33391d0903e3b926","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin GXLtGeJ6pN17OlFqo6wn1AxryGSH0B75Hx3nrQwNJ7U=","Authorization-Date":"2022-05-22 19:07:40","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ddea33391d0903e3b926"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0029377},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:07:40","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0010122}],"redis":[{"timestamp":"2022-05-22 19:07:40","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:07:40","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0.0029377}}
{"level":"info","time":"2022-05-22 19:07:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0027095,"trace_id":"874a9d0625ea0e64d798","trace_info":{"trace_id":"874a9d0625ea0e64d798","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin avmZzhuup4Am4kzesyrhvFjo7eBX4o2+Lh7X6DskVHs=","Authorization-Date":"2022-05-22 19:07:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["874a9d0625ea0e64d798"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0027095},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:07:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0008068}],"redis":[{"timestamp":"2022-05-22 19:07:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:07:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0027095}}
{"level":"info","time":"2022-05-22 19:07:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0009972,"trace_id":"466998fcd58e5c9d2126","trace_info":{"trace_id":"466998fcd58e5c9d2126","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin QhQJZzVJ7QvyxU+dlO7LNZMEtGVHsOeRgXvMw6fRjBQ=","Authorization-Date":"2022-05-22 19:07:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["466998fcd58e5c9d2126"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0009972},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:07:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0009972},{"timestamp":"2022-05-22 19:07:44","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-22 19:07:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:07:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0009972}}
{"level":"info","time":"2022-05-22 19:07:46","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0006007,"trace_id":"f273164596a675796acc","trace_info":{"trace_id":"f273164596a675796acc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 3fi4z97ZMADSx9u8Qu0Rzww2KhL0I1z1YZSdy+oXm8g=","Authorization-Date":"2022-05-22 19:07:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f273164596a675796acc"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0006007},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:07:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0006007}],"redis":[{"timestamp":"2022-05-22 19:07:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:07:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0.0006007}}
{"level":"info","time":"2022-05-22 19:07:46","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0016091,"trace_id":"fac1d34452ca52a81b53","trace_info":{"trace_id":"fac1d34452ca52a81b53","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin SFWrumoBbCLHP+w/5Hq+Ce1X3gR4QgEcKU/wu4ukJMY=","Authorization-Date":"2022-05-22 19:07:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fac1d34452ca52a81b53"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0016091},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:07:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0005156},{"timestamp":"2022-05-22 19:07:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-22 19:07:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:07:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0016091}}
{"level":"info","time":"2022-05-22 19:08:33","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0022281,"trace_id":"dbe1dcb2f6c435a41534","trace_info":{"trace_id":"dbe1dcb2f6c435a41534","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin 0owasClZMwGvfdeg0qPnOWr4nGy7BbJRbMQqr0Jv0OM=","Authorization-Date":"2022-05-22 19:08:33","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dbe1dcb2f6c435a41534"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0022281},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:08:33","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0013446},{"timestamp":"2022-05-22 19:08:33","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-22 19:08:33","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:08:33","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0022281}}
{"level":"info","time":"2022-05-22 19:08:38","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0016672,"trace_id":"53a127f445eb01e5cc48","trace_info":{"trace_id":"53a127f445eb01e5cc48","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin M/P4J0UeKLfTYua1MoLgi3N2Sg8bkUNrOriyThaH0ec=","Authorization-Date":"2022-05-22 19:08:38","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["53a127f445eb01e5cc48"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0016672},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:08:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0005183},{"timestamp":"2022-05-22 19:08:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-22 19:08:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:08:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0016672}}
{"level":"info","time":"2022-05-22 19:08:39","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0020562,"trace_id":"08d919c997fbd0ae17b0","trace_info":{"trace_id":"08d919c997fbd0ae17b0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin Wpuq/EkRf0udh30BWYX+R6xE/beXYeqqLnEpSEvd8no=","Authorization-Date":"2022-05-22 19:08:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["08d919c997fbd0ae17b0"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0020562},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:08:39","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0005804}],"redis":[{"timestamp":"2022-05-22 19:08:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:08:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0020562}}
{"level":"info","time":"2022-05-22 19:08:40","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0012081,"trace_id":"b7866c307436e0be639d","trace_info":{"trace_id":"b7866c307436e0be639d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin nbUREb832LMaGeh9yonhy/VbUs5w6St2xpitIh2KdRk=","Authorization-Date":"2022-05-22 19:08:40","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b7866c307436e0be639d"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0012081},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:08:40","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0005892},{"timestamp":"2022-05-22 19:08:40","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-22 19:08:40","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:08:40","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0012081}}
{"level":"info","time":"2022-05-22 19:33:46","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0283246,"trace_id":"58c6e1920e31b417c9e1","trace_info":{"trace_id":"58c6e1920e31b417c9e1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin duf1MUydnVv38TJhXNp9J0yq9gmTKYIyk/bzBoKbTVc=","Authorization-Date":"2022-05-22 19:33:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["58c6e1920e31b417c9e1"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0283246},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:33:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0025706},{"timestamp":"2022-05-22 19:33:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0005044}],"redis":[{"timestamp":"2022-05-22 19:33:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:33:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0283246}}
{"level":"info","time":"2022-05-22 19:33:48","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0009974,"trace_id":"3434d1e724cc5f8c9bff","trace_info":{"trace_id":"3434d1e724cc5f8c9bff","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 3IZGzJokZfH4B6LSf1Lj5PECqB0s2DPIc2Du4bkmMSU=","Authorization-Date":"2022-05-22 19:33:48","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3434d1e724cc5f8c9bff"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0009974},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-22 19:33:48","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0},{"timestamp":"2022-05-22 19:33:48","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-22 19:33:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-22 19:33:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0009974}}
{"level":"info","time":"2022-05-23 00:11:26","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0162473,"trace_id":"9775db6765ee03e5712f","trace_info":{"trace_id":"9775db6765ee03e5712f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin MoWEAVDVuSt6K4uLpeKdNARz4mhVg5HWO3loRn/kpcY=","Authorization-Date":"2022-05-23 00:11:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9775db6765ee03e5712f"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0162473},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:11:26","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0053172}],"redis":[{"timestamp":"2022-05-23 00:11:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:11:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0.0162473}}
{"level":"info","time":"2022-05-23 00:11:26","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0012772,"trace_id":"ec344de5f1fdcbaf93c9","trace_info":{"trace_id":"ec344de5f1fdcbaf93c9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin y8PfJwH8ynSgyvEp2QQ4GT1lkR0t3GGymz0nZVMX5/U=","Authorization-Date":"2022-05-23 00:11:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ec344de5f1fdcbaf93c9"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0012772},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:11:26","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0},{"timestamp":"2022-05-23 00:11:26","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0005363}],"redis":[{"timestamp":"2022-05-23 00:11:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:11:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0012772}}
{"level":"info","time":"2022-05-23 00:11:46","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0022752,"trace_id":"6980bda96f9b37a33b92","trace_info":{"trace_id":"6980bda96f9b37a33b92","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin ssy65EAVcvnF7ci+BC1tu9e/OXu81SOT++/ZUrXwBGI=","Authorization-Date":"2022-05-23 00:11:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6980bda96f9b37a33b92"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0022752},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:11:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0012422}],"redis":[{"timestamp":"2022-05-23 00:11:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0005175},{"timestamp":"2022-05-23 00:11:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0.0022752}}
{"level":"info","time":"2022-05-23 00:11:46","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0023709,"trace_id":"54d90b9e67fc96159f29","trace_info":{"trace_id":"54d90b9e67fc96159f29","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin E2MWnk8/ZZBkzPll6wPlXyNK8GpPMWm+Cn9SgjiQeMI=","Authorization-Date":"2022-05-23 00:11:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["54d90b9e67fc96159f29"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0023709},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:11:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0006948},{"timestamp":"2022-05-23 00:11:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-23 00:11:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:11:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0023709}}
{"level":"info","time":"2022-05-23 00:11:48","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0009977,"trace_id":"1fa3eee0e4827eb0b5fe","trace_info":{"trace_id":"1fa3eee0e4827eb0b5fe","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin xo0klnqI407KRBmT91MI7F1V+8EKwUe8oIQCWzWBEok=","Authorization-Date":"2022-05-23 00:11:48","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1fa3eee0e4827eb0b5fe"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0009977},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:11:48","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0009977}],"redis":[{"timestamp":"2022-05-23 00:11:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:11:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0.0009977}}
{"level":"info","time":"2022-05-23 00:11:48","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0019969,"trace_id":"2a1abb095b675d10eba8","trace_info":{"trace_id":"2a1abb095b675d10eba8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin Esf6Gc09G062qq71rrtpupYvuAJAF7RyIn2xnKbJjpQ=","Authorization-Date":"2022-05-23 00:11:48","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2a1abb095b675d10eba8"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0019969},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:11:48","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0},{"timestamp":"2022-05-23 00:11:48","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.000999}],"redis":[{"timestamp":"2022-05-23 00:11:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:11:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0019969}}
{"level":"info","time":"2022-05-23 00:13:03","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0508639,"trace_id":"b22201bea11458db1339","trace_info":{"trace_id":"b22201bea11458db1339","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 6yCuZgJBWeC37PzmAqDkmsMZEaEAsdzyN7hiEEHpzQE=","Authorization-Date":"2022-05-23 00:13:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b22201bea11458db1339"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0508639},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:13:03","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0009975},{"timestamp":"2022-05-23 00:13:03","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-23 00:13:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:13:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0508639}}
{"level":"info","time":"2022-05-23 00:13:04","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0019938,"trace_id":"dd8c28cfa2afcbbded0e","trace_info":{"trace_id":"dd8c28cfa2afcbbded0e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin WEcauvjWbHmadtV0ahRVTDF6z0F10OpCJhz34NQ+THE=","Authorization-Date":"2022-05-23 00:13:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dd8c28cfa2afcbbded0e"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0019938},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:13:04","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0019938}],"redis":[{"timestamp":"2022-05-23 00:13:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:13:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0019938}}
{"level":"info","time":"2022-05-23 00:13:05","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0009975,"trace_id":"70ac7d70d4e7ab0e5ee6","trace_info":{"trace_id":"70ac7d70d4e7ab0e5ee6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin oDudFXC+n2FlqW3TE4qDrzN0gd0ndZbZmR2bA9VB3SU=","Authorization-Date":"2022-05-23 00:13:05","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["70ac7d70d4e7ab0e5ee6"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0009975},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:13:05","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0009975},{"timestamp":"2022-05-23 00:13:05","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-23 00:13:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-05-23 00:13:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0009975}}
{"level":"info","time":"2022-05-23 00:13:06","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0019934,"trace_id":"6dc75c2689c5f9ec6dc9","trace_info":{"trace_id":"6dc75c2689c5f9ec6dc9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin BReG4zNNwJd9anrjVAyY4uaO6O8drurCmK1dDB3LYQ4=","Authorization-Date":"2022-05-23 00:13:06","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6dc75c2689c5f9ec6dc9"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0019934},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:13:06","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-23 00:13:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009962},{"timestamp":"2022-05-23 00:13:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0019934}}
{"level":"info","time":"2022-05-23 00:13:07","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0009976,"trace_id":"6ecdc60516e02ec92af3","trace_info":{"trace_id":"6ecdc60516e02ec92af3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin OXZLfmGbN99ES9QtB1hfa1Lj1tCTUysa3uVMrA/P34U=","Authorization-Date":"2022-05-23 00:13:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6ecdc60516e02ec92af3"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-22 18:21:03","created_user":"init","updated_at":"2022-05-22 18:21:03","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0009976},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 00:13:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0},{"timestamp":"2022-05-23 00:13:07","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-05-23 00:13:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009976},{"timestamp":"2022-05-23 00:13:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0009976}}
{"level":"error","time":"2022-05-23 00:20:03","caller":"dq-bot/main.go:96","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2022-05-23 00:20:03","caller":"dq-bot/main.go:100","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
