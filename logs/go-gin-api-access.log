{"level":"fatal","time":"2022-05-23 10:44:03","caller":"router/router.go:59","msg":"new cache err","domain":"go-gin-api[fat]","error":"ping redis err; dial tcp 119.29.64.194:6379: connectex: No connection could be made because the target machine actively refused it.","errorVerbose":"ping redis err; dial tcp 119.29.64.194:6379: connectex: No connection could be made because the target machine actively refused it.\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.redisConnect\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:73\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.New\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:49\ngithub.com/zhangdi168/dq-bot/internal/router.NewHTTPServer\n\tD:/my/go/src/dq-bot/internal/router/router.go:57\nmain.main\n\tD:/my/go/src/dq-bot/main.go:64\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:250\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"fatal","time":"2022-05-23 10:47:24","caller":"router/router.go:59","msg":"new cache err","domain":"go-gin-api[fat]","error":"ping redis err; dial tcp 119.29.64.194:6379: connectex: No connection could be made because the target machine actively refused it.","errorVerbose":"ping redis err; dial tcp 119.29.64.194:6379: connectex: No connection could be made because the target machine actively refused it.\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.redisConnect\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:73\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.New\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:49\ngithub.com/zhangdi168/dq-bot/internal/router.NewHTTPServer\n\tD:/my/go/src/dq-bot/internal/router/router.go:57\nmain.main\n\tD:/my/go/src/dq-bot/main.go:64\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:250\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"fatal","time":"2022-05-23 10:47:48","caller":"router/router.go:59","msg":"new cache err","domain":"go-gin-api[fat]","error":"ping redis err; dial tcp 119.29.64.194:6379: connectex: No connection could be made because the target machine actively refused it.","errorVerbose":"ping redis err; dial tcp 119.29.64.194:6379: connectex: No connection could be made because the target machine actively refused it.\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.redisConnect\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:73\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.New\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:49\ngithub.com/zhangdi168/dq-bot/internal/router.NewHTTPServer\n\tD:/my/go/src/dq-bot/internal/router/router.go:57\nmain.main\n\tD:/my/go/src/dq-bot/main.go:64\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:250\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"fatal","time":"2022-05-23 10:51:11","caller":"router/router.go:59","msg":"new cache err","domain":"go-gin-api[fat]","error":"ping redis err; dial tcp 119.29.64.194:6789: i/o timeout","errorVerbose":"ping redis err; dial tcp 119.29.64.194:6789: i/o timeout\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.redisConnect\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:73\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.New\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:49\ngithub.com/zhangdi168/dq-bot/internal/router.NewHTTPServer\n\tD:/my/go/src/dq-bot/internal/router/router.go:57\nmain.main\n\tD:/my/go/src/dq-bot/main.go:64\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:250\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"fatal","time":"2022-05-23 10:51:40","caller":"router/router.go:59","msg":"new cache err","domain":"go-gin-api[fat]","error":"ping redis err; dial tcp 119.29.64.194:6789: connectex: No connection could be made because the target machine actively refused it.","errorVerbose":"ping redis err; dial tcp 119.29.64.194:6789: connectex: No connection could be made because the target machine actively refused it.\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.redisConnect\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:73\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.New\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:49\ngithub.com/zhangdi168/dq-bot/internal/router.NewHTTPServer\n\tD:/my/go/src/dq-bot/internal/router/router.go:57\nmain.main\n\tD:/my/go/src/dq-bot/main.go:64\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:250\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"fatal","time":"2022-05-23 10:55:05","caller":"router/router.go:59","msg":"new cache err","domain":"go-gin-api[fat]","error":"ping redis err; dial tcp 119.29.64.194:6789: connectex: No connection could be made because the target machine actively refused it.","errorVerbose":"ping redis err; dial tcp 119.29.64.194:6789: connectex: No connection could be made because the target machine actively refused it.\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.redisConnect\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:73\ngithub.com/zhangdi168/dq-bot/internal/repository/redis.New\n\tD:/my/go/src/dq-bot/internal/repository/redis/redis.go:49\ngithub.com/zhangdi168/dq-bot/internal/router.NewHTTPServer\n\tD:/my/go/src/dq-bot/internal/router/router.go:57\nmain.main\n\tD:/my/go/src/dq-bot/main.go:64\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:250\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-23 11:11:03","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0,"trace_id":"4b3b07bb444a23e4e874","trace_info":{"trace_id":"4b3b07bb444a23e4e874","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin S4FGgiY5McPqL7siUeR4Ju8JQW5I0XJoribIHL7lKL8=","Authorization-Date":"2022-05-23 11:11:02","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4b3b07bb444a23e4e874"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:21\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-23 11:11:20","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.620661,"trace_id":"3a22b644da81cd02adc4","trace_info":{"trace_id":"3a22b644da81cd02adc4","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin kpk2jf4ZVOzh9O405a8r79jfRF0VJWi8CDvdJRtfe+E=","Authorization-Date":"2022-05-23 11:11:20","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3a22b644da81cd02adc4"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.620661},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 11:11:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0885898},{"timestamp":"2022-05-23 11:11:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0871372},{"timestamp":"2022-05-23 11:11:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0965865},{"timestamp":"2022-05-23 11:11:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0890965},{"timestamp":"2022-05-23 11:11:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0879309}],"redis":[{"timestamp":"2022-05-23 11:11:20","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0850849},{"timestamp":"2022-05-23 11:11:20","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0416197},{"timestamp":"2022-05-23 11:11:20","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0434555}],"success":true,"cost_seconds":0.620661}}
{"level":"info","time":"2022-05-23 11:11:21","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.215738,"trace_id":"69f82674917dcb1f1365","trace_info":{"trace_id":"69f82674917dcb1f1365","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 54bKLEaDwadnlpXBRF9AXqJfMsztrP3h2Vo1zsR2jvY=","Authorization-Date":"2022-05-23 11:11:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["69f82674917dcb1f1365"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.215738},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 11:11:21","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0859831}],"redis":[{"timestamp":"2022-05-23 11:11:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0432761},{"timestamp":"2022-05-23 11:11:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0431477}],"success":true,"cost_seconds":0.215738}}
{"level":"info","time":"2022-05-23 18:10:58","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2041267,"trace_id":"882094f8216a5ad5cf60","trace_info":{"trace_id":"882094f8216a5ad5cf60","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin c599vRFq5sBZTrIJni/Cuk/4obqLfZQQiLctQqW8XYs=","Authorization-Date":"2022-05-23 18:10:58","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["882094f8216a5ad5cf60"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2041267},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-23 18:10:58","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0904724}],"redis":[{"timestamp":"2022-05-23 18:10:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0376049},{"timestamp":"2022-05-23 18:10:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0376519}],"success":true,"cost_seconds":0.2041267}}
{"level":"info","time":"2022-05-24 11:22:42","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/helper/md5/123","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0003382,"trace_id":"38fd3842e1b283fe4fb7","trace_info":{"trace_id":"38fd3842e1b283fe4fb7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/helper/md5/123","header":{"Authorization":"","Authorization-Date":"","Content-Type":"","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["38fd3842e1b283fe4fb7"],"Vary":["Origin"]},"body":{"md5_str":"202cb962ac59075b964b07152d234b70"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0003382},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":true,"cost_seconds":0.0003382}}
{"level":"info","time":"2022-05-24 13:49:11","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0004223,"trace_id":"250aa9771635854bcf6b","trace_info":{"trace_id":"250aa9771635854bcf6b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Bv3rH9LusUdT5RARte2Zs5jzJhTFTuwWonvhTsTnU44=","Authorization-Date":"2022-05-24 13:49:11","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["250aa9771635854bcf6b"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0004223},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0004223},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:21\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-24 13:49:25","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4887356,"trace_id":"e339826061d271768b8f","trace_info":{"trace_id":"e339826061d271768b8f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin bOinPEdz3cbecxW3od6x3KgFIJZOhRq1QMVyqyr08gg=","Authorization-Date":"2022-05-24 13:49:25","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e339826061d271768b8f"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4887356},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-24 13:49:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0757289},{"timestamp":"2022-05-24 13:49:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0754542},{"timestamp":"2022-05-24 13:49:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0755598},{"timestamp":"2022-05-24 13:49:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0754043},{"timestamp":"2022-05-24 13:49:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.07674}],"redis":[{"timestamp":"2022-05-24 13:49:25","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0354624},{"timestamp":"2022-05-24 13:49:25","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0352807},{"timestamp":"2022-05-24 13:49:25","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0375992}],"success":true,"cost_seconds":0.4887356}}
{"level":"info","time":"2022-05-24 13:49:26","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1843943,"trace_id":"6b673a3f78394e3d687e","trace_info":{"trace_id":"6b673a3f78394e3d687e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin hNKBmqMyo6ayLb+P9HPFtmU4a9WLeFP1NoYZRY3Xiic=","Authorization-Date":"2022-05-24 13:49:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6b673a3f78394e3d687e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1843943},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-24 13:49:26","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0753433}],"redis":[{"timestamp":"2022-05-24 13:49:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.035972},{"timestamp":"2022-05-24 13:49:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0362169}],"success":true,"cost_seconds":0.1843943}}
{"level":"info","time":"2022-05-24 13:49:26","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3639449,"trace_id":"555332e5dd7450039ccf","trace_info":{"trace_id":"555332e5dd7450039ccf","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 9BW3+NtTCcBJb5BArz4Vgrx5qoxPWO4Qh12h0t1omr8=","Authorization-Date":"2022-05-24 13:49:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["555332e5dd7450039ccf"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3639449},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-24 13:49:26","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0740914},{"timestamp":"2022-05-24 13:49:26","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.075228}],"redis":[{"timestamp":"2022-05-24 13:49:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0359124},{"timestamp":"2022-05-24 13:49:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.03596}],"success":true,"cost_seconds":0.3639449}}
{"level":"info","time":"2022-05-25 16:22:47","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin/menu","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000419,"trace_id":"c16a124760d8673d079b","trace_info":{"trace_id":"c16a124760d8673d079b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/menu","header":{"Authorization":"","Authorization-Date":"","Content-Type":"application/x-www-form-urlencoded","Token":""},"body":"id=2121&actions=21212121"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c16a124760d8673d079b"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000419},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000419},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:21\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:25:20","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4598858,"trace_id":"146a351dc39d2ee14cbe","trace_info":{"trace_id":"146a351dc39d2ee14cbe","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin HMKz04sV8RVwnw7upTqn9KLe5IX4LMqCLMBZC6NxNMs=","Authorization-Date":"2022-05-25 16:25:19","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["146a351dc39d2ee14cbe"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4598858},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:25:19","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0687057},{"timestamp":"2022-05-25 16:25:19","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0709189},{"timestamp":"2022-05-25 16:25:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0686241},{"timestamp":"2022-05-25 16:25:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0694636},{"timestamp":"2022-05-25 16:25:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.068121}],"redis":[{"timestamp":"2022-05-25 16:25:19","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0375442},{"timestamp":"2022-05-25 16:25:20","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0371691},{"timestamp":"2022-05-25 16:25:20","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0391663}],"success":true,"cost_seconds":0.4598858}}
{"level":"info","time":"2022-05-25 16:25:20","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1864638,"trace_id":"545153b20c3c17b468a4","trace_info":{"trace_id":"545153b20c3c17b468a4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin GWPYwtK2xn+DYBBKRcTBnwL8JzJCmgX91difE0p1tQ8=","Authorization-Date":"2022-05-25 16:25:20","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["545153b20c3c17b468a4"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1864638},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:25:20","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0699554}],"redis":[{"timestamp":"2022-05-25 16:25:20","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0379168},{"timestamp":"2022-05-25 16:25:20","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0375871}],"success":true,"cost_seconds":0.1864638}}
{"level":"info","time":"2022-05-25 16:27:10","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2720108,"trace_id":"76e91e5675381ca37ffa","trace_info":{"trace_id":"76e91e5675381ca37ffa","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin 6ahUuk5pD2Q6npwysqhDh7IWhIITXp2PlpQos8CieN8=","Authorization-Date":"2022-05-25 16:27:09","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["76e91e5675381ca37ffa"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2720108},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:27:10","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.04226},{"timestamp":"2022-05-25 16:27:10","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0353219}],"redis":[{"timestamp":"2022-05-25 16:27:09","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0381975},{"timestamp":"2022-05-25 16:27:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0387327}],"success":true,"cost_seconds":0.2720108}}
{"level":"error","time":"2022-05-25 16:28:14","caller":"core/core.go:370","msg":"got panic","domain":"go-gin-api[fat]","panic":"Expected 5 or 6 fields, found 2: 0 */5","stack":"goroutine 144 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:369 +0x14c\npanic({0x1289a20, 0xc001a3fda0})\n\tC:/Program Files/Go/src/runtime/panic.go:838 +0x207\nlog.Panicf({0x142a6c9?, 0x5?}, {0xc002029178?, 0x1289060?, 0x143ee00?})\n\tC:/Program Files/Go/src/log/log.go:392 +0x67\ngithub.com/jakecoffman/cron.Parse({0xc001a99760, 0x5})\n\tD:/my/go/pkg/mod/github.com/jakecoffman/cron@v0.0.0-20190106200828-7e2009c226a5/parser.go:26 +0x109\ngithub.com/jakecoffman/cron.(*Cron).AddJob(0xc00008a0c0, {0xc001a99760?, 0x6?}, {0x1dc99a0?, 0xc0001405a0}, {0x142a65e, 0x1})\n\tD:/my/go/pkg/mod/github.com/jakecoffman/cron@v0.0.0-20190106200828-7e2009c226a5/cron.go:99 +0x66\ngithub.com/jakecoffman/cron.(*Cron).AddFunc(...)\n\tD:/my/go/pkg/mod/github.com/jakecoffman/cron@v0.0.0-20190106200828-7e2009c226a5/cron.go:94\ngithub.com/zhangdi168/dq-bot/internal/repository/cron.(*server).AddTask(0xc00008a100, 0xc0003681c0)\n\tD:/my/go/src/dq-bot/internal/repository/cron/cron_add_task.go:15 +0xbd\ngithub.com/zhangdi168/dq-bot/internal/services/cron.(*service).Create(0xc001a1bf20, {0x1dd9890, 0xc000290c68}, 0xc0003085a0)\n\tD:/my/go/src/dq-bot/internal/services/cron/service_create.go:48 +0x2d2\ngithub.com/zhangdi168/dq-bot/internal/api/cron.(*handler).Create.func1({0x1dd9890, 0xc000290c68})\n\tD:/my/go/src/dq-bot/internal/api/cron/func_create.go:86 +0x286\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc00015cd00)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc00015cd00)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc00015cd00)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522 +0x29f\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc00015cd00)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000205380, 0xc00015cd00)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000205380, {0x1dcf048?, 0xc0003680e0}, 0xc001e2d700)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0?, {0x1dcf048?, 0xc0003680e0?}, 0x7edda5?)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231 +0x26\nnet/http.serverHandler.ServeHTTP({0x1dccae0?}, {0x1dcf048, 0xc0003680e0}, 0xc001e2d700)\n\tC:/Program Files/Go/src/net/http/server.go:2916 +0x43b\nnet/http.(*conn).serve(0xc0004a6a00, {0x1dcfd10, 0xc000476cc0})\n\tC:/Program Files/Go/src/net/http/server.go:1966 +0x5d7\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3071 +0x4db\n"}
{"level":"error","time":"2022-05-25 16:28:14","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-05-25 16:28:14","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/cron","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.3822873,"trace_id":"30dd9fa33ae2c4e8223e","trace_info":{"trace_id":"30dd9fa33ae2c4e8223e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/cron","header":{"Authorization":"admin EQWGiayVck5vPSbM8ub3YODPqCFDTgYaIqD3fZp2hlY=","Authorization-Date":"2022-05-25 16:28:13","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"name=test&spec=*%2F5+&command=echo+hhh&protocol=1&http_method=0&timeout=10&retry_times=1&retry_interval=60&notify_status=1&notify_type=0&notify_receiver_email=&notify_keyword=&is_used=1&remark=test"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["30dd9fa33ae2c4e8223e"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.3822873},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:28:14","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:27","sql":"INSERT INTO `cron_task` (`name`,`spec`,`command`,`protocol`,`http_method`,`timeout`,`retry_times`,`retry_interval`,`notify_status`,`notify_type`,`notify_receiver_email`,`notify_keyword`,`remark`,`is_used`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('test','*/5 ','echo hhh',1,0,10,1,60,1,0,'','','test',1,'2022-05-25 16:28:14.067','admin','2022-05-25 16:28:14.067','')","rows_affected":1,"cost_seconds":0.1204638}],"redis":[{"timestamp":"2022-05-25 16:28:13","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0612416},{"timestamp":"2022-05-25 16:28:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0389266}],"success":false,"cost_seconds":0.3822873}}
{"level":"error","time":"2022-05-25 16:28:19","caller":"core/core.go:370","msg":"got panic","domain":"go-gin-api[fat]","panic":"Expected 5 or 6 fields, found 2: 0 */5","stack":"goroutine 144 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:369 +0x14c\npanic({0x1289a20, 0xc001fbeb60})\n\tC:/Program Files/Go/src/runtime/panic.go:838 +0x207\nlog.Panicf({0x142a6c9?, 0x5?}, {0xc0018b3178?, 0x1289060?, 0x143ee00?})\n\tC:/Program Files/Go/src/log/log.go:392 +0x67\ngithub.com/jakecoffman/cron.Parse({0xc001a99f80, 0x5})\n\tD:/my/go/pkg/mod/github.com/jakecoffman/cron@v0.0.0-20190106200828-7e2009c226a5/parser.go:26 +0x109\ngithub.com/jakecoffman/cron.(*Cron).AddJob(0xc00008a0c0, {0xc001a99f80?, 0x6?}, {0x1dc99a0?, 0xc0001409a8}, {0x142a65f, 0x1})\n\tD:/my/go/pkg/mod/github.com/jakecoffman/cron@v0.0.0-20190106200828-7e2009c226a5/cron.go:99 +0x66\ngithub.com/jakecoffman/cron.(*Cron).AddFunc(...)\n\tD:/my/go/pkg/mod/github.com/jakecoffman/cron@v0.0.0-20190106200828-7e2009c226a5/cron.go:94\ngithub.com/zhangdi168/dq-bot/internal/repository/cron.(*server).AddTask(0xc00008a100, 0xc0000ecfc0)\n\tD:/my/go/src/dq-bot/internal/repository/cron/cron_add_task.go:15 +0xbd\ngithub.com/zhangdi168/dq-bot/internal/services/cron.(*service).Create(0xc001a1bf20, {0x1dd9890, 0xc0003c7d60}, 0xc000151b00)\n\tD:/my/go/src/dq-bot/internal/services/cron/service_create.go:48 +0x2d2\ngithub.com/zhangdi168/dq-bot/internal/api/cron.(*handler).Create.func1({0x1dd9890, 0xc0003c7d60})\n\tD:/my/go/src/dq-bot/internal/api/cron/func_create.go:86 +0x286\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc0000e3900)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc0000e3900)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc0000e3900)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522 +0x29f\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc0000e3900)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000205380, 0xc0000e3900)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000205380, {0x1dcf048?, 0xc0000ecee0}, 0xc001fc8d00)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0?, {0x1dcf048?, 0xc0000ecee0?}, 0x7edda5?)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231 +0x26\nnet/http.serverHandler.ServeHTTP({0x1dccae0?}, {0x1dcf048, 0xc0000ecee0}, 0xc001fc8d00)\n\tC:/Program Files/Go/src/net/http/server.go:2916 +0x43b\nnet/http.(*conn).serve(0xc0004a6a00, {0x1dcfd10, 0xc000476cc0})\n\tC:/Program Files/Go/src/net/http/server.go:1966 +0x5d7\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3071 +0x4db\n"}
{"level":"error","time":"2022-05-25 16:28:19","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-05-25 16:28:19","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/cron","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.3565146,"trace_id":"61d9fa749fc02e4ede17","trace_info":{"trace_id":"61d9fa749fc02e4ede17","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/cron","header":{"Authorization":"admin OHjE44NGhS04QFGo7pCqHqbO/McOW8U7Isl+9Ca1B/E=","Authorization-Date":"2022-05-25 16:28:18","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"name=test&spec=*%2F5+&command=echo+hhh&protocol=1&http_method=0&timeout=10&retry_times=1&retry_interval=60&notify_status=1&notify_type=0&notify_receiver_email=&notify_keyword=&is_used=1&remark=test"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["61d9fa749fc02e4ede17"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.3565146},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:28:19","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:27","sql":"INSERT INTO `cron_task` (`name`,`spec`,`command`,`protocol`,`http_method`,`timeout`,`retry_times`,`retry_interval`,`notify_status`,`notify_type`,`notify_receiver_email`,`notify_keyword`,`remark`,`is_used`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('test','*/5 ','echo hhh',1,0,10,1,60,1,0,'','','test',1,'2022-05-25 16:28:19.174','admin','2022-05-25 16:28:19.174','')","rows_affected":1,"cost_seconds":0.1198779}],"redis":[{"timestamp":"2022-05-25 16:28:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0404637},{"timestamp":"2022-05-25 16:28:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0387101}],"success":false,"cost_seconds":0.3565146}}
{"level":"info","time":"2022-05-25 16:28:24","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3768002,"trace_id":"5cb6916a32d662cc1ba9","trace_info":{"trace_id":"5cb6916a32d662cc1ba9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin XaqjFRiwLuAG9n//ZzMsBssG12I1oOKoH10LOKzFVsE=","Authorization-Date":"2022-05-25 16:28:24","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5cb6916a32d662cc1ba9"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3768002},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:28:24","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0703541},{"timestamp":"2022-05-25 16:28:24","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0712659}],"redis":[{"timestamp":"2022-05-25 16:28:24","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.038063},{"timestamp":"2022-05-25 16:28:24","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0389672}],"success":true,"cost_seconds":0.3768002}}
{"level":"info","time":"2022-05-25 16:28:30","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin","http_code":400,"business_code":20201,"success":false,"cost_seconds":0.360415,"trace_id":"1edfad572b3d18b1e8e4","trace_info":{"trace_id":"1edfad572b3d18b1e8e4","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin ZY2hibuyaZDocKqbrXuenhjjNTD37m9DZayap2PD6Mg=","Authorization-Date":"2022-05-25 16:28:30","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&nickname=2121&mobile=13471687661&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1edfad572b3d18b1e8e4"],"Vary":["Origin"]},"body":null,"business_code":20201,"business_code_msg":"创建管理员失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.360415},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:28:30","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:27","sql":"INSERT INTO `admin` (`username`,`password`,`nickname`,`mobile`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('admin','f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0','2121','13471687661',1,-1,'2022-05-25 16:28:30.261','admin','2022-05-25 16:28:30.261','')","rows_affected":0,"cost_seconds":0.1281989}],"redis":[{"timestamp":"2022-05-25 16:28:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0375076},{"timestamp":"2022-05-25 16:28:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.039886}],"success":false,"cost_seconds":0.360415},"error":"create err: Error 1062: Duplicate entry 'admin' for key 'unique_username'","errorVerbose":"create err: Error 1062: Duplicate entry 'admin' for key 'unique_username'\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/my/go/src/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/admin.(*handler).Create.func1\n\tD:/my/go/src/dq-bot/internal/api/admin/func_create.go:61\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:28:32","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin","http_code":400,"business_code":20201,"success":false,"cost_seconds":0.3683816,"trace_id":"65d84fafdb95fc1f9a4b","trace_info":{"trace_id":"65d84fafdb95fc1f9a4b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin 0VXzmFxsbcnI02YYWIAXkm1xWFGnYtVY+y1foAvRvUg=","Authorization-Date":"2022-05-25 16:28:32","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&nickname=2121&mobile=13471687661&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["65d84fafdb95fc1f9a4b"],"Vary":["Origin"]},"body":null,"business_code":20201,"business_code_msg":"创建管理员失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.3683816},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:28:32","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:27","sql":"INSERT INTO `admin` (`username`,`password`,`nickname`,`mobile`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('admin','f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0','2121','13471687661',1,-1,'2022-05-25 16:28:32.683','admin','2022-05-25 16:28:32.683','')","rows_affected":0,"cost_seconds":0.1332149}],"redis":[{"timestamp":"2022-05-25 16:28:32","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0393507},{"timestamp":"2022-05-25 16:28:32","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0395309}],"success":false,"cost_seconds":0.3683816},"error":"create err: Error 1062: Duplicate entry 'admin' for key 'unique_username'","errorVerbose":"create err: Error 1062: Duplicate entry 'admin' for key 'unique_username'\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/my/go/src/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/admin.(*handler).Create.func1\n\tD:/my/go/src/dq-bot/internal/api/admin/func_create.go:61\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:28:42","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin","http_code":400,"business_code":20201,"success":false,"cost_seconds":0.364921,"trace_id":"3c41095e6d624ca3adcf","trace_info":{"trace_id":"3c41095e6d624ca3adcf","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin E8Z4sHte8DkbmvJTY2mPBWQ0eTMGcwfD3MKTr+i9pn0=","Authorization-Date":"2022-05-25 16:28:41","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&nickname=2121&mobile=13471687661&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3c41095e6d624ca3adcf"],"Vary":["Origin"]},"body":null,"business_code":20201,"business_code_msg":"创建管理员失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.364921},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:28:42","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:27","sql":"INSERT INTO `admin` (`username`,`password`,`nickname`,`mobile`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('admin','f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0','2121','13471687661',1,-1,'2022-05-25 16:28:41.944','admin','2022-05-25 16:28:41.944','')","rows_affected":0,"cost_seconds":0.129456}],"redis":[{"timestamp":"2022-05-25 16:28:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0385158},{"timestamp":"2022-05-25 16:28:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.041029}],"success":false,"cost_seconds":0.364921},"error":"create err: Error 1062: Duplicate entry 'admin' for key 'unique_username'","errorVerbose":"create err: Error 1062: Duplicate entry 'admin' for key 'unique_username'\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/my/go/src/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/admin.(*handler).Create.func1\n\tD:/my/go/src/dq-bot/internal/api/admin/func_create.go:61\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:28:47","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2663278,"trace_id":"582cf89627a0bb05ad88","trace_info":{"trace_id":"582cf89627a0bb05ad88","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin mlxwplt6XXu5kUJngnxo9nf2TFh+gKHa7pgieLnycSk=","Authorization-Date":"2022-05-25 16:28:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["582cf89627a0bb05ad88"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2663278},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:28:47","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.070407}],"redis":[{"timestamp":"2022-05-25 16:28:47","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0382021},{"timestamp":"2022-05-25 16:28:47","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0404667}],"success":true,"cost_seconds":0.2663278}}
{"level":"info","time":"2022-05-25 16:29:09","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3433165,"trace_id":"4f45a0beb40f0eb19760","trace_info":{"trace_id":"4f45a0beb40f0eb19760","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin cvO4LaE++2rC9oPURQHKmJ3dqgcIRfRxnygd+9ZeNSo=","Authorization-Date":"2022-05-25 16:29:09","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4f45a0beb40f0eb19760"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3433165},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:09","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0739793},{"timestamp":"2022-05-25 16:29:09","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0714184}],"redis":[{"timestamp":"2022-05-25 16:29:09","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0383917},{"timestamp":"2022-05-25 16:29:09","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0388403}],"success":true,"cost_seconds":0.3433165}}
{"level":"info","time":"2022-05-25 16:29:17","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2648702,"trace_id":"d4745750ec271d10c501","trace_info":{"trace_id":"d4745750ec271d10c501","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin 0h5e7s4PfQLNvY4OMfAS+3nqhXnkkGEtVFlgW2qKOHU=","Authorization-Date":"2022-05-25 16:29:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d4745750ec271d10c501"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","name":"test","protocol":1,"protocol_text":"SHELL","spec":"*/5 ","command":"echo hhh","http_method":0,"http_method_text":"","timeout":10,"retry_times":1,"retry_interval":60,"notify_status":1,"notify_status_text":"不通知","is_used":1,"is_used_text":"启用","created_at":"2022-05-25 16:28:19","created_user":"admin","updated_at":"2022-05-25 16:28:19","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","name":"test","protocol":1,"protocol_text":"SHELL","spec":"*/5 ","command":"echo hhh","http_method":0,"http_method_text":"","timeout":10,"retry_times":1,"retry_interval":60,"notify_status":1,"notify_status_text":"不通知","is_used":1,"is_used_text":"启用","created_at":"2022-05-25 16:28:14","created_user":"admin","updated_at":"2022-05-25 16:28:14","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2648702},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:17","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0344405},{"timestamp":"2022-05-25 16:29:17","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0350083}],"redis":[{"timestamp":"2022-05-25 16:29:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0392057},{"timestamp":"2022-05-25 16:29:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0414058}],"success":true,"cost_seconds":0.2648702}}
{"level":"info","time":"2022-05-25 16:29:22","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3367762,"trace_id":"fad93476be62fbaa7445","trace_info":{"trace_id":"fad93476be62fbaa7445","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin dyBx43dA3SW2YiodBPlkC3bnvnSm+n5JgQq/i9MVEmg=","Authorization-Date":"2022-05-25 16:29:22","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fad93476be62fbaa7445"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3367762},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:22","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0707713},{"timestamp":"2022-05-25 16:29:22","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0711592}],"redis":[{"timestamp":"2022-05-25 16:29:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0396375},{"timestamp":"2022-05-25 16:29:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.038393}],"success":true,"cost_seconds":0.3367762}}
{"level":"info","time":"2022-05-25 16:29:43","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2711317,"trace_id":"06ddd88b994d737ecfc3","trace_info":{"trace_id":"06ddd88b994d737ecfc3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin T3J5fHe57xWbipEj5J0tu1pWbfYXz9iFRV97Mi08fas=","Authorization-Date":"2022-05-25 16:29:43","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["06ddd88b994d737ecfc3"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","name":"test","protocol":1,"protocol_text":"SHELL","spec":"*/5 ","command":"echo hhh","http_method":0,"http_method_text":"","timeout":10,"retry_times":1,"retry_interval":60,"notify_status":1,"notify_status_text":"不通知","is_used":1,"is_used_text":"启用","created_at":"2022-05-25 16:28:19","created_user":"admin","updated_at":"2022-05-25 16:28:19","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","name":"test","protocol":1,"protocol_text":"SHELL","spec":"*/5 ","command":"echo hhh","http_method":0,"http_method_text":"","timeout":10,"retry_times":1,"retry_interval":60,"notify_status":1,"notify_status_text":"不通知","is_used":1,"is_used_text":"启用","created_at":"2022-05-25 16:28:14","created_user":"admin","updated_at":"2022-05-25 16:28:14","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2711317},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:43","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0365172},{"timestamp":"2022-05-25 16:29:43","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0364028}],"redis":[{"timestamp":"2022-05-25 16:29:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.037902},{"timestamp":"2022-05-25 16:29:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0412622}],"success":true,"cost_seconds":0.2711317}}
{"level":"info","time":"2022-05-25 16:29:45","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2799043,"trace_id":"b9df0b3c170f72d00c7d","trace_info":{"trace_id":"b9df0b3c170f72d00c7d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin bVNcfP9DqwDr7tQFleAqAW/+nTSAj8GqH97pzD1y/2o=","Authorization-Date":"2022-05-25 16:29:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b9df0b3c170f72d00c7d"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2799043},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:45","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0708613}],"redis":[{"timestamp":"2022-05-25 16:29:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0376994},{"timestamp":"2022-05-25 16:29:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0392916}],"success":true,"cost_seconds":0.2799043}}
{"level":"info","time":"2022-05-25 16:29:46","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3347514,"trace_id":"8cadf46b5be169c11331","trace_info":{"trace_id":"8cadf46b5be169c11331","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin mhZUGm9rFtz6/o9z47SG/eHztMCFZP7UV+9Yjhm9qAI=","Authorization-Date":"2022-05-25 16:29:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8cadf46b5be169c11331"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3347514},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:46","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0714202},{"timestamp":"2022-05-25 16:29:46","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0698773}],"redis":[{"timestamp":"2022-05-25 16:29:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0389305},{"timestamp":"2022-05-25 16:29:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0382639}],"success":true,"cost_seconds":0.3347514}}
{"level":"info","time":"2022-05-25 16:29:48","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2536582,"trace_id":"ea76811d863f1e018836","trace_info":{"trace_id":"ea76811d863f1e018836","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin qvGB6iD6T3dy3TKxot6p5Dly7PuX/NSKXWW0coZCTsI=","Authorization-Date":"2022-05-25 16:29:47","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ea76811d863f1e018836"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","name":"test","protocol":1,"protocol_text":"SHELL","spec":"*/5 ","command":"echo hhh","http_method":0,"http_method_text":"","timeout":10,"retry_times":1,"retry_interval":60,"notify_status":1,"notify_status_text":"不通知","is_used":1,"is_used_text":"启用","created_at":"2022-05-25 16:28:19","created_user":"admin","updated_at":"2022-05-25 16:28:19","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","name":"test","protocol":1,"protocol_text":"SHELL","spec":"*/5 ","command":"echo hhh","http_method":0,"http_method_text":"","timeout":10,"retry_times":1,"retry_interval":60,"notify_status":1,"notify_status_text":"不通知","is_used":1,"is_used_text":"启用","created_at":"2022-05-25 16:28:14","created_user":"admin","updated_at":"2022-05-25 16:28:14","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2536582},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:48","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0331251},{"timestamp":"2022-05-25 16:29:48","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0336612}],"redis":[{"timestamp":"2022-05-25 16:29:47","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0361529},{"timestamp":"2022-05-25 16:29:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0377769}],"success":true,"cost_seconds":0.2536582}}
{"level":"info","time":"2022-05-25 16:29:53","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3303924,"trace_id":"f5721598f3eb439281a0","trace_info":{"trace_id":"f5721598f3eb439281a0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin q9WcK2xp6aZdXilO8JHrWg10rFr0h68rjsD6JZAamp0=","Authorization-Date":"2022-05-25 16:29:53","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f5721598f3eb439281a0"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3303924},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:29:53","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0722688},{"timestamp":"2022-05-25 16:29:53","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0696963}],"redis":[{"timestamp":"2022-05-25 16:29:53","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0372053},{"timestamp":"2022-05-25 16:29:53","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0371839}],"success":true,"cost_seconds":0.3303924}}
{"level":"info","time":"2022-05-25 16:30:01","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/authorized","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3719222,"trace_id":"cfe039a90080ccf01766","trace_info":{"trace_id":"cfe039a90080ccf01766","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/authorized","header":{"Authorization":"admin H0TeyslxWJUZNcspg9aP3V3xaTm6PPHmgShzT82aZFQ=","Authorization-Date":"2022-05-25 16:30:01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"business_key=22&business_developer=3232&remark=32"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cfe039a90080ccf01766"],"Vary":["Origin"]},"body":{"id":2},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3719222},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:30:01","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:27","sql":"INSERT INTO `authorized` (`business_key`,`business_secret`,`business_developer`,`remark`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('22','d7b7ac5ae3dae02172e9','3232','32',1,-1,'2022-05-25 16:30:01.289','admin','2022-05-25 16:30:01.289','')","rows_affected":1,"cost_seconds":0.1362993}],"redis":[{"timestamp":"2022-05-25 16:30:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.03855},{"timestamp":"2022-05-25 16:30:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0393089}],"success":true,"cost_seconds":0.3719222}}
{"level":"info","time":"2022-05-25 16:30:03","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3394857,"trace_id":"d8d93da00ce12522d47a","trace_info":{"trace_id":"d8d93da00ce12522d47a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin 17dOon6486yaVbmhFSNb+41QxqFcBwLc0nK0lHXUrAs=","Authorization-Date":"2022-05-25 16:30:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d8d93da00ce12522d47a"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3394857},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:30:03","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0713691},{"timestamp":"2022-05-25 16:30:03","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0719139}],"redis":[{"timestamp":"2022-05-25 16:30:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0386397},{"timestamp":"2022-05-25 16:30:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0403402}],"success":true,"cost_seconds":0.3394857}}
{"level":"info","time":"2022-05-25 16:30:04","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3405621,"trace_id":"28188585d7447c1ff5ab","trace_info":{"trace_id":"28188585d7447c1ff5ab","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin 17dOon6486yaVbmhFSNb+41QxqFcBwLc0nK0lHXUrAs=","Authorization-Date":"2022-05-25 16:30:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["28188585d7447c1ff5ab"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3405621},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:30:04","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0713738},{"timestamp":"2022-05-25 16:30:04","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0704064}],"redis":[{"timestamp":"2022-05-25 16:30:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0387675},{"timestamp":"2022-05-25 16:30:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0389718}],"success":true,"cost_seconds":0.3405621}}
{"level":"info","time":"2022-05-25 16:30:06","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3695542,"trace_id":"4c791946ed0db57491d4","trace_info":{"trace_id":"4c791946ed0db57491d4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 7aLwg46lIVFkEm6ZK6blhJTtaMUkzxoF68odzeWtV0w=","Authorization-Date":"2022-05-25 16:30:06","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4c791946ed0db57491d4"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3695542},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:30:06","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0696539},{"timestamp":"2022-05-25 16:30:06","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0712776}],"redis":[{"timestamp":"2022-05-25 16:30:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0399429},{"timestamp":"2022-05-25 16:30:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0381095}],"success":true,"cost_seconds":0.3695542}}
{"level":"info","time":"2022-05-25 16:30:12","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3651871,"trace_id":"c5d3bf9825d78c6d6984","trace_info":{"trace_id":"c5d3bf9825d78c6d6984","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin E/rPgsPG0JZ4wYi6Mwe7dSAcs+MtlXaD006hPS4oSQA=","Authorization-Date":"2022-05-25 16:30:12","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin2&nickname=ddd&mobile=13471687661&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c5d3bf9825d78c6d6984"],"Vary":["Origin"]},"body":{"id":5},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3651871},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:30:12","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:27","sql":"INSERT INTO `admin` (`username`,`password`,`nickname`,`mobile`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('admin2','f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0','ddd','13471687661',1,-1,'2022-05-25 16:30:12.843','admin','2022-05-25 16:30:12.843','')","rows_affected":1,"cost_seconds":0.1298831}],"redis":[{"timestamp":"2022-05-25 16:30:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0392201},{"timestamp":"2022-05-25 16:30:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0404064}],"success":true,"cost_seconds":0.3651871}}
{"level":"info","time":"2022-05-25 16:30:14","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4239175,"trace_id":"b0bfec605059ac9f61c7","trace_info":{"trace_id":"b0bfec605059ac9f61c7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin T70MpE2NuvyuOGO3Njp4VaJKgmulKpRm9+F2VO2laow=","Authorization-Date":"2022-05-25 16:30:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b0bfec605059ac9f61c7"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4239175},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:30:14","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0705677},{"timestamp":"2022-05-25 16:30:14","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0712186}],"redis":[{"timestamp":"2022-05-25 16:30:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0392964},{"timestamp":"2022-05-25 16:30:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0428573}],"success":true,"cost_seconds":0.4239175}}
{"level":"info","time":"2022-05-25 16:30:26","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/admin/offline","http_code":400,"business_code":20212,"success":false,"cost_seconds":0.2842583,"trace_id":"dc6399c31ba077240824","trace_info":{"trace_id":"dc6399c31ba077240824","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/admin/offline","header":{"Authorization":"admin R9Nixm2lFw9LlpiNRtssooEZ+GwvAAc8gyPkWkyhr0g=","Authorization-Date":"2022-05-25 16:30:26","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"id=ly0Q6Yxwvrm8"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dc6399c31ba077240824"],"Vary":["Origin"]},"body":null,"business_code":20212,"business_code_msg":"下线管理员失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.2842583},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 16:30:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0405142},{"timestamp":"2022-05-25 16:30:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0411238},{"timestamp":"2022-05-25 16:30:26","handle":"del","key":"go-gin-api:login-user:38dc2c0183f69a951dfcd3e7355c2ceb","cost_seconds":0.0407616}],"success":false,"cost_seconds":0.2842583}}
{"level":"info","time":"2022-05-25 16:30:31","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/admin/offline","http_code":200,"business_code":0,"success":true,"cost_seconds":0.242643,"trace_id":"feef60bbeddf27c9780e","trace_info":{"trace_id":"feef60bbeddf27c9780e","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/admin/offline","header":{"Authorization":"admin ZAohMRam/Ip+Leg+ttVXHfhyZbzPEXSkrpdv957EKb0=","Authorization-Date":"2022-05-25 16:30:31","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"id=zjON6am6eMdR"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["feef60bbeddf27c9780e"],"Vary":["Origin"]},"body":{"id":1},"http_code":200,"http_code_msg":"OK","cost_seconds":0.242643},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 16:30:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.040465},{"timestamp":"2022-05-25 16:30:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0425813},{"timestamp":"2022-05-25 16:30:31","handle":"del","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0394202}],"success":true,"cost_seconds":0.242643}}
{"level":"info","time":"2022-05-25 16:30:33","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0404446,"trace_id":"f754170a8166b2e2105a","trace_info":{"trace_id":"f754170a8166b2e2105a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin RjBMKrHYypMlEsO8NeC5Moiep0tfgRA3wNQoOvTrjds=","Authorization-Date":"2022-05-25 16:30:33","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f754170a8166b2e2105a"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0404446},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0404446},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:30\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:54:38","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0404907,"trace_id":"fa4bdecdc81a3b144000","trace_info":{"trace_id":"fa4bdecdc81a3b144000","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin VOj4ftKo5RX7LuQBVRsag+moGPuMI/hTs5fOy4NuLpQ=","Authorization-Date":"2022-05-25 16:54:38","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fa4bdecdc81a3b144000"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0404907},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0404907},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:30\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:54:39","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0394931,"trace_id":"aa4d3ba198bdd88d76c9","trace_info":{"trace_id":"aa4d3ba198bdd88d76c9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin v2K4rbBs6V/IKvLDckqUWSIgIjbROPpdiJROAVVdF60=","Authorization-Date":"2022-05-25 16:54:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["aa4d3ba198bdd88d76c9"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0394931},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0394931},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:30\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:54:45","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0372462,"trace_id":"2da46ad4cb3cc4e9bc78","trace_info":{"trace_id":"2da46ad4cb3cc4e9bc78","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin eYlTZP7quWx9YOuXLKItJ9GlZrj8RXSjMPL0dhPqx3M=","Authorization-Date":"2022-05-25 16:54:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2da46ad4cb3cc4e9bc78"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0372462},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0372462},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:30\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:54:45","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0373193,"trace_id":"f498b634f979f9ad2f42","trace_info":{"trace_id":"f498b634f979f9ad2f42","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin zhHjgMd5dl5Bc/1EzyrpErAp6CqEZmm7c4sq982wHUs=","Authorization-Date":"2022-05-25 16:54:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f498b634f979f9ad2f42"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0373193},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0373193},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/my/go/src/dq-bot/internal/router/interceptor/check_login.go:30\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:540\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:522\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:326\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2916\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1966\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1571\n"}
{"level":"info","time":"2022-05-25 16:54:47","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4827725,"trace_id":"82563402273fe7ff1829","trace_info":{"trace_id":"82563402273fe7ff1829","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin rGa519+73kXfkQFV12/EWHSdld2KDjsrDtYwgUD11k4=","Authorization-Date":"2022-05-25 16:54:47","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["82563402273fe7ff1829"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4827725},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:54:47","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0729532},{"timestamp":"2022-05-25 16:54:47","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0733621},{"timestamp":"2022-05-25 16:54:47","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0733933},{"timestamp":"2022-05-25 16:54:47","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0741165},{"timestamp":"2022-05-25 16:54:47","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0749087}],"redis":[{"timestamp":"2022-05-25 16:54:47","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0365663},{"timestamp":"2022-05-25 16:54:47","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0368719},{"timestamp":"2022-05-25 16:54:47","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0386832}],"success":true,"cost_seconds":0.4827725}}
{"level":"info","time":"2022-05-25 16:54:48","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1940293,"trace_id":"710e2643019e5cd30087","trace_info":{"trace_id":"710e2643019e5cd30087","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin icMmgbTNE+8QvsB2TxMb6FHuwJ2lxMIPId17kqQAueQ=","Authorization-Date":"2022-05-25 16:54:47","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["710e2643019e5cd30087"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1940293},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:54:48","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0739389}],"redis":[{"timestamp":"2022-05-25 16:54:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.036755},{"timestamp":"2022-05-25 16:54:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0450664}],"success":true,"cost_seconds":0.1940293}}
{"level":"info","time":"2022-05-25 16:54:48","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4035413,"trace_id":"8bad5e8b688cc4f2efb1","trace_info":{"trace_id":"8bad5e8b688cc4f2efb1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin VjoIlcoQo4t35SbWM99LQ2Za4c/eMCsYpx7+J+jKZug=","Authorization-Date":"2022-05-25 16:54:48","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8bad5e8b688cc4f2efb1"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4035413},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 16:54:48","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0714446},{"timestamp":"2022-05-25 16:54:48","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0715319}],"redis":[{"timestamp":"2022-05-25 16:54:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0368618},{"timestamp":"2022-05-25 16:54:48","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0370309}],"success":true,"cost_seconds":0.4035413}}
{"level":"info","time":"2022-05-25 17:38:26","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1901509,"trace_id":"67ff21a032de05361f4e","trace_info":{"trace_id":"67ff21a032de05361f4e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin CEK/yyDjbfiidDISaAfOnx367y6e2oqTorK2ZNHYDaw=","Authorization-Date":"2022-05-25 17:38:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["67ff21a032de05361f4e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1901509},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:38:26","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0740093}],"redis":[{"timestamp":"2022-05-25 17:38:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0389091},{"timestamp":"2022-05-25 17:38:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0387452}],"success":true,"cost_seconds":0.1901509}}
{"level":"info","time":"2022-05-25 17:38:29","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1911601,"trace_id":"c799d6d39017e1c672c9","trace_info":{"trace_id":"c799d6d39017e1c672c9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin VURAXcWoWPc+WJGFQUmrkYGcaf0EWSIpy3wn86b4Y/o=","Authorization-Date":"2022-05-25 17:38:29","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c799d6d39017e1c672c9"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1911601},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:38:29","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0757494}],"redis":[{"timestamp":"2022-05-25 17:38:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0384646},{"timestamp":"2022-05-25 17:38:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0378928}],"success":true,"cost_seconds":0.1911601}}
{"level":"info","time":"2022-05-25 17:38:45","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.200721,"trace_id":"26ef720719fe86f504fc","trace_info":{"trace_id":"26ef720719fe86f504fc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin z6QozfJOeEe1Hs5Uwsj/CAEXMYDtzBECZ3FCR6UeW6I=","Authorization-Date":"2022-05-25 17:38:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["26ef720719fe86f504fc"],"Vary":["Origin"]},"body":{"list":[{"db_name":"dqbot168"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.200721},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 17:38:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0399259},{"timestamp":"2022-05-25 17:38:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0407225}],"success":true,"cost_seconds":0.200721}}
{"level":"info","time":"2022-05-25 17:38:45","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2423442,"trace_id":"cae04bab473a4adb5e9e","trace_info":{"trace_id":"cae04bab473a4adb5e9e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin sK5/5z9YLun2tQleVd/KRh6v94O9gSQTziHCEZq1eBg=","Authorization-Date":"2022-05-25 17:38:45","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cae04bab473a4adb5e9e"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2423442},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 17:38:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0409196},{"timestamp":"2022-05-25 17:38:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0438228}],"success":true,"cost_seconds":0.2423442}}
{"level":"info","time":"2022-05-25 17:42:29","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4367257,"trace_id":"f24f5e69d2bf3ad941b9","trace_info":{"trace_id":"f24f5e69d2bf3ad941b9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin WDwTnN4fhrmkbMv7t4cPEsk8+kncOkhmifcI2m6op2g=","Authorization-Date":"2022-05-25 17:42:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f24f5e69d2bf3ad941b9"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4367257},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:42:29","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0754278},{"timestamp":"2022-05-25 17:42:29","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0828179}],"redis":[{"timestamp":"2022-05-25 17:42:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0399674},{"timestamp":"2022-05-25 17:42:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0412314}],"success":true,"cost_seconds":0.4367257}}
{"level":"info","time":"2022-05-25 17:42:29","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2768396,"trace_id":"39a7aac8189ef6073a7f","trace_info":{"trace_id":"39a7aac8189ef6073a7f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin /9jgGg/cpyMYkoG07BAU2mbb5UjOGRSVZvZtR9dTj7I=","Authorization-Date":"2022-05-25 17:42:29","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["39a7aac8189ef6073a7f"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2768396},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:42:29","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0778348}],"redis":[{"timestamp":"2022-05-25 17:42:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0392011},{"timestamp":"2022-05-25 17:42:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0387202}],"success":true,"cost_seconds":0.2768396}}
{"level":"info","time":"2022-05-25 17:42:30","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4339221,"trace_id":"b748406733fa32c33e1f","trace_info":{"trace_id":"b748406733fa32c33e1f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin hnMgZKV8qzn6g3QMRvMZHHa1ovmr9D1T6JY4fCi2Z14=","Authorization-Date":"2022-05-25 17:42:30","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b748406733fa32c33e1f"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4339221},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:42:30","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0788792},{"timestamp":"2022-05-25 17:42:30","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0754904}],"redis":[{"timestamp":"2022-05-25 17:42:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0391217},{"timestamp":"2022-05-25 17:42:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0398296}],"success":true,"cost_seconds":0.4339221}}
{"level":"info","time":"2022-05-25 17:44:26","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3170615,"trace_id":"ae81790bb6b0a46e521f","trace_info":{"trace_id":"ae81790bb6b0a46e521f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin zOAfpcjsNbnK92Bb5zTDze2d3zCP5VlbH2ZqtfHLfKo=","Authorization-Date":"2022-05-25 17:44:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ae81790bb6b0a46e521f"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3170615},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:44:26","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0378734},{"timestamp":"2022-05-25 17:44:26","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0399039}],"redis":[{"timestamp":"2022-05-25 17:44:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0390965},{"timestamp":"2022-05-25 17:44:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0393714}],"success":true,"cost_seconds":0.3170615}}
{"level":"info","time":"2022-05-25 17:44:28","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2796825,"trace_id":"610c30e089d3ada5c6d1","trace_info":{"trace_id":"610c30e089d3ada5c6d1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin 6zP22Ry301m9S7Ka1Y9AQQk2rr7VDzUSq5qv7KRGcP8=","Authorization-Date":"2022-05-25 17:44:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["610c30e089d3ada5c6d1"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2796825},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:44:28","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0387394},{"timestamp":"2022-05-25 17:44:28","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0380823}],"redis":[{"timestamp":"2022-05-25 17:44:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.039327},{"timestamp":"2022-05-25 17:44:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0452477}],"success":true,"cost_seconds":0.2796825}}
{"level":"info","time":"2022-05-25 17:44:33","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2707274,"trace_id":"7be4bb3046aeef5c17cf","trace_info":{"trace_id":"7be4bb3046aeef5c17cf","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin B+KiCiQq7j507sqo1XhLt0ATSpYCTPuLSvZXxIV7zU4=","Authorization-Date":"2022-05-25 17:44:32","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7be4bb3046aeef5c17cf"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2707274},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:44:33","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0778388}],"redis":[{"timestamp":"2022-05-25 17:44:32","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0400033},{"timestamp":"2022-05-25 17:44:32","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0383696}],"success":true,"cost_seconds":0.2707274}}
{"level":"info","time":"2022-05-25 17:44:56","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu/35XzEnK1Zn0j","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2865549,"trace_id":"4183cbbc7d247dfce4e5","trace_info":{"trace_id":"4183cbbc7d247dfce4e5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/35XzEnK1Zn0j","header":{"Authorization":"admin TtUwDGaQnsz9o3jq6IvUgnhb9r+5j2rtCE03+HiwRe0=","Authorization-Date":"2022-05-25 17:44:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4183cbbc7d247dfce4e5"],"Vary":["Origin"]},"body":{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2865549},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:44:56","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 13 LIMIT 1","rows_affected":1,"cost_seconds":0.0806936}],"redis":[{"timestamp":"2022-05-25 17:44:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0393804},{"timestamp":"2022-05-25 17:44:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0449871}],"success":true,"cost_seconds":0.2865549}}
{"level":"info","time":"2022-05-25 17:44:57","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu/35XzEnK1Zn0j","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2751224,"trace_id":"807549f64a381440aaa7","trace_info":{"trace_id":"807549f64a381440aaa7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/35XzEnK1Zn0j","header":{"Authorization":"admin TtUwDGaQnsz9o3jq6IvUgnhb9r+5j2rtCE03+HiwRe0=","Authorization-Date":"2022-05-25 17:44:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["807549f64a381440aaa7"],"Vary":["Origin"]},"body":{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2751224},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:44:57","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 13 LIMIT 1","rows_affected":1,"cost_seconds":0.0774244}],"redis":[{"timestamp":"2022-05-25 17:44:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0399477},{"timestamp":"2022-05-25 17:44:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0396907}],"success":true,"cost_seconds":0.2751224}}
{"level":"info","time":"2022-05-25 17:44:57","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu/35XzEnK1Zn0j","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2725672,"trace_id":"d0ed7358ac5c29cee6a9","trace_info":{"trace_id":"d0ed7358ac5c29cee6a9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/35XzEnK1Zn0j","header":{"Authorization":"admin /nRqPLVyjBLi641qtTai0pKEPPZ2/zxQK38FSBe0y50=","Authorization-Date":"2022-05-25 17:44:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d0ed7358ac5c29cee6a9"],"Vary":["Origin"]},"body":{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2725672},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:44:57","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 13 LIMIT 1","rows_affected":1,"cost_seconds":0.0763976}],"redis":[{"timestamp":"2022-05-25 17:44:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0391806},{"timestamp":"2022-05-25 17:44:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0394634}],"success":true,"cost_seconds":0.2725672}}
{"level":"info","time":"2022-05-25 17:44:58","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu/35XzEnK1Zn0j","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2728201,"trace_id":"bae724e11f58bbc89650","trace_info":{"trace_id":"bae724e11f58bbc89650","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/35XzEnK1Zn0j","header":{"Authorization":"admin cA2gR9+l2OvrWXXKDvbEG78Wx+2PlAZsYgujjUe5mYA=","Authorization-Date":"2022-05-25 17:44:58","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bae724e11f58bbc89650"],"Vary":["Origin"]},"body":{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2728201},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:44:58","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 13 LIMIT 1","rows_affected":1,"cost_seconds":0.0746399}],"redis":[{"timestamp":"2022-05-25 17:44:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.038838},{"timestamp":"2022-05-25 17:44:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0411367}],"success":true,"cost_seconds":0.2728201}}
{"level":"info","time":"2022-05-25 17:45:07","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu/25gW6Dl6DkBb","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2788003,"trace_id":"f03dd30af825a1de7557","trace_info":{"trace_id":"f03dd30af825a1de7557","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu/25gW6Dl6DkBb","header":{"Authorization":"admin Q52nK3b4U/2DyXhuyZ8zUugJPl34DCrWlHQiakn9aNU=","Authorization-Date":"2022-05-25 17:45:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f03dd30af825a1de7557"],"Vary":["Origin"]},"body":{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2788003},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:07","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 AND id = 14 LIMIT 1","rows_affected":1,"cost_seconds":0.0771341}],"redis":[{"timestamp":"2022-05-25 17:45:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0437401},{"timestamp":"2022-05-25 17:45:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0394926}],"success":true,"cost_seconds":0.2788003}}
{"level":"info","time":"2022-05-25 17:45:22","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/menu/used","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3613244,"trace_id":"9a98269b7da2a6863944","trace_info":{"trace_id":"9a98269b7da2a6863944","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/menu/used","header":{"Authorization":"admin DFq0bUJ0MW5+uzKhISADUzCk20a283AeZwUSe3LYWnA=","Authorization-Date":"2022-05-25 17:45:22","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"id=MWKd6K91vNql&used=-1"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9a98269b7da2a6863944"],"Vary":["Origin"]},"body":{"id":23},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3613244},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:22","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `is_used`=-1,`updated_user`='admin',`updated_at`='2022-05-25 17:45:22.397' WHERE id = 23","rows_affected":1,"cost_seconds":0.1271219}],"redis":[{"timestamp":"2022-05-25 17:45:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0384972},{"timestamp":"2022-05-25 17:45:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0393837}],"success":true,"cost_seconds":0.3613244}}
{"level":"info","time":"2022-05-25 17:45:24","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2736758,"trace_id":"dd10ea75202b82f7764f","trace_info":{"trace_id":"dd10ea75202b82f7764f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin l4sV+haIpsT8E1uDj2P2Vt4TM3cySJIcsDdyLGDS4iY=","Authorization-Date":"2022-05-25 17:45:23","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dd10ea75202b82f7764f"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":-1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2736758},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:24","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0759445}],"redis":[{"timestamp":"2022-05-25 17:45:23","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0400834},{"timestamp":"2022-05-25 17:45:23","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.039241}],"success":true,"cost_seconds":0.2736758}}
{"level":"error","time":"2022-05-25 17:45:25","caller":"socket/socket_on_message.go:14","msg":"socket on message error","domain":"go-gin-api[fat]","error":"websocket: close 1001 (going away)"}
{"level":"info","time":"2022-05-25 17:45:25","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1935098,"trace_id":"b202dc34210cce0cde62","trace_info":{"trace_id":"b202dc34210cce0cde62","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin j3qgplCmul2C8RFMVvMPzXJBbpFqNI390cDn3j6RlL0=","Authorization-Date":"2022-05-25 17:45:25","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b202dc34210cce0cde62"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1935098},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0767026}],"redis":[{"timestamp":"2022-05-25 17:45:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0399654},{"timestamp":"2022-05-25 17:45:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0383417}],"success":true,"cost_seconds":0.1935098}}
{"level":"info","time":"2022-05-25 17:45:25","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2900227,"trace_id":"38e2c5c41c8ceb423301","trace_info":{"trace_id":"38e2c5c41c8ceb423301","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin OOD50bCDuNgg/168+PBx+ww4POdEq1YiFz3nJvxBYrM=","Authorization-Date":"2022-05-25 17:45:25","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["38e2c5c41c8ceb423301"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":-1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2900227},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0786504}],"redis":[{"timestamp":"2022-05-25 17:45:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0335801},{"timestamp":"2022-05-25 17:45:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0341536}],"success":true,"cost_seconds":0.2900227}}
{"level":"info","time":"2022-05-25 17:45:27","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2550287,"trace_id":"395a91306ca4bc8d1f68","trace_info":{"trace_id":"395a91306ca4bc8d1f68","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin wqEjBBbTTn66l8kCSnmq8KXUlUfOKKeDspBroCt+JoQ=","Authorization-Date":"2022-05-25 17:45:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["395a91306ca4bc8d1f68"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2550287},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:27","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0376894},{"timestamp":"2022-05-25 17:45:27","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0375098}],"redis":[{"timestamp":"2022-05-25 17:45:27","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.034494},{"timestamp":"2022-05-25 17:45:27","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0364114}],"success":true,"cost_seconds":0.2550287}}
{"level":"info","time":"2022-05-25 17:45:31","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.245289,"trace_id":"594fba348ba3b1fbedf8","trace_info":{"trace_id":"594fba348ba3b1fbedf8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin xHwaQqF/hm+J2DsogugzVCFNpCUNxZu14hjrJCpjUbM=","Authorization-Date":"2022-05-25 17:45:30","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["594fba348ba3b1fbedf8"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":-1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.245289},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:31","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0739449}],"redis":[{"timestamp":"2022-05-25 17:45:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0346879},{"timestamp":"2022-05-25 17:45:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0340469}],"success":true,"cost_seconds":0.245289}}
{"level":"info","time":"2022-05-25 17:45:37","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/menu/used","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3450529,"trace_id":"82e4e4f94adc3a1b0c63","trace_info":{"trace_id":"82e4e4f94adc3a1b0c63","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/menu/used","header":{"Authorization":"admin n+osTCcPjUxHsBEzFN4GV4/PDYqUrTeIMHiA3mbk1IQ=","Authorization-Date":"2022-05-25 17:45:37","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"id=LqmpEgKE5jaJ&used=-1"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["82e4e4f94adc3a1b0c63"],"Vary":["Origin"]},"body":{"id":24},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3450529},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:37","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `is_used`=-1,`updated_user`='admin',`updated_at`='2022-05-25 17:45:37.676' WHERE id = 24","rows_affected":1,"cost_seconds":0.1262297}],"redis":[{"timestamp":"2022-05-25 17:45:37","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0342753},{"timestamp":"2022-05-25 17:45:37","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0385149}],"success":true,"cost_seconds":0.3450529}}
{"level":"info","time":"2022-05-25 17:45:39","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2556259,"trace_id":"66d3f036a54b559c7925","trace_info":{"trace_id":"66d3f036a54b559c7925","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin RxG3tbakxy5cwRGkyBV33Yjl2pyTeQWtuGK/P2t2Ge8=","Authorization-Date":"2022-05-25 17:45:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["66d3f036a54b559c7925"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":-1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2556259},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:39","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0790046}],"redis":[{"timestamp":"2022-05-25 17:45:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0355862},{"timestamp":"2022-05-25 17:45:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0357324}],"success":true,"cost_seconds":0.2556259}}
{"level":"info","time":"2022-05-25 17:45:42","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1876757,"trace_id":"9414c5ff04564440e3e1","trace_info":{"trace_id":"9414c5ff04564440e3e1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 3uoH+JAui4b2Qm2A5IuZMvcPuKawa6uSPKxs09fC5Cg=","Authorization-Date":"2022-05-25 17:45:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9414c5ff04564440e3e1"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1876757},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:42","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0836761}],"redis":[{"timestamp":"2022-05-25 17:45:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0349183},{"timestamp":"2022-05-25 17:45:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0332718}],"success":true,"cost_seconds":0.1876757}}
{"level":"info","time":"2022-05-25 17:45:42","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2901737,"trace_id":"6ece23c9c29c48a81898","trace_info":{"trace_id":"6ece23c9c29c48a81898","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin yiZCEVc4OrRQkAsZKfZQB6ge/Fmj3P+PiBiYuVv7oZ8=","Authorization-Date":"2022-05-25 17:45:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6ece23c9c29c48a81898"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":-1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2901737},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:42","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0817804}],"redis":[{"timestamp":"2022-05-25 17:45:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0347026},{"timestamp":"2022-05-25 17:45:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0357707}],"success":true,"cost_seconds":0.2901737}}
{"level":"info","time":"2022-05-25 17:45:45","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2527022,"trace_id":"95ed4d7166942d7320ab","trace_info":{"trace_id":"95ed4d7166942d7320ab","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin 0pdwoDDuuu89QaRg2zhT57HtBe0ckOWojtR/csHrJWE=","Authorization-Date":"2022-05-25 17:45:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["95ed4d7166942d7320ab"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2527022},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:45","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0381974},{"timestamp":"2022-05-25 17:45:45","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0382996}],"redis":[{"timestamp":"2022-05-25 17:45:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0347061},{"timestamp":"2022-05-25 17:45:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0354874}],"success":true,"cost_seconds":0.2527022}}
{"level":"info","time":"2022-05-25 17:45:55","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2609096,"trace_id":"bcaf020902efa3ac21f0","trace_info":{"trace_id":"bcaf020902efa3ac21f0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 5pqv4yXLFsGBfx9eAsL4hc9e/3MdlN6iS0tu+PbM3Os=","Authorization-Date":"2022-05-25 17:45:55","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bcaf020902efa3ac21f0"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":-1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2609096},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:45:55","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0836576}],"redis":[{"timestamp":"2022-05-25 17:45:55","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0377044},{"timestamp":"2022-05-25 17:45:55","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.036202}],"success":true,"cost_seconds":0.2609096}}
{"level":"info","time":"2022-05-25 17:47:11","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"DELETE","path":"/api/menu/MWKd6K91vNql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.347714,"trace_id":"91eb5a7b8ea81cf49b48","trace_info":{"trace_id":"91eb5a7b8ea81cf49b48","request":{"ttl":"un-limit","method":"DELETE","decoded_url":"/api/menu/MWKd6K91vNql","header":{"Authorization":"admin hkdIwi7C50mqTWw74PF0/XGL1+jfkb2h5sR5AElN3/Q=","Authorization-Date":"2022-05-25 17:47:10","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["91eb5a7b8ea81cf49b48"],"Vary":["Origin"]},"body":{"id":23},"http_code":200,"http_code_msg":"OK","cost_seconds":0.347714},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:11","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:62","sql":"UPDATE `menu` SET `is_deleted`=1,`updated_user`='admin',`updated_at`='2022-05-25 17:47:11.131' WHERE id = 23","rows_affected":1,"cost_seconds":0.1242237}],"redis":[{"timestamp":"2022-05-25 17:47:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0385677},{"timestamp":"2022-05-25 17:47:11","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0364348}],"success":true,"cost_seconds":0.347714}}
{"level":"info","time":"2022-05-25 17:47:12","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2528745,"trace_id":"2e88be2cbfb31653ab5e","trace_info":{"trace_id":"2e88be2cbfb31653ab5e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin iBCyeOSqd+3XnhBq4z/9QvZv9Mf2xPzb+GhYYQw5iJ4=","Authorization-Date":"2022-05-25 17:47:12","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2e88be2cbfb31653ab5e"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2528745},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:12","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0773589}],"redis":[{"timestamp":"2022-05-25 17:47:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0353126},{"timestamp":"2022-05-25 17:47:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0355273}],"success":true,"cost_seconds":0.2528745}}
{"level":"info","time":"2022-05-25 17:47:14","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1780045,"trace_id":"d8fe34293b9618448a2a","trace_info":{"trace_id":"d8fe34293b9618448a2a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 1LV3Rb7Ql5DfPwf5fiD81glUxamVigsTssRzgiG3+zA=","Authorization-Date":"2022-05-25 17:47:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d8fe34293b9618448a2a"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1780045},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:14","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0764846}],"redis":[{"timestamp":"2022-05-25 17:47:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0338525},{"timestamp":"2022-05-25 17:47:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0332045}],"success":true,"cost_seconds":0.1780045}}
{"level":"info","time":"2022-05-25 17:47:14","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2506267,"trace_id":"09161b92cb0380feb286","trace_info":{"trace_id":"09161b92cb0380feb286","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin q3Rh+i9hJrg0TiTIHqLLAI55GEHtVZ3GYK6CJGgG82U=","Authorization-Date":"2022-05-25 17:47:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["09161b92cb0380feb286"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2506267},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:14","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0780898}],"redis":[{"timestamp":"2022-05-25 17:47:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0337512},{"timestamp":"2022-05-25 17:47:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0349085}],"success":true,"cost_seconds":0.2506267}}
{"level":"info","time":"2022-05-25 17:47:16","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2482166,"trace_id":"b519feb66ad70dd110fc","trace_info":{"trace_id":"b519feb66ad70dd110fc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin Pg4rXRjUE629Pl9D5e7cnkRq95Sm9wvzTlwgnoiUucU=","Authorization-Date":"2022-05-25 17:47:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b519feb66ad70dd110fc"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2482166},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:16","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0377657},{"timestamp":"2022-05-25 17:47:16","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0383013}],"redis":[{"timestamp":"2022-05-25 17:47:16","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0357018},{"timestamp":"2022-05-25 17:47:16","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0347785}],"success":true,"cost_seconds":0.2482166}}
{"level":"info","time":"2022-05-25 17:47:18","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1826005,"trace_id":"dfc466fde5fa3b7f162d","trace_info":{"trace_id":"dfc466fde5fa3b7f162d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin mKaggiZJ4SjeqCp2x+NW5CZhVkqB6t+QYRmJw1XGuJM=","Authorization-Date":"2022-05-25 17:47:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dfc466fde5fa3b7f162d"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1826005},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:18","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0804969}],"redis":[{"timestamp":"2022-05-25 17:47:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0344366},{"timestamp":"2022-05-25 17:47:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0332705}],"success":true,"cost_seconds":0.1826005}}
{"level":"info","time":"2022-05-25 17:47:18","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2619882,"trace_id":"e5f0c52c81d77b46e34c","trace_info":{"trace_id":"e5f0c52c81d77b46e34c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin MHEfqYH4R0bsjox9jIvK6li0gjbzRqaFzTO3Ec1llhc=","Authorization-Date":"2022-05-25 17:47:18","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e5f0c52c81d77b46e34c"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2619882},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:18","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0410413},{"timestamp":"2022-05-25 17:47:18","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0388679}],"redis":[{"timestamp":"2022-05-25 17:47:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0353135},{"timestamp":"2022-05-25 17:47:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0397734}],"success":true,"cost_seconds":0.2619882}}
{"level":"info","time":"2022-05-25 17:47:29","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1661412,"trace_id":"b93d60aff25d719ec389","trace_info":{"trace_id":"b93d60aff25d719ec389","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Fu9sKuo2dFATFQn+YSJmxFt8vbZePHB53S6aCs4Z7CM=","Authorization-Date":"2022-05-25 17:47:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b93d60aff25d719ec389"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1661412},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:29","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0660501}],"redis":[{"timestamp":"2022-05-25 17:47:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0334958},{"timestamp":"2022-05-25 17:47:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0332882}],"success":true,"cost_seconds":0.1661412}}
{"level":"info","time":"2022-05-25 17:47:29","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2567003,"trace_id":"75e758163003d10408ba","trace_info":{"trace_id":"75e758163003d10408ba","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin Ed5K2J1UuDiWEU6nDhHa53ZHmOc1salJOMgQq0ZFVy0=","Authorization-Date":"2022-05-25 17:47:29","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["75e758163003d10408ba"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2567003},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:29","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.038741},{"timestamp":"2022-05-25 17:47:29","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0360075}],"redis":[{"timestamp":"2022-05-25 17:47:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0345269},{"timestamp":"2022-05-25 17:47:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.036089}],"success":true,"cost_seconds":0.2567003}}
{"level":"info","time":"2022-05-25 17:47:31","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1689208,"trace_id":"2529a6b66d8bf7442cba","trace_info":{"trace_id":"2529a6b66d8bf7442cba","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin xs6O9iKoffleaEFaneqT6l9LP2Jwa4C/fTlXkZL23pY=","Authorization-Date":"2022-05-25 17:47:31","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2529a6b66d8bf7442cba"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1689208},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:31","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0677101}],"redis":[{"timestamp":"2022-05-25 17:47:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0364361},{"timestamp":"2022-05-25 17:47:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0315167}],"success":true,"cost_seconds":0.1689208}}
{"level":"info","time":"2022-05-25 17:47:31","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2329995,"trace_id":"7ed1e31b7ce317b4cdc1","trace_info":{"trace_id":"7ed1e31b7ce317b4cdc1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin RMFGHxAPW2FtaC3kwm/kK/WGbFXF6SX+TaQF+Z2CzlE=","Authorization-Date":"2022-05-25 17:47:31","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7ed1e31b7ce317b4cdc1"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2329995},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:47:31","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0328123},{"timestamp":"2022-05-25 17:47:31","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0339705}],"redis":[{"timestamp":"2022-05-25 17:47:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0328398},{"timestamp":"2022-05-25 17:47:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0318728}],"success":true,"cost_seconds":0.2329995}}
{"level":"info","time":"2022-05-25 17:48:18","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1808783,"trace_id":"e584d586c0abc2218b7b","trace_info":{"trace_id":"e584d586c0abc2218b7b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin kXiomOVzRwPIkGzot9wnNgusCZx7xDLAdr1VpxZX+os=","Authorization-Date":"2022-05-25 17:48:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e584d586c0abc2218b7b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1808783},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:48:18","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0738413}],"redis":[{"timestamp":"2022-05-25 17:48:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0342383},{"timestamp":"2022-05-25 17:48:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0384424}],"success":true,"cost_seconds":0.1808783}}
{"level":"info","time":"2022-05-25 17:48:18","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3008096,"trace_id":"1ec9f5babc928b03efdd","trace_info":{"trace_id":"1ec9f5babc928b03efdd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin sH45VMcWP+yXAc1odVbrvFpyG603/ZFz3cZxwiv1+/8=","Authorization-Date":"2022-05-25 17:48:18","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1ec9f5babc928b03efdd"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3008096},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:48:18","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.034816},{"timestamp":"2022-05-25 17:48:18","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0345333}],"redis":[{"timestamp":"2022-05-25 17:48:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0380982},{"timestamp":"2022-05-25 17:48:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0383546}],"success":true,"cost_seconds":0.3008096}}
{"level":"info","time":"2022-05-25 17:48:21","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2694676,"trace_id":"9e9321f3a13a6f79062f","trace_info":{"trace_id":"9e9321f3a13a6f79062f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin 8uLxmQ4KEwTF4xrZvVy7zhPIyyTBkExVdtPB7UnlZH4=","Authorization-Date":"2022-05-25 17:48:20","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9e9321f3a13a6f79062f"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2694676},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:48:21","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0382042},{"timestamp":"2022-05-25 17:48:21","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0348799}],"redis":[{"timestamp":"2022-05-25 17:48:20","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0376383},{"timestamp":"2022-05-25 17:48:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0384735}],"success":true,"cost_seconds":0.2694676}}
{"level":"info","time":"2022-05-25 17:48:22","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2588441,"trace_id":"b11fc41fbf1f348889c3","trace_info":{"trace_id":"b11fc41fbf1f348889c3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin 8y2ZFoM9ZgrPjKq0JLco1eSTh5VcOCZ+2OcTXikHloo=","Authorization-Date":"2022-05-25 17:48:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b11fc41fbf1f348889c3"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2588441},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:48:22","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0338185},{"timestamp":"2022-05-25 17:48:22","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0346686}],"redis":[{"timestamp":"2022-05-25 17:48:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0386546},{"timestamp":"2022-05-25 17:48:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0392076}],"success":true,"cost_seconds":0.2588441}}
{"level":"info","time":"2022-05-25 17:48:22","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2650387,"trace_id":"cf0c67da37165b4fe54b","trace_info":{"trace_id":"cf0c67da37165b4fe54b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin vCL78d/w5zyxPlFTh0nxb14MS6UovDoEiKzZ/XNCsOI=","Authorization-Date":"2022-05-25 17:48:22","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cf0c67da37165b4fe54b"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2650387},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:48:22","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0350107},{"timestamp":"2022-05-25 17:48:22","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0350454}],"redis":[{"timestamp":"2022-05-25 17:48:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.037504},{"timestamp":"2022-05-25 17:48:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0378334}],"success":true,"cost_seconds":0.2650387}}
{"level":"info","time":"2022-05-25 17:48:24","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4079791,"trace_id":"e24e3cc0f6f8e5cc224c","trace_info":{"trace_id":"e24e3cc0f6f8e5cc224c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin QeNCP6OVwKQmD17b4lrikc96HIyWx2yOZ0i88DPAoeA=","Authorization-Date":"2022-05-25 17:48:24","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e24e3cc0f6f8e5cc224c"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4079791},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:48:24","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0724988},{"timestamp":"2022-05-25 17:48:24","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0709345}],"redis":[{"timestamp":"2022-05-25 17:48:24","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0373835},{"timestamp":"2022-05-25 17:48:24","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0399982}],"success":true,"cost_seconds":0.4079791}}
{"level":"info","time":"2022-05-25 17:48:25","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2765027,"trace_id":"7749a33d79130c1c773e","trace_info":{"trace_id":"7749a33d79130c1c773e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin FgEQDl8Y7p3akDVcbztVe0vSIwJUWu5u6OaKteevRkY=","Authorization-Date":"2022-05-25 17:48:25","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7749a33d79130c1c773e"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2765027},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-25 17:48:25","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.068714}],"redis":[{"timestamp":"2022-05-25 17:48:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0444266},{"timestamp":"2022-05-25 17:48:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0404148}],"success":true,"cost_seconds":0.2765027}}
{"level":"info","time":"2022-05-25 17:48:30","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1930181,"trace_id":"5a2f027e148d9bfea7e0","trace_info":{"trace_id":"5a2f027e148d9bfea7e0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin DFJL3paXdF64Z7k3vGk0OQ7/HGDmaZMUKsbHNhwl2V0=","Authorization-Date":"2022-05-25 17:48:30","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5a2f027e148d9bfea7e0"],"Vary":["Origin"]},"body":{"list":[{"db_name":"dqbot168"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1930181},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 17:48:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0375951},{"timestamp":"2022-05-25 17:48:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0394022}],"success":true,"cost_seconds":0.1930181}}
{"level":"info","time":"2022-05-25 17:48:31","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2282988,"trace_id":"739a251780a59602e5ca","trace_info":{"trace_id":"739a251780a59602e5ca","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin yHvfGt53uoyuroD+L6Oqjb5Cd1FkO+x05tbyFKTTIt4=","Authorization-Date":"2022-05-25 17:48:30","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["739a251780a59602e5ca"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2282988},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 17:48:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0373023},{"timestamp":"2022-05-25 17:48:31","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0376833}],"success":true,"cost_seconds":0.2282988}}
{"level":"info","time":"2022-05-25 17:48:42","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/mysql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2657522,"trace_id":"1214bab715ea02656d79","trace_info":{"trace_id":"1214bab715ea02656d79","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/mysql","header":{"Authorization":"admin Y4yaLmoXFk9l3jwFNM1+yvUxK5VgRLDLYCMetmbIoB4=","Authorization-Date":"2022-05-25 17:48:41","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168&table_name=dq_message&sql=SELECT+*+FROM+%60dq_message%60+ORDER+BY+1+DESC"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1214bab715ea02656d79"],"Vary":["Origin"]},"body":{"cols":["id","content","qq_user_id","channel_id","guild_id","message_id","create_at","update_at"],"cols_info":[{"column_name":"id","column_comment":""},{"column_name":"content","column_comment":"触发消息"},{"column_name":"qq_user_id","column_comment":"qq的用户ID"},{"column_name":"channel_id","column_comment":"频道Id"},{"column_name":"guild_id","column_comment":"子频道Id"},{"column_name":"message_id","column_comment":"消息ID"},{"column_name":"create_at","column_comment":"创建时间"},{"column_name":"update_at","column_comment":"修改时间"}],"list":[{"channel_id":"6252926","content":"hello","create_at":"2022-05-25 16:13:58 +0800 CST","guild_id":"17834142684283748772","id":"14","message_id":"08a483f59283c9e6bff70110fed2fd02384048c5cab79406","qq_user_id":"7972694712745373968","update_at":"2022-05-25 16:13:58 +0800 CST"},{"channel_id":"6252926","content":"hello","create_at":"2022-05-24 18:28:53 +0800 CST","guild_id":"17834142684283748772","id":"13","message_id":"08a483f59283c9e6bff70110fed2fd02383d48e3e6b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:28:53 +0800 CST"},{"channel_id":"6252926","content":"你在干嘛","create_at":"2022-05-24 18:28:36 +0800 CST","guild_id":"17834142684283748772","id":"12","message_id":"08a483f59283c9e6bff70110fed2fd02383c48d3e6b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:28:36 +0800 CST"},{"channel_id":"6252926","content":"hello","create_at":"2022-05-24 18:28:24 +0800 CST","guild_id":"17834142684283748772","id":"11","message_id":"08a483f59283c9e6bff70110fed2fd02383a48c6e6b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:28:24 +0800 CST"},{"channel_id":"6252926","content":"&gt; hello","create_at":"2022-05-24 18:27:12 +0800 CST","guild_id":"17834142684283748772","id":"10","message_id":"08a483f59283c9e6bff70110fed2fd02383848ffe5b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:27:12 +0800 CST"},{"channel_id":"6252926","content":"212 212121&gt; hello","create_at":"2022-05-24 18:26:47 +0800 CST","guild_id":"17834142684283748772","id":"9","message_id":"08a483f59283c9e6bff70110fed2fd02383748e5e5b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:26:47 +0800 CST"},{"channel_id":"6252926","content":" &gt; hello","create_at":"2022-05-24 18:26:34 +0800 CST","guild_id":"17834142684283748772","id":"8","message_id":"08a483f59283c9e6bff70110fed2fd02383648d8e5b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:26:34 +0800 CST"},{"channel_id":"6252926","content":"sasasa &gt; hello","create_at":"2022-05-24 18:25:50 +0800 CST","guild_id":"17834142684283748772","id":"7","message_id":"08a483f59283c9e6bff70110fed2fd02383548ade5b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:25:50 +0800 CST"},{"channel_id":"6252926","content":"&gt; hello","create_at":"2022-05-24 18:25:34 +0800 CST","guild_id":"17834142684283748772","id":"6","message_id":"08a483f59283c9e6bff70110fed2fd023834489de5b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:25:34 +0800 CST"},{"channel_id":"6252926","content":"hello","create_at":"2022-05-24 18:25:12 +0800 CST","guild_id":"17834142684283748772","id":"5","message_id":"08a483f59283c9e6bff70110fed2fd0238334886e5b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:25:12 +0800 CST"},{"channel_id":"6252926","content":"来了","create_at":"2022-05-24 18:24:34 +0800 CST","guild_id":"17834142684283748772","id":"4","message_id":"08a483f59283c9e6bff70110fed2fd02383248e0e4b29406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 18:24:34 +0800 CST"},{"channel_id":"6252926","content":"你是谁","create_at":"2022-05-24 14:05:10 +0800 CST","guild_id":"17834142684283748772","id":"3","message_id":"08a483f59283c9e6bff70110fed2fd0238314895ebb19406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 14:05:10 +0800 CST"},{"channel_id":"6252926","content":"6889> 哈哈哈","create_at":"2022-05-24 14:03:39 +0800 CST","guild_id":"17834142684283748772","id":"2","message_id":"08a483f59283c9e6bff70110fed2fd02383048baeab19406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 14:03:39 +0800 CST"},{"channel_id":"6252926","content":"<@!3447550723496396889> 你好呀","create_at":"2022-05-24 13:59:41 +0800 CST","guild_id":"17834142684283748772","id":"1","message_id":"08a483f59283c9e6bff70110fed2fd02382e48cce8b19406","qq_user_id":"7972694712745373968","update_at":"2022-05-24 13:59:41 +0800 CST"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2657522},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 17:48:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0401163},{"timestamp":"2022-05-25 17:48:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0374214}],"success":true,"cost_seconds":0.2657522}}
{"level":"info","time":"2022-05-25 17:48:55","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1994244,"trace_id":"48816748e66ac0d64515","trace_info":{"trace_id":"48816748e66ac0d64515","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin /WQzTJ7HDS+vOfpLd0y6XuplBEXbJVVce92s4jtkFDg=","Authorization-Date":"2022-05-25 17:48:55","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["48816748e66ac0d64515"],"Vary":["Origin"]},"body":{"list":[{"db_name":"dqbot168"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1994244},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 17:48:55","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0378886},{"timestamp":"2022-05-25 17:48:55","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0426186}],"success":true,"cost_seconds":0.1994244}}
{"level":"info","time":"2022-05-25 17:48:55","caller":"core/core.go:508","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2309736,"trace_id":"bb185a1e248979fdab78","trace_info":{"trace_id":"bb185a1e248979fdab78","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin Po1n9lN1ARznqKZAB2Lfjc/WOD8LmQ0UbeQklM7Hnfc=","Authorization-Date":"2022-05-25 17:48:55","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bb185a1e248979fdab78"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2309736},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-25 17:48:55","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0385141},{"timestamp":"2022-05-25 17:48:55","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0380492}],"success":true,"cost_seconds":0.2309736}}
{"level":"info","time":"2022-05-26 11:32:33","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1738294,"trace_id":"5d172d8b43cebfb1cd02","trace_info":{"trace_id":"5d172d8b43cebfb1cd02","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin R+tiNHJYq2HJBUSibXSVFItISB9YbledtT/kgPN6lqc=","Authorization-Date":"2022-05-26 11:32:33","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5d172d8b43cebfb1cd02"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1738294},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-26 11:32:33","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0684007}],"redis":[{"timestamp":"2022-05-26 11:32:33","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0342061},{"timestamp":"2022-05-26 11:32:33","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0366856}],"success":true,"cost_seconds":0.1738294}}
{"level":"info","time":"2022-05-26 11:32:34","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.1704513,"trace_id":"dfd3382f4537585e67d3","trace_info":{"trace_id":"dfd3382f4537585e67d3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin Eue2ChcjtILhJRReirbyK1vtKExR2Jwk9soccskh4hM=","Authorization-Date":"2022-05-26 11:32:33","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dfd3382f4537585e67d3"],"Vary":["Origin"]},"body":{"list":[{"db_name":"dqbot168"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.1704513},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:32:33","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0345368},{"timestamp":"2022-05-26 11:32:34","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.034365}],"success":true,"cost_seconds":0.1704513}}
{"level":"info","time":"2022-05-26 11:32:34","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2033578,"trace_id":"4ededf48a71b8432327a","trace_info":{"trace_id":"4ededf48a71b8432327a","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin CZbnUZ8ZTdzrrLhwc7+t96C+FDKD46RNgHkYoMx6E3E=","Authorization-Date":"2022-05-26 11:32:34","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4ededf48a71b8432327a"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2033578},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:32:34","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0353153},{"timestamp":"2022-05-26 11:32:34","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.033576}],"success":true,"cost_seconds":0.2033578}}
{"level":"error","time":"2022-05-26 11:32:50","caller":"core/core.go:372","msg":"got panichtml/template: \"message_list.html\" is undefined","domain":"go-gin-api[fat]","panic":"html/template: \"message_list.html\" is undefined","stack":"goroutine 156 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2.1()\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:371 +0x14c\npanic({0x1879e80, 0xc001b243e0})\n\tC:/Program Files/Go/src/runtime/panic.go:838 +0x207\ngithub.com/gin-gonic/gin.(*Context).Render(0xc0005d6700, 0xc8, {0x23a04d0, 0xc0018a4e40})\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:914 +0x112\ngithub.com/gin-gonic/gin.(*Context).HTML(0xc0005d6700, 0x19cbd68?, {0xc001b361c8?, 0x19bcc22?}, {0x0?, 0x0?})\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:923 +0x6d\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*context).HTML(0x3c1ccc0?, {0x19cbd68?, 0x19935e0?}, {0x0, 0x0})\n\tD:/my/go/src/dq-bot/internal/pkg/core/context.go:260 +0x5d\ngithub.com/zhangdi168/dq-bot/internal/router.setRenderRouter.func17({0x23ac650?, 0xc00059e000?})\n\tD:/my/go/src/dq-bot/internal/render/keywords/keywords.go:27 +0x37\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1(0xc0005d6700)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:211 +0xbe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3(0xc0005d6700)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:542 +0x268\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2(0xc0005d6700)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:524 +0x29f\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1(0xc0005d6700)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:328 +0x6d\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc00036a4e0, 0xc0005d6700)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x63e\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc00036a4e0, {0x23a1e08?, 0xc00057e700}, 0xc00199cf00)\n\tD:/my/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c5\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP(0x0?, {0x23a1e08?, 0xc00057e700?}, 0xc000198000?)\n\tD:/my/go/src/dq-bot/internal/pkg/core/core.go:231 +0x26\nnet/http.serverHandler.ServeHTTP({0xc000550210?}, {0x23a1e08, 0xc00057e700}, 0xc00199cf00)\n\tC:/Program Files/Go/src/net/http/server.go:2916 +0x43b\nnet/http.(*conn).serve(0xc001a71b80, {0x23a2ad0, 0xc00195d1d0})\n\tC:/Program Files/Go/src/net/http/server.go:1966 +0x5d7\ncreated by net/http.(*Server).Serve\n\tC:/Program Files/Go/src/net/http/server.go:3071 +0x4db\n"}
{"level":"error","time":"2022-05-26 11:32:50","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-05-26 11:33:34","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2067691,"trace_id":"164d3172f8b0c05fb274","trace_info":{"trace_id":"164d3172f8b0c05fb274","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin VI7nlj9TSWJxsdxMZdUD1f1thaWV1s/M0XXAcsi9U6Y=","Authorization-Date":"2022-05-26 11:33:34","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["164d3172f8b0c05fb274"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2067691},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-26 11:33:34","stack":"D:/my/go/src/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0836562}],"redis":[{"timestamp":"2022-05-26 11:33:34","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0415863},{"timestamp":"2022-05-26 11:33:34","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0417145}],"success":true,"cost_seconds":0.2067691}}
{"level":"info","time":"2022-05-26 11:33:41","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2046879,"trace_id":"95d7473a153259469429","trace_info":{"trace_id":"95d7473a153259469429","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin CVX/UYbtTfcHgQqW5R5wWoV4S7VC7ZT2r4LDi0KZG2A=","Authorization-Date":"2022-05-26 11:33:40","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["95d7473a153259469429"],"Vary":["Origin"]},"body":{"list":[{"db_name":"dqbot168"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2046879},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:33:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0420782},{"timestamp":"2022-05-26 11:33:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0403658}],"success":true,"cost_seconds":0.2046879}}
{"level":"info","time":"2022-05-26 11:33:41","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2420519,"trace_id":"3fb3fb196b9a14f7ac55","trace_info":{"trace_id":"3fb3fb196b9a14f7ac55","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin 7xSlr2Dl+H6bVImLiMakcDImVAjiEbDhlgsZHXL0Rcg=","Authorization-Date":"2022-05-26 11:33:41","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3fb3fb196b9a14f7ac55"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2420519},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:33:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0413588},{"timestamp":"2022-05-26 11:33:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0406149}],"success":true,"cost_seconds":0.2420519}}
{"level":"info","time":"2022-05-26 11:33:44","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2026757,"trace_id":"4f6e10be8474eb11fb28","trace_info":{"trace_id":"4f6e10be8474eb11fb28","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin Afa1/Xs4ZyZxOJYo5rqFm8X2E7+G6cw5SdZqJPjYUPQ=","Authorization-Date":"2022-05-26 11:33:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4f6e10be8474eb11fb28"],"Vary":["Origin"]},"body":{"list":[{"db_name":"dqbot168"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2026757},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:33:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0400619},{"timestamp":"2022-05-26 11:33:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0397669}],"success":true,"cost_seconds":0.2026757}}
{"level":"info","time":"2022-05-26 11:33:44","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.242508,"trace_id":"c3481db152960fb000e6","trace_info":{"trace_id":"c3481db152960fb000e6","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin W+mLa5CQTuvymZq1ycJMeRCHHQMa3IUWRsQop75QO2I=","Authorization-Date":"2022-05-26 11:33:44","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c3481db152960fb000e6"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.242508},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:33:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.039355},{"timestamp":"2022-05-26 11:33:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0407928}],"success":true,"cost_seconds":0.242508}}
{"level":"info","time":"2022-05-26 11:33:54","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.241178,"trace_id":"0ac10660c5b1ea4b7a3e","trace_info":{"trace_id":"0ac10660c5b1ea4b7a3e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin WvdK+XCJVHtB3YYzFeJrYYfsInEDo8xo3WDWYehqshQ=","Authorization-Date":"2022-05-26 11:33:54","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0ac10660c5b1ea4b7a3e"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.241178},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:33:54","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0399731},{"timestamp":"2022-05-26 11:33:54","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0410833}],"success":true,"cost_seconds":0.241178}}
{"level":"info","time":"2022-05-26 11:33:57","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2438326,"trace_id":"b1ef1b4d3fc7329b874d","trace_info":{"trace_id":"b1ef1b4d3fc7329b874d","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin xPYqQ+5b/MfwinTBPsV5jFtksXj36CUIQzJiQ6MDoX8=","Authorization-Date":"2022-05-26 11:33:57","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=dqbot168"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b1ef1b4d3fc7329b874d"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"dq_keywords","table_comment":"自动回复关键词表"},{"table_name":"dq_message","table_comment":"自动回复关键词表"},{"table_name":"dq_user","table_comment":"会员表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2438326},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-26 11:33:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0398413},{"timestamp":"2022-05-26 11:33:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0412173}],"success":true,"cost_seconds":0.2438326}}
{"level":"info","time":"2022-05-27 22:36:35","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0,"trace_id":"2231bd93770339a4501f","trace_info":{"trace_id":"2231bd93770339a4501f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin uZPuuAEv3ybPqhCE12DRnTuvs0wdYBHUMax8g97woCQ=","Authorization-Date":"2022-05-27 22:36:35","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2231bd93770339a4501f"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/zhangdi168/dq-bot/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/project/golang/dq-bot/internal/router/interceptor/check_login.go:21\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.WrapAuthHandler.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:132\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-27 22:36:37","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5827874,"trace_id":"b90e665a10126c3856c6","trace_info":{"trace_id":"b90e665a10126c3856c6","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin EoDD5AKPnvkhJ4h0QWBJvlEa1OmJ8fL1PzhWo3gvkfI=","Authorization-Date":"2022-05-27 22:36:37","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b90e665a10126c3856c6"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5827874},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-27 22:36:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0918448},{"timestamp":"2022-05-27 22:36:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0901277},{"timestamp":"2022-05-27 22:36:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0965947},{"timestamp":"2022-05-27 22:36:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0904671},{"timestamp":"2022-05-27 22:36:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0922602}],"redis":[{"timestamp":"2022-05-27 22:36:37","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0399485},{"timestamp":"2022-05-27 22:36:37","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0394067},{"timestamp":"2022-05-27 22:36:37","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0394031}],"success":true,"cost_seconds":0.5827874}}
{"level":"info","time":"2022-05-27 22:36:38","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.2114543,"trace_id":"80bac263eec54d030a7c","trace_info":{"trace_id":"80bac263eec54d030a7c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin zrEvBwri9QNohF1GMJrlrYdDF204GPLK3erDG4RE35w=","Authorization-Date":"2022-05-27 22:36:37","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["80bac263eec54d030a7c"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.2114543},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-27 22:36:38","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.091926}],"redis":[{"timestamp":"2022-05-27 22:36:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0393101},{"timestamp":"2022-05-27 22:36:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0394115}],"success":true,"cost_seconds":0.2114543}}
{"level":"info","time":"2022-05-27 22:36:43","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/cache/search","http_code":400,"business_code":10109,"success":false,"cost_seconds":0.2389697,"trace_id":"ed90bbd1f6d41503df57","trace_info":{"trace_id":"ed90bbd1f6d41503df57","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin PMrEYi4i1WFPoX9WEaWoG6I7IkG9UgznezHsHPh3rFE=","Authorization-Date":"2022-05-27 22:36:43","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=msg"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ed90bbd1f6d41503df57"],"Vary":["Origin"]},"body":null,"business_code":10109,"business_code_msg":"缓存不存在","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.2389697},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-27 22:36:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0400908},{"timestamp":"2022-05-27 22:36:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0399412}],"success":false,"cost_seconds":0.2389697}}
{"level":"info","time":"2022-05-27 23:03:40","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.219988,"trace_id":"d916e7faa8c6a8dc28a4","trace_info":{"trace_id":"d916e7faa8c6a8dc28a4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 8rbA363vWKsahqN+UFBM7GtP5LjcWT+PE95vpdv+Qtc=","Authorization-Date":"2022-05-27 23:03:40","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d916e7faa8c6a8dc28a4"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.219988},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-27 23:03:40","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.085778}],"redis":[{"timestamp":"2022-05-27 23:03:40","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0441797},{"timestamp":"2022-05-27 23:03:40","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0443942}],"success":true,"cost_seconds":0.219988}}
{"level":"info","time":"2022-05-27 23:03:42","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/cache/search","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3568929,"trace_id":"1d1959ba9d5545c19d41","trace_info":{"trace_id":"1d1959ba9d5545c19d41","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin 4a29MU/uORiLVwjP5QNm1M6WsE+yGSJVvHDlmSLHre4=","Authorization-Date":"2022-05-27 23:03:42","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=msg"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1d1959ba9d5545c19d41"],"Vary":["Origin"]},"body":{"val":"hello","ttl":"-1ns"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3568929},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-27 23:03:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0453745},{"timestamp":"2022-05-27 23:03:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0445667},{"timestamp":"2022-05-27 23:03:42","handle":"get","key":"msg","cost_seconds":0.0453706}],"success":true,"cost_seconds":0.3568929}}
{"level":"info","time":"2022-05-28 00:01:30","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":25.7168103,"trace_id":"8316c8693e08ac13936e","trace_info":{"trace_id":"8316c8693e08ac13936e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin lIoSrsrjVEBHezU1aV7deh0Xu076N1uS3Y7rx8yIvvM=","Authorization-Date":"2022-05-28 00:01:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8316c8693e08ac13936e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":25.7168103},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:01:30","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0934118}],"redis":[{"timestamp":"2022-05-28 00:01:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0452793},{"timestamp":"2022-05-28 00:01:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.044388}],"success":true,"cost_seconds":25.7168103}}
{"level":"info","time":"2022-05-28 00:01:40","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":4.6998645,"trace_id":"1ac565c7fd39b3164a10","trace_info":{"trace_id":"1ac565c7fd39b3164a10","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin kBXDduNYOBf3OsQi7hlvKxu2UhuWHXLqB0Qqk5zPrls=","Authorization-Date":"2022-05-28 00:01:36","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1ac565c7fd39b3164a10"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":4.6998645},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:01:40","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.097985},{"timestamp":"2022-05-28 00:01:40","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0958865}],"redis":[{"timestamp":"2022-05-28 00:01:36","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0445041},{"timestamp":"2022-05-28 00:01:40","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0460329}],"success":true,"cost_seconds":4.6998645}}
{"level":"info","time":"2022-05-28 00:04:56","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":160.4885801,"trace_id":"888048d35bee8a84752c","trace_info":{"trace_id":"888048d35bee8a84752c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 3XZ75UcqTND8Y+6XF31HVL6BqJYfg0l/zwkgYtOD1IY=","Authorization-Date":"2022-05-28 00:02:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["888048d35bee8a84752c"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":160.4885801},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:04:56","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0987503},{"timestamp":"2022-05-28 00:04:56","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0980022}],"redis":[{"timestamp":"2022-05-28 00:02:15","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0448525},{"timestamp":"2022-05-28 00:04:55","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0468577}],"success":true,"cost_seconds":160.4885801}}
{"level":"info","time":"2022-05-28 00:05:17","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":18.9183528,"trace_id":"bf3258834f42ebcd5b21","trace_info":{"trace_id":"bf3258834f42ebcd5b21","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin kWlr8pLuXG8k99rkDIiMZL6gR35kJCezvI/n6GCFn1Q=","Authorization-Date":"2022-05-28 00:04:58","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bf3258834f42ebcd5b21"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":18.9183528},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:05:17","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.5944828}],"redis":[{"timestamp":"2022-05-28 00:05:16","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":5.3097754},{"timestamp":"2022-05-28 00:05:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0459857}],"success":true,"cost_seconds":18.9183528}}
{"level":"info","time":"2022-05-28 00:05:18","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":1.2224473,"trace_id":"19a792c16835b78af605","trace_info":{"trace_id":"19a792c16835b78af605","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin e+un84Rn3ZHwNwK0j3QtBJa4UWxEPGi8Zd2NC4wjI1g=","Authorization-Date":"2022-05-28 00:05:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["19a792c16835b78af605"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":1.2224473},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:05:18","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0985052}],"redis":[{"timestamp":"2022-05-28 00:05:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0500716},{"timestamp":"2022-05-28 00:05:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0456185}],"success":true,"cost_seconds":1.2224473}}
{"level":"info","time":"2022-05-28 00:05:18","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.9645232,"trace_id":"669f0c8eec7ee463212b","trace_info":{"trace_id":"669f0c8eec7ee463212b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin kThGgzsTB144b3VIE9Gs/RYw6vd//YOdvhXCML7IcRk=","Authorization-Date":"2022-05-28 00:05:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["669f0c8eec7ee463212b"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.9645232},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:05:18","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0976697},{"timestamp":"2022-05-28 00:05:18","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0981072}],"redis":[{"timestamp":"2022-05-28 00:05:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0449846},{"timestamp":"2022-05-28 00:05:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0459992}],"success":true,"cost_seconds":0.9645232}}
{"level":"info","time":"2022-05-28 00:05:20","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":8.8199396,"trace_id":"7fad707bf4277772d3f1","trace_info":{"trace_id":"7fad707bf4277772d3f1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 510+cBhNz1FcvOXj5X3qETpdCghhtkfJH3Dyq9Iwxg0=","Authorization-Date":"2022-05-28 00:05:11","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7fad707bf4277772d3f1"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":8.8199396},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:05:20","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0990913},{"timestamp":"2022-05-28 00:05:20","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0989163}],"redis":[{"timestamp":"2022-05-28 00:05:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0457979},{"timestamp":"2022-05-28 00:05:20","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0455679}],"success":true,"cost_seconds":8.8199396}}
{"level":"info","time":"2022-05-28 00:05:37","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":2.8785334000000002,"trace_id":"c8a517a263e5dfe77f18","trace_info":{"trace_id":"c8a517a263e5dfe77f18","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin rB45eTh55s2rnUfPox0Q/7OkpBuC5SQNbo2vdLvuDgI=","Authorization-Date":"2022-05-28 00:05:34","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c8a517a263e5dfe77f18"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":2.8785334000000002},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:05:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0977517},{"timestamp":"2022-05-28 00:05:37","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0967439}],"redis":[{"timestamp":"2022-05-28 00:05:36","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.044756},{"timestamp":"2022-05-28 00:05:37","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0459873}],"success":true,"cost_seconds":2.8785334000000002}}
{"level":"info","time":"2022-05-28 00:21:46","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3177636,"trace_id":"ed611cf65b6ac89c594e","trace_info":{"trace_id":"ed611cf65b6ac89c594e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 8w6BaT5NzUkXJhhEsTQ/DC3YxkXqZBGhlDmGTCT03KY=","Authorization-Date":"2022-05-28 00:21:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ed611cf65b6ac89c594e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3177636},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:21:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0976265}],"redis":[{"timestamp":"2022-05-28 00:21:45","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0421342},{"timestamp":"2022-05-28 00:21:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0893894}],"success":true,"cost_seconds":0.3177636}}
{"level":"info","time":"2022-05-28 00:21:46","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4621683,"trace_id":"7a51b721bfd4b7e3a0b3","trace_info":{"trace_id":"7a51b721bfd4b7e3a0b3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin Y6fJ1f+KkJYt/vYTFcXYwHX5sgAYOOWkfCAjdb8MDGI=","Authorization-Date":"2022-05-28 00:21:45","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7a51b721bfd4b7e3a0b3"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4621683},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:21:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0974918},{"timestamp":"2022-05-28 00:21:46","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0971063}],"redis":[{"timestamp":"2022-05-28 00:21:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0447604},{"timestamp":"2022-05-28 00:21:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0449931}],"success":true,"cost_seconds":0.4621683}}
{"level":"info","time":"2022-05-28 00:21:52","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4189823,"trace_id":"b856a9cea6a8811755aa","trace_info":{"trace_id":"b856a9cea6a8811755aa","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin gmqREDHYteqEFyRG2UaFRKvCssUshXSjwy6W20VhGRE=","Authorization-Date":"2022-05-28 00:21:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b856a9cea6a8811755aa"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4189823},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:21:52","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0976347},{"timestamp":"2022-05-28 00:21:52","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0967204}],"redis":[{"timestamp":"2022-05-28 00:21:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0440288},{"timestamp":"2022-05-28 00:21:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0447471}],"success":true,"cost_seconds":0.4189823}}
{"level":"info","time":"2022-05-28 00:22:02","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3199645,"trace_id":"72f1189e350957f9fe08","trace_info":{"trace_id":"72f1189e350957f9fe08","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 4J+CEpB3DQZjHKb2PlaMnVCD55NZI7jInfQbkgXN5q0=","Authorization-Date":"2022-05-28 00:22:02","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["72f1189e350957f9fe08"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3199645},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:22:02","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0979736}],"redis":[{"timestamp":"2022-05-28 00:22:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0439916},{"timestamp":"2022-05-28 00:22:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0450376}],"success":true,"cost_seconds":0.3199645}}
{"level":"info","time":"2022-05-28 00:22:03","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5053894,"trace_id":"975d8560b81edb6fdac8","trace_info":{"trace_id":"975d8560b81edb6fdac8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin aBsntP84u4xFQox93MhuuiFgCQuZ2GdO8Es5YxaIJNw=","Authorization-Date":"2022-05-28 00:22:02","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["975d8560b81edb6fdac8"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5053894},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:22:03","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0976408},{"timestamp":"2022-05-28 00:22:03","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0971869}],"redis":[{"timestamp":"2022-05-28 00:22:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0450091},{"timestamp":"2022-05-28 00:22:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0448282}],"success":true,"cost_seconds":0.5053894}}
{"level":"info","time":"2022-05-28 00:22:03","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.3192474,"trace_id":"c9bf4ebab19b27cb0984","trace_info":{"trace_id":"c9bf4ebab19b27cb0984","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin B7D366A4bLsndEnUP8pzpecg2oUsdr7nojlekAZGkKM=","Authorization-Date":"2022-05-28 00:22:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c9bf4ebab19b27cb0984"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":-1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.3192474},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:22:03","stack":"D:/project/golang/dq-bot/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":24,"cost_seconds":0.0978601}],"redis":[{"timestamp":"2022-05-28 00:22:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0440613},{"timestamp":"2022-05-28 00:22:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0440548}],"success":true,"cost_seconds":0.3192474}}
{"level":"info","time":"2022-05-28 00:22:06","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.5071977,"trace_id":"bee6f88e447bb0102840","trace_info":{"trace_id":"bee6f88e447bb0102840","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin C0smqnK9lhjFeN4yhnD3Ncn1ulN+qDDjQ9CUTdWr+IE=","Authorization-Date":"2022-05-28 00:22:06","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bee6f88e447bb0102840"],"Vary":["Origin"]},"body":{"list":[{"id":5,"hashid":"ly0Q6Yxwvrm8","username":"admin2","nickname":"ddd","mobile":"13471687661","is_used":1,"is_online":-1,"created_at":"2022-05-25 16:30:13","created_user":"admin","updated_at":"2022-05-25 16:30:13","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.5071977},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:22:06","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0980746},{"timestamp":"2022-05-28 00:22:06","stack":"D:/project/golang/dq-bot/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0969471}],"redis":[{"timestamp":"2022-05-28 00:22:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0440294},{"timestamp":"2022-05-28 00:22:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0445925}],"success":true,"cost_seconds":0.5071977}}
{"level":"info","time":"2022-05-28 00:22:09","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.4174489,"trace_id":"2f9b70e027bf18f33ef6","trace_info":{"trace_id":"2f9b70e027bf18f33ef6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin 5p1+wC8s/ZYaRz9Li36RkjdpqErjv9FJAFwnShjWJKY=","Authorization-Date":"2022-05-28 00:22:08","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2f9b70e027bf18f33ef6"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.4174489},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:22:09","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.098903},{"timestamp":"2022-05-28 00:22:09","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0967554}],"redis":[{"timestamp":"2022-05-28 00:22:09","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0437833},{"timestamp":"2022-05-28 00:22:09","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0450511}],"success":true,"cost_seconds":0.4174489}}
{"level":"info","time":"2022-05-28 00:22:19","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.416268,"trace_id":"78d3e9b51236c4556137","trace_info":{"trace_id":"78d3e9b51236c4556137","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin vFabSz2rbl2VFjrBo9IfsbB8u2iv5Ym1CVjBHuzXNOo=","Authorization-Date":"2022-05-28 00:22:19","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["78d3e9b51236c4556137"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","business_key":"22","business_secret":"d7b7ac5ae3dae02172e9","business_developer":"3232","remark":"32","is_used":1,"created_at":"2022-05-25 16:30:01","created_user":"admin","updated_at":"2022-05-25 16:30:01","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-23 10:37:07","created_user":"init","updated_at":"2022-05-23 10:37:07","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.416268},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-28 00:22:19","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0970026},{"timestamp":"2022-05-28 00:22:19","stack":"D:/project/golang/dq-bot/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0965888}],"redis":[{"timestamp":"2022-05-28 00:22:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0449787},{"timestamp":"2022-05-28 00:22:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0440932}],"success":true,"cost_seconds":0.416268}}
{"level":"info","time":"2022-05-28 00:24:03","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/config/email","http_code":400,"business_code":10117,"success":false,"cost_seconds":0.8228831,"trace_id":"b634f71d7626560e672b","trace_info":{"trace_id":"b634f71d7626560e672b","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/config/email","header":{"Authorization":"admin YwDhkOVZ7mFutQFZTlt3lwzK4okiHaelaejtYrvJ2XM=","Authorization-Date":"2022-05-28 00:24:02","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"host=smtp.139.com&port=465&user=13471687661%40139.com&pass=qq520520&to=1778871523%40qq.com"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b634f71d7626560e672b"],"Vary":["Origin"]},"body":null,"business_code":10117,"business_code_msg":"发送邮件失败454 Authentication failed(WRONG_PASSWORD_ERR)","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.8228831},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-28 00:24:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0456135},{"timestamp":"2022-05-28 00:24:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0455203}],"success":false,"cost_seconds":0.8228831},"error":"454 Authentication failed(WRONG_PASSWORD_ERR)","errorVerbose":"454 Authentication failed(WRONG_PASSWORD_ERR)\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/project/golang/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/config.(*handler).Email.func1\n\tD:/project/golang/dq-bot/internal/api/config/func_email.go:70\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-28 00:24:13","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/config/email","http_code":400,"business_code":10117,"success":false,"cost_seconds":0.5211027,"trace_id":"7849888509e3a11f271d","trace_info":{"trace_id":"7849888509e3a11f271d","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/config/email","header":{"Authorization":"admin WMag756PZiP6rWSSDJEY1aX4Ca7NbP9V6Clrt9ofyUA=","Authorization-Date":"2022-05-28 00:24:13","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"host=smtp.139.com&port=465&user=13471687661%40139.com&pass=zhangdi2019&to=1778871523%40qq.com"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7849888509e3a11f271d"],"Vary":["Origin"]},"body":null,"business_code":10117,"business_code_msg":"发送邮件失败454 Authentication failed(WRONG_PASSWORD_ERR)","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.5211027},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-28 00:24:13","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0453327},{"timestamp":"2022-05-28 00:24:13","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0456357}],"success":false,"cost_seconds":0.5211027},"error":"454 Authentication failed(WRONG_PASSWORD_ERR)","errorVerbose":"454 Authentication failed(WRONG_PASSWORD_ERR)\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/project/golang/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/config.(*handler).Email.func1\n\tD:/project/golang/dq-bot/internal/api/config/func_email.go:70\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-28 00:24:23","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/config/email","http_code":400,"business_code":10117,"success":false,"cost_seconds":0.5228216,"trace_id":"6e7df43b4fc37b353790","trace_info":{"trace_id":"6e7df43b4fc37b353790","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/config/email","header":{"Authorization":"admin tdWJdbnDitnc/RxMVuME/cQ59zePXyPCQGAyFUcZBUM=","Authorization-Date":"2022-05-28 00:24:22","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"host=smtp.139.com&port=465&user=13471687661%40139.com&pass=%40qq520520&to=1778871523%40qq.com"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6e7df43b4fc37b353790"],"Vary":["Origin"]},"body":null,"business_code":10117,"business_code_msg":"发送邮件失败454 Authentication failed(WRONG_PASSWORD_ERR)","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.5228216},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-28 00:24:22","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0461157},{"timestamp":"2022-05-28 00:24:23","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0457688}],"success":false,"cost_seconds":0.5228216},"error":"454 Authentication failed(WRONG_PASSWORD_ERR)","errorVerbose":"454 Authentication failed(WRONG_PASSWORD_ERR)\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*businessError).WithError\n\tD:/project/golang/dq-bot/internal/pkg/core/error.go:55\ngithub.com/zhangdi168/dq-bot/internal/api/config.(*handler).Email.func1\n\tD:/project/golang/dq-bot/internal/api/config/func_email.go:70\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.wrapHandlers.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:211\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func3\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:542\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func2\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:524\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.New.func1\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:328\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/zhangdi/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/zhangdi168/dq-bot/internal/pkg/core.(*mux).ServeHTTP\n\tD:/project/golang/dq-bot/internal/pkg/core/core.go:231\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:1929\nruntime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-28 00:25:05","caller":"core/core.go:510","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/config/email","http_code":200,"business_code":0,"success":true,"cost_seconds":0.7639206,"trace_id":"453da98eafe8c276e55b","trace_info":{"trace_id":"453da98eafe8c276e55b","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/config/email","header":{"Authorization":"admin 7k/BZRP4kYDMkfJDv8kuoN+3eN4aK38Q+FL9TnnCcTo=","Authorization-Date":"2022-05-28 00:25:04","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"host=smtp.139.com&port=465&user=13471687661%40139.com&pass=%40zhangdi2019&to=1778871523%40qq.com"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["453da98eafe8c276e55b"],"Vary":["Origin"]},"body":{"email":"1778871523@qq.com"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.7639206},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-28 00:25:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0459336},{"timestamp":"2022-05-28 00:25:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0454484}],"success":true,"cost_seconds":0.7639206}}
